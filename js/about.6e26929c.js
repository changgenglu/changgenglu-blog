"use strict";(self["webpackChunkchanggenglu_blog"]=self["webpackChunkchanggenglu_blog"]||[]).push([[594],{1667:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var o=n(641),s=n(33),i=n(3751);const a=e=>((0,o.Qi)("data-v-fc69a20a"),e=e(),(0,o.jt)(),e),r={class:"container-lg py-5",ref:"container"},c={key:0,class:"text-center my-5 py-5"},l=a((()=>(0,o.Lk)("div",{class:"cyber-spinner"},null,-1))),d=a((()=>(0,o.Lk)("p",{class:"mt-3 text-cyan font-mono"},"LOADING ARTICLE...",-1))),u=[l,d],h={key:1,class:"card card-glass border-danger text-center my-5 p-5",role:"alert"},m={class:"text-danger mb-4"},w={id:"toggle-menu-btn",class:"mb-4"},k=a((()=>(0,o.Lk)("i",{class:"fa-solid fa-bars me-2"},null,-1))),p={class:"row g-4"},f={class:"card card-glass sticky-top toc-container p-3"},b=a((()=>(0,o.Lk)("h6",{class:"text-cyan font-mono mb-3 px-2"},"CONTENTS",-1))),g={class:"card card-glass markdown-wrapper p-4 p-md-5"},v={class:"d-flex justify-content-between align-items-center mb-4"},y={class:"text-light m-0"},M=a((()=>(0,o.Lk)("i",{class:"fa-regular fa-copy me-1"},null,-1)));function L(e,t,n,a,l,d){const L=(0,o.g2)("router-link"),C=(0,o.g2)("Markdown"),T=(0,o.g2)("scroll-to-top-button");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",r,[l.isLoading?((0,o.uX)(),(0,o.CE)("div",c,u)):l.error?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("h3",m,(0,s.v_)(l.error),1),(0,o.Lk)("div",null,[(0,o.bF)(L,{to:"/",class:"btn btn-outline-cyan"},{default:(0,o.k6)((()=>[(0,o.eW)("回首頁")])),_:1})])])):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.bo)((0,o.Lk)("div",w,[(0,o.Lk)("button",{class:"btn btn-glass-cyan w-100",onClick:t[0]||(t[0]=(...e)=>d.toggleMenu&&d.toggleMenu(...e))},[k,(0,o.eW)(" 目錄 ")])],512),[[i.aG,l.isMobile&&""!==l.markdownMenu]]),(0,o.Lk)("div",p,[(0,o.bo)((0,o.Lk)("div",{class:(0,s.C4)({"col-md-3":!l.isMobile,"col-12":l.isMobile})},[(0,o.Lk)("div",f,[b,(0,o.bF)(C,{id:"menu",source:l.markdownMenu},null,8,["source"])])],2),[[i.aG,l.showMenu&&l.markdownMenu]]),(0,o.Lk)("div",{class:(0,s.C4)(["col",{"col-md-9":l.markdownMenu&&!l.isMobile,"col-12":!l.markdownMenu||l.isMobile}])},[(0,o.Lk)("div",g,[(0,o.Lk)("div",v,[(0,o.Lk)("h2",y,(0,s.v_)(l.fileName.replace(".md","")),1),(0,o.Lk)("button",{class:"btn btn-outline-cyan btn-sm",onClick:t[1]||(t[1]=(...e)=>d.copyArticle&&d.copyArticle(...e)),title:"複製文章 Markdown"},[M,(0,o.eW)(" 複製文章 ")])]),(0,o.bF)(C,{class:"markdown-content",source:l.markdownContent,onRendered:d.addCopyButtons},null,8,["source","onRendered"])])],2)])],64))],512),(0,o.bo)((0,o.bF)(T,null,null,512),[[i.aG,l.isMobile]])],64)}const C=(0,o.Lk)("i",{class:"fa fa-arrow-up"},null,-1),T=[C];function x(e,t,n,s,i,a){return i.showButton?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"scroll-to-top-button",onClick:t[0]||(t[0]=(...e)=>a.scrollToTop&&a.scrollToTop(...e))},T)):(0,o.Q3)("",!0)}var E={data(){return{showButton:!1}},methods:{handleScroll(){const e=window.innerHeight,t=70,n=30;this.showButton=window.scrollY>e-t-n},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},N=n(6262);const S=(0,N.A)(E,[["render",x]]);var A=S,F=n(7758),B=n.n(F);function D(e){const t=/<!--\s*TOC\s*-->([\s\S]*?)<!--\s*\/TOC\s*-->/i,n=e.match(t);if(n){const o=n[1].trim(),s=e.replace(t,"").trim();return{content:s,tocContent:o}}return{content:e,tocContent:""}}var _=n(7593),$={components:{Markdown:B(),ScrollToTopButton:A},name:"MarkdownComponent",data(){return{markdownContent:"",markdownMenu:"",fileName:this.$route.params.title,showMenu:!1,isMobile:!1,isLoading:!1,error:null}},watch:{markdownContent(){this.$nextTick((()=>{this.addCopyButtons()}))}},methods:{async loadMarkdown(){if(this.isLoading=!0,this.error=null,!this.fileName||"undefined"===this.fileName||"null"===this.fileName)return this.error="無法找到此文章 (Invalid Filename)",void(this.isLoading=!1);try{const e=_.find((e=>e.name===this.fileName||e.path===this.fileName));let t=this.fileName;e&&e.path&&(t=e.path);const n=(new Date).getTime(),o=t.split("/").map((e=>encodeURIComponent(e))).join("/"),s=`/changgenglu-blog/markdownFiles/${o}?v=${n}`,i=await fetch(s);if(!i.ok)throw new Error(`HTTP ${i.status}`);const a=await i.text(),{content:r,tocContent:c}=D(a);this.markdownMenu=c||"",this.markdownContent=r,this.showMenu=!!c}catch(e){this.error="文章載入失敗，請稍後再試。"}finally{this.isLoading=!1,this.checkDevice()}},async copyArticle(){try{await navigator.clipboard.writeText(this.markdownContent),alert("文章已複製到剪貼簿！")}catch(e){}},addCopyButtons(){const e=this.$refs.container;if(!e)return;const t=e.querySelectorAll("pre");t.forEach((e=>{if(e.querySelector(".btn-copy-code"))return;const t=document.createElement("button");t.className="btn-copy-code",t.innerHTML='<i class="fa-regular fa-copy"></i>',t.title="複製程式碼",t.addEventListener("click",(async()=>{const n=e.querySelector("code");if(!n)return;const o=n.innerText||n.textContent;try{await navigator.clipboard.writeText(o),t.innerHTML='<i class="fa-solid fa-check text-success"></i>',setTimeout((()=>{t.innerHTML='<i class="fa-regular fa-copy"></i>'}),2e3)}catch(s){}})),e.style.position="relative",e.appendChild(t)}))},toggleMenu(){this.showMenu=!this.showMenu},checkDevice(){this.isMobile=window.innerWidth<=768,this.isMobile?this.showMenu=!1:this.showMenu=!!this.markdownMenu}},mounted(){this.loadMarkdown(),this.checkDevice(),window.addEventListener("resize",this.checkDevice)},unmounted(){window.removeEventListener("resize",this.checkDevice)}};const H=(0,N.A)($,[["render",L],["__scopeId","data-v-fc69a20a"]]);var I=H}}]);
//# sourceMappingURL=about.6e26929c.js.map