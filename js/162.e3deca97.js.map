{"version":3,"file":"js/162.e3deca97.js","mappings":"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","sources":["webpack://changgenglu-blog/./src/views/CategoryListView.vue","webpack://changgenglu-blog/./src/views/CategoryListView.vue?ddfe"],"sourcesContent":["<template>\n  <div class=\"container-lg\">\n    <div class=\"search-section mb-5\">\n      <SearchInput v-model:modelValue=\"searchText\" @search=\"handleSearch\" placeholder=\"在此分類中搜尋...\" ></SearchInput>\n    </div>\n    <h2 class=\"text-center my-4 text-light\">{{ categoryName }}</h2>\n    <div class=\"row\">\n      <div v-for=\"(item, index) in markdownCards\" :key=\"index\" :class=\"{ 'col-6': !isMobile }\">\n        <ArticleCard :item=\"item\" :isMobile=\"isMobile\" />\n      </div>\n      <div v-show=\"files.length === 0\">\n        <div class=\"h2 text-center m-5 text-light\">\n          查無資料\n        </div>\n      </div>\n    </div>\n    <!-- pagination -->\n     <ul class=\"pagination\" v-show=\"files.length !== 0 && paginationPageNum.length !== 1\">\n      <li class=\"page-item\" @click.prevent=\"setPage(currentPage - 1)\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li class=\"page-item\" :class=\"{ 'active': (currentPage === (n)) }\" v-for=\"(n, index) in paginationPageNum\"\n        :key=\"index\" @click.prevent=\"setPage(n)\">\n        <a class=\"page-link\" href=\"#\">{{ n }}</a>\n      </li>\n      <li class=\"page-item\" @click.prevent=\"setPage(currentPage + 1)\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n    \n    <div class=\"text-center mt-4 mb-5\">\n        <router-link to=\"/\" class=\"btn btn-outline-light\">回分類首頁</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AllMyArticle from '../assets/fileNames.json';\nimport ArticleCard from '@/components/ArticleCard.vue';\nimport SearchInput from '@/components/SearchInput.vue'; // New import\n\nexport default {\n  name: 'CategoryListView',\n  components: { ArticleCard, SearchInput }, // Updated components\n  data() {\n    return {\n      files: [],\n      CardNum: 6,\n      currentPage: 1,\n      isMobile: false,\n      paginationLength: 5,\n      categoryName: this.$route.params.categoryName,\n      searchText: '' // New data property\n    }\n  },\n  computed: {\n    paginationPageNum() {\n      let pageCount = [];\n      let totalPage = this.totalPage;\n      const paginationLength = this.paginationLength;\n\n      if (totalPage <= paginationLength) { // If total pages is small, show all pages\n        for (let i = 1; i <= totalPage; i++) {\n          pageCount.push(i);\n        }\n      } else { // Otherwise, calculate a window\n        let startPage = Math.max(1, this.currentPage - Math.floor(paginationLength / 2));\n        let endPage = startPage + paginationLength - 1;\n\n        if (endPage > totalPage) { // Adjust if window goes beyond total pages\n          endPage = totalPage;\n          startPage = Math.max(1, endPage - paginationLength + 1);\n        }\n\n        for (let i = startPage; i <= endPage; i++) {\n          pageCount.push(i);\n        }\n      }\n      return pageCount; // No need for filter(i => i > 0) with this logic\n    },\n    totalPage() {\n      return Math.ceil(this.files.length / this.CardNum)\n    },\n    pageStart() {\n      return (this.currentPage - 1) * this.CardNum\n    },\n    pageEnd() {\n      return this.currentPage * this.CardNum\n    },\n    markdownCards() {\n      return this.files.slice(this.pageStart, this.pageEnd);\n    }\n  },\n  methods: {\n    checkDevice() {\n        this.isMobile = window.innerWidth < 768;\n    },\n    handleSearch(query) {\n      // 導向 HomeView 並帶入搜尋參數\n      this.$router.push({ \n        name: 'home', \n        query: { q: query } \n      });\n    },\n    getFilesInCategory() {\n      this.files = AllMyArticle\n        .filter(item => item.category === this.categoryName)\n        .map(item => ({\n          date: item.date,\n          name: item.name,\n          matchingLines: item.matchingLines,\n          category: item.category,\n          path: item.path // Ensure path is included\n        }));\n    },\n    setPage(page) {\n      if (page <= 0 || page > this.totalPage) { return }\n      this.currentPage = page\n    }\n  },\n  mounted() {\n    this.getFilesInCategory();\n    this.checkDevice();\n    window.addEventListener('resize', this.checkDevice);\n  },\n  unmounted() {\n    window.removeEventListener('resize', this.checkDevice);\n  }\n}\n</script>\n\n<style scoped>\n.pagination {\n  padding: 0;\n  justify-content: center;\n  --bs-pagination-color: rgb(116, 116, 116);\n  --bs-pagination-hover-color: white;\n  --bs-pagination-focus-color: white;\n  --bs-pagination-bg: none;\n  --bs-pagination-border-color: none;\n  --bs-pagination-hover-bg: none;\n  --bs-pagination-active-color: #fff;\n  --bs-pagination-focus-color: none;\n  --bs-pagination-focus-bg: none;\n  --bs-pagination-focus-box-shadow: none;\n  --bs-pagination-active-bg: none;\n}\n</style>\n","import { render } from \"./CategoryListView.vue?vue&type=template&id=3a2a1038&scoped=true\"\nimport script from \"./CategoryListView.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryListView.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryListView.vue?vue&type=style&index=0&id=3a2a1038&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3a2a1038\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","href","_hoisted_8","_hoisted_12","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_SearchInput","modelValue","$data","searchText","_cache","$event","onSearch","$options","handleSearch","placeholder","_hoisted_3","_toDisplayString","categoryName","_hoisted_4","_Fragment","_renderList","markdownCards","item","index","key","_normalizeClass","isMobile","_component_ArticleCard","_hoisted_6","files","length","_hoisted_7","onClick","_withModifiers","setPage","currentPage","_hoisted_9","paginationPageNum","n","_hoisted_11","_hoisted_10","_hoisted_13","_hoisted_14","_component_router_link","to","default","_withCtx","_createTextVNode","_","name","components","ArticleCard","SearchInput","data","CardNum","paginationLength","this","$route","params","computed","pageCount","totalPage","i","push","startPage","Math","max","floor","endPage","ceil","pageStart","pageEnd","slice","methods","checkDevice","window","innerWidth","query","$router","q","getFilesInCategory","AllMyArticle","filter","category","map","date","matchingLines","path","page","mounted","addEventListener","unmounted","removeEventListener","__exports__","render"],"sourceRoot":""}