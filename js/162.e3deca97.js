"use strict";(self["webpackChunkchanggenglu_blog"]=self["webpackChunkchanggenglu_blog"]||[]).push([[162],{3162:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var i=a(641),n=a(33),r=a(3751);const s=e=>((0,i.Qi)("data-v-3a2a1038"),e=e(),(0,i.jt)(),e),l={class:"container-lg"},c={class:"search-section mb-5"},h={class:"text-center my-4 text-light"},o={class:"row"},g=s((()=>(0,i.Lk)("div",{class:"h2 text-center m-5 text-light"}," 查無資料 ",-1))),u=[g],d={class:"pagination"},m=s((()=>(0,i.Lk)("a",{class:"page-link",href:"#","aria-label":"Previous"},[(0,i.Lk)("span",{"aria-hidden":"true"},"«")],-1))),p=[m],k=["onClick"],v={class:"page-link",href:"#"},C=s((()=>(0,i.Lk)("a",{class:"page-link",href:"#","aria-label":"Next"},[(0,i.Lk)("span",{"aria-hidden":"true"},"»")],-1))),b=[C],f={class:"text-center mt-4 mb-5"};function L(e,t,a,s,g,m){const C=(0,i.g2)("SearchInput"),L=(0,i.g2)("ArticleCard"),P=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",c,[(0,i.bF)(C,{modelValue:g.searchText,"onUpdate:modelValue":t[0]||(t[0]=e=>g.searchText=e),onSearch:m.handleSearch,placeholder:"在此分類中搜尋..."},null,8,["modelValue","onSearch"])]),(0,i.Lk)("h2",h,(0,n.v_)(g.categoryName),1),(0,i.Lk)("div",o,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.markdownCards,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,n.C4)({"col-6":!g.isMobile})},[(0,i.bF)(L,{item:e,isMobile:g.isMobile},null,8,["item","isMobile"])],2)))),128)),(0,i.bo)((0,i.Lk)("div",null,u,512),[[r.aG,0===g.files.length]])]),(0,i.bo)((0,i.Lk)("ul",d,[(0,i.Lk)("li",{class:"page-item",onClick:t[1]||(t[1]=(0,r.D$)((e=>m.setPage(g.currentPage-1)),["prevent"]))},p),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.paginationPageNum,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{class:(0,n.C4)(["page-item",{active:g.currentPage===e}]),key:t,onClick:(0,r.D$)((t=>m.setPage(e)),["prevent"])},[(0,i.Lk)("a",v,(0,n.v_)(e),1)],10,k)))),128)),(0,i.Lk)("li",{class:"page-item",onClick:t[2]||(t[2]=(0,r.D$)((e=>m.setPage(g.currentPage+1)),["prevent"]))},b)],512),[[r.aG,0!==g.files.length&&1!==m.paginationPageNum.length]]),(0,i.Lk)("div",f,[(0,i.bF)(P,{to:"/",class:"btn btn-outline-light"},{default:(0,i.k6)((()=>[(0,i.eW)("回分類首頁")])),_:1})])])}a(4114);var P=a(7593),y=a(5477),w=a(7095),N={name:"CategoryListView",components:{ArticleCard:y.A,SearchInput:w.A},data(){return{files:[],CardNum:6,currentPage:1,isMobile:!1,paginationLength:5,categoryName:this.$route.params.categoryName,searchText:""}},computed:{paginationPageNum(){let e=[],t=this.totalPage;const a=this.paginationLength;if(t<=a)for(let i=1;i<=t;i++)e.push(i);else{let i=Math.max(1,this.currentPage-Math.floor(a/2)),n=i+a-1;n>t&&(n=t,i=Math.max(1,n-a+1));for(let t=i;t<=n;t++)e.push(t)}return e},totalPage(){return Math.ceil(this.files.length/this.CardNum)},pageStart(){return(this.currentPage-1)*this.CardNum},pageEnd(){return this.currentPage*this.CardNum},markdownCards(){return this.files.slice(this.pageStart,this.pageEnd)}},methods:{checkDevice(){this.isMobile=window.innerWidth<768},handleSearch(e){this.$router.push({name:"home",query:{q:e}})},getFilesInCategory(){this.files=P.filter((e=>e.category===this.categoryName)).map((e=>({date:e.date,name:e.name,matchingLines:e.matchingLines,category:e.category,path:e.path})))},setPage(e){e<=0||e>this.totalPage||(this.currentPage=e)}},mounted(){this.getFilesInCategory(),this.checkDevice(),window.addEventListener("resize",this.checkDevice)},unmounted(){window.removeEventListener("resize",this.checkDevice)}},x=a(6262);const M=(0,x.A)(N,[["render",L],["__scopeId","data-v-3a2a1038"]]);var E=M}}]);
//# sourceMappingURL=162.e3deca97.js.map