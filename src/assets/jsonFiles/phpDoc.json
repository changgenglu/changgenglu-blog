{"name":"phpDoc.md","content":"# phpDoc\n\n[自動編寫程式](https://github.com/barryvdh/laravel-ide-helper)\n\n## 通用註解寫法\n\n### 註解範例（普通程式文件，類別文件，函數文件，變量定義文件）\n\n```php\n/**\n * XXXXX的文件\n *\n * 功能1： xxx\n * 功能2： xxx\n *\n * @file        $https://github.com/changgenglu/note/blob/master/phpDoc.md  $\n * @package     core\n * @author      Ivan <eatbreakfast2012@gmail.com>\n * @version     V1.0.0\n * @link        https://github.com/changgenglu/note/blob/master/phpDoc.md\n */\n```\n\n- `@file` 檔案位置：\n\n- `@version` 版本：\n\n- `@package` 是團隊事先定義好的，在 phpdocumentor 里同一 package 的文件可以給出跟蹤的鏈接。項目開發前需要對其定義。\n\n- `@link` 行後面接的地址是程式開發文檔的地址\n\n> 說明：以上自動更新版本及文件名需要設定 SVN，具體請自行搜尋 _'SVN 自動版本號'_\n\n### 類別註解，使用如下幾個 tag\n\n```php\n/**\n * xxxxx類\n *\n * 功能1：完成xxxx\n * 功能2：完成xxxxx\n *\n * @author      Ivan <eatbreakfast2012@gmail.com>\n * @access      public\n * @abstract\n */\npublic class DemoClass {\n //code...\n}\n```\n\n- `@access` (`public`|`private`) 標記類是私有的還是公用的。\n- `@abstract`標記該類是個抽象類\n\n### 類別屬性宣告註解\n\n```php\npublic class DemoClass {\n\n   /**\n    * 當前頁碼\n    *\n    * @var integer\n    */\n    public $currentPageNumber;\n\n   /**\n    * 私有變量使用下劃線開頭\n    *\n    * @var string\n    */\n    private $_instance;\n}\n```\n\n### 普通函數和類別中的函數註解\n\n```php\n/**\n * 獲得頭貼地址\n *\n * @author Ivan <eatbreakfast2012@gmail.com>\n *\n * @param string  $imageName  圖片檔案名\n * @param integer $size     檔案大小\n *\n * @return string\n */\nfunction getAvatarUrl($imageName, $size = 80)\n{\n    return sprintf(SITE_URL . '/service/images/cropped_%s/'.$imageName, $size);\n}\n\n```\n\n順序按照 author、param、return 來放，**區塊間空行**。\n\n### 程式段落註解\n\n段落註解和邏輯註解使用如下方式\n\n```php\n/**\n * 1 如果$_GET['do']等於buy,則購買條碼\n */\nif($_GET['do'] == 'buy')\n{\n    // 1.1 驗證用戶提交變量是否合法\n    if($_POST['strCodeNum'])\n    {\n\n    }\n    // 1.2 驗證用戶提交的碼是否可以購買\n    // 1.3 ..................\n} // end if\n\n/**\n * 2 如果$_GET['do']等於list,顯示用戶選擇的條碼\n */\nif($_GET['do'] == 'list')\n{\n    // 2.1 驗證用戶提交變量是否合法\n    if($_POST['strCodeNum'])\n    {\n\n    }\n    // 2.2 驗證用戶提交的碼是否可以購買\n\n    // 2.3 ..................\n} // end if\n```\n\n## PHPdoc 規範\n\n[WIKI 上的 PHPDoc](http://en.wikipedia.org/wiki/Phpdoc)\n\n| 標記        | 用途                              | 描述                                                                     |\n| ----------- | --------------------------------- | ------------------------------------------------------------------------ |\n| @abstract   |                                   | 抽象類的變量和方法                                                       |\n| @access     | public, private or protected      | 文檔的訪問、使用權限. @access private 表明這個文檔是被保護的。           |\n| @author     | Ivan <eatbreakfast2012@gmail.com> | 文檔作者                                                                 |\n| @copyright  | 名稱 時間                         | 文檔版權信息                                                             |\n| @deprecated | version                           | 文檔中被廢除的方法                                                       |\n| @deprec     |                                   | 同 @deprecated                                                           |\n| @example    | /path/to/example                  | 文檔的外部保存的示例文件的位置。                                         |\n| @exception  |                                   | 文檔中方法拋出的異常，也可參照 @throws.                                  |\n| @global     | 類型：$globalvarname              | 文檔中的全局變量及有關的方法和函數                                       |\n| @ignore     |                                   | 忽略文檔中指定的關鍵字                                                   |\n| @internal   |                                   | 開發團隊內部信息                                                         |\n| @link       | URL                               | 類似於 license 但還可以通過 link 找到文檔中的更多個詳細的信息            |\n| @name       | 變量別名                          | 為某個變量指定別名                                                       |\n| @magic      |                                   | phpdoc.de compatibility                                                  |\n| @package    | 封裝包的名稱                      | 一組相關類、函數封裝的包名稱                                             |\n| @param      | 如 $username 用戶名               | 變量含義註解                                                             |\n| @return     | 如 返回 bool                      | 函數返回結果描述，一般不用在 void（空返回結果的）的函數中                |\n| @see        | 如 Class Login()                  | 文件關聯的任何元素（全局變量，包括，頁面，類，函數，定義，方法，變量）。 |\n| @since      | version                           | 記錄什麽時候對文檔的哪些部分進行了更改                                   |\n| @static     |                                   | 記錄靜態類、方法                                                         |\n| @staticvar  |                                   | 在類、函數中使用的靜態變量                                               |\n| @subpackage |                                   | 子版本                                                                   |\n| @throws     |                                   | 某一方法拋出的異常                                                       |\n| @todo       |                                   | 表示文件未完成或者要完善的地方                                           |\n| @var        | type                              | 文檔中的變量及其類型                                                     |\n| @version    |                                   | 文檔、類、函數的版本信息                                                 |\n\nPHPDoc 註解實例：\n\n```php\n<?php\n /**\n  * start page for webaccess\n  *\n  * PHP version 5\n  *\n  * @category  PHP\n  * @package   PSI_Web\n  * @author    Michael Cramer <BigMichi1@users.sourceforge.net>\n  * @copyright 2009 phpSysInfo\n  * @license   http://opensource.org/licenses/gpl-2.0.php GNU General Public License\n  * @version   SVN: $Id: class.Webpage.inc.php 412 2010-12-29 09:45:53Z Jacky672 $\n  * @link      http://phpsysinfo.sourceforge.net\n  */\n  /**\n  * generate the dynamic webpage\n  *\n  * @category  PHP\n  * @package   PSI_Web\n  * @author    Michael Cramer <BigMichi1@users.sourceforge.net>\n  * @copyright 2009 phpSysInfo\n  * @license   http://opensource.org/licenses/gpl-2.0.php GNU General Public License\n  * @version   Release: 3.0\n  * @link      http://phpsysinfo.sourceforge.net\n  */\n class Webpage extends Output implements PSI_Interface_Output\n {\n     /**\n      * configured language\n      *\n      * @var String\n      */\n     private $_language;\n\n     /**\n      * configured template\n      *\n      * @var String\n      */\n     private $_template;\n\n     /**\n      * all available templates\n      *\n      * @var Array\n      */\n     private $_templates = array();\n\n     /**\n      * all available languages\n      *\n      * @var Array\n      */\n     private $_languages = array();\n\n     /**\n      * check for all extensions that are needed, initialize needed vars and read config.php\n      */\n     public function __construct()\n     {\n         parent::__construct();\n         $this->_getTemplateList();\n         $this->_getLanguageList();\n     }\n\n     /**\n      * checking config.php setting for template, if not supportet set phpsysinfo.css as default\n      * checking config.php setting for language, if not supported set en as default\n      *\n      * @return void\n      */\n     private function _checkTemplateLanguage()\n     {\n         $this->_template = trim(PSI_DEFAULT_TEMPLATE);\n         if (!file_exists(APP_ROOT.'/templates/'.$this->_template.\".css\")) {\n             $this->_template = 'phpsysinfo';\n         }\n\n         $this->_language = trim(PSI_DEFAULT_LANG);\n         if (!file_exists(APP_ROOT.'/language/'.$this->_language.\".xml\")) {\n             $this->_language = 'en';\n         }\n     }\n\n     /**\n      * get all available tamplates and store them in internal array\n      *\n      * @return void\n      */\n     private function _getTemplateList()\n     {\n         $dirlist = CommonFunctions::gdc(APP_ROOT.'/templates/');\n         sort($dirlist);\n         foreach ($dirlist as $file) {\n             $tpl_ext = substr($file, strlen($file) - 4);\n             $tpl_name = substr($file, 0, strlen($file) - 4);\n             if ($tpl_ext === \".css\") {\n                 array_push($this->_templates, $tpl_name);\n             }\n         }\n     }\n\n     /**\n      * get all available translations and store them in internal array\n      *\n      * @return void\n      */\n     private function _getLanguageList()\n     {\n         $dirlist = CommonFunctions::gdc(APP_ROOT.'/language/');\n         sort($dirlist);\n         foreach ($dirlist as $file) {\n             $lang_ext = substr($file, strlen($file) - 4);\n             $lang_name = substr($file, 0, strlen($file) - 4);\n             if ($lang_ext == \".xml\") {\n                 array_push($this->_languages, $lang_name);\n             }\n         }\n     }\n\n     /**\n      * render the page\n      *\n      * @return void\n      */\n     public function run()\n     {\n         $this->_checkTemplateLanguage();\n\n         $tpl = new Template(\"/templates/html/index_dynamic.html\");\n\n         $tpl->set(\"template\", $this->_template);\n         $tpl->set(\"templates\", $this->_templates);\n         $tpl->set(\"language\", $this->_language);\n         $tpl->set(\"languages\", $this->_languages);\n\n         echo $tpl->fetch();\n     }\n }\n```\n","tocContent":""}