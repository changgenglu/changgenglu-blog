{"name":"RESTful API.md","content":"# RESTful API\n\n> RESTful API 是一種設計模式\n>\n> 定義一組\"物件\"(object)，他們是可以被操作的。\n> 物件運用一組固定\"動作\"(action)簡稱(CRUD)\n>\n> - 創建(create)\n> - 刪除(delete)\n> - 更新(update)\n> - 讀取(read)\n>\n> 主流以 JSON 格式做資料傳遞\n> 基本上會包含 URL\\Object\\Action\n\n## 常用 HTTP 動詞\n\n- GET: 讀取資源(不會變動或是更改到伺服器的資訊，主要用來查資料)\n- POST: 新增資料\n- DELETE: 刪除資料\n- PUT: 替換資源\n- PATCH: 更新資源\n\n如以 Post(文章)這個物件舉例\n\n| HTTP 動詞 |      URL       |           功能           |                                       說明                                       |\n| :-------: | :------------: | :----------------------: | :------------------------------------------------------------------------------: |\n|   POST    |  api/v1/posts  |       發表一篇文章       |        如果有相同的請求送第二次，會回傳新的一筆資料，內容一樣只有 ID 不同        |\n|  DELETE   | api/v1/posts/1 |     刪除 id=1 的文章     |                 如果發送兩次請求，第二次回傳找不到資源的錯誤訊息                 |\n|    PUT    | api/v1/posts/1 |    id=1 資料整筆替換     |                  替換整筆資料，有點像舊資料的刪除，寫入新的資料                  |\n|   PATCH   | api/v1/posts/1 | 更新文件 id=1 的部分內容 | 只替代掉部分內容，內容會依照發送請求的資料作修改。如果沒有填寫的部分保留原始資料 |\n\n- 其他不符合以上類別的動作用 POST\n\n## Laravel RESTful API\n\n### 建立 controller\n\n```bash\nphp artisan make:controller Api/TestController --api\n```\n\n```php\nnamespace App\\Http\\Controllers\\Api;\n\nuse App\\Http\\Controllers\\Controller;\nuse Illuminate\\Http\\Request;\n\nclass TestController extends Controller\n{\n    public function index()\n    {\n        // 列出所有\n    }\n\n    public function store(Request $request)\n    {\n        // 建立資料\n    }\n\n    public function show($id)\n    {\n        // 顯示指定 id 的資料\n    }\n\n    public function update(Request $request, $id)\n    {\n        // 更新指定 id 的資料\n    }\n\n    public function destroy($id)\n    {\n        // 刪除指定 id 的資料\n    }\n}\n```\n\n### 加入 api\n\nroutes/api.php\n\n```php\nRoute::middleware('auth:api')->group(function () {\n    Route::apiResource('test', 'TestController');\n});\n```\n\n### URL\n\n| action |                 url                  | Controller function |\n| :----: | :----------------------------------: | :-----------------: |\n|  get   |     `{{ server-url }}/api/test`      |        index        |\n|  post  |     `{{ server-url }}/api/test`      |        store        |\n|  get   | `{{ server-url }}/api/test/{{ id }}` |        show         |\n| patch  | `{{ server-url }}/api/test/{{ id }}` |       update        |\n| delete | `{{ server-url }}/api/test/{{ id }}` |       destroy       |\n","tocContent":""}