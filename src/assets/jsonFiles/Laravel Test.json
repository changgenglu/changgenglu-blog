{"name":"Laravel Test.md","content":"# Laravel Test\n\n> Laravel é è¨­æ”¯æ´ PHPUnit ä¾†é€²è¡Œæ¸¬è©¦\n>\n> è¨­å®šæ–‡ä»¶ phpunit.xml\n>\n> åœ¨ test è³‡æ–™å¤¾ä¸­æœ‰å…©å€‹å­è³‡æ–™å¤¾\n>\n> Feature åŠŸèƒ½æ¸¬è©¦æ˜¯é‡å°å¤§é¢ç©çš„ç¨‹å¼ç¢¼é€²è¡Œæ¸¬è©¦\n>\n> Unit å–®å…ƒæ¸¬è©¦æ˜¯é‡å°å–®ä¸€æ–¹æ³•å–®ç¨é€²è¡Œæ¸¬è©¦\n\n## å•Ÿå‹•æ¸¬è©¦\n\nå»ºç«‹æ¸¬è©¦æ–‡ä»¶\n\n```bash\n// åœ¨ feature è³‡æ–™å¤¾ä¸‹å»ºç«‹ä¸€å€‹æ¸¬è©¦çš„ class\nphp artisan make:test UserTest\n\n// åœ¨ unit è³‡æ–™å¤¾åº•ä¸‹éµç«‹ä¸€å€‹æ¸¬è©¦ class\nphp artisan make:test UserTest --unit\n```\n\n```php\nnamespace Tests\\Unit;\n\nuse PHPUnit\\Framework\\TestCase;\n\nclass ExampleTest extends TestCase\n{\n    public function testBasicTest()\n    {\n        $this->assertTrue(true);\n    }\n}\n```\n\nå•Ÿå‹•æ¸¬è©¦\n\n```bash\nphp artisan test\n\n// æŒ‡å®šè¦é‹è¡Œçš„ç‰¹å®šæ¸¬è©¦é¡åˆ¥\nphp artisan test --filter ExampleTest\n\n// é‹å®šç‰¹å®šçš„æ¸¬è©¦æ–¹æ³•\nphp artisan test --filter ExampleTest::testExample\n\n// å‚³éåƒæ•¸\nphp artisan test --testsuite=Feature --stop-on-failure\n```\n\n## Laravel PHPUnit æ¸¬è©¦æŒ‡ä»¤\n\n### ğŸ”¹ 1. åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦\n\n```bash\n./vendor/bin/phpunit\n```\n\n---\n\n### ğŸ”¹ 2. åŸ·è¡Œç‰¹å®šè³‡æ–™å¤¾çš„æ¸¬è©¦\n\n```bash\n./vendor/bin/phpunit tests/Integration/AgentGameController\n```\n\n---\n\n### ğŸ”¹ 3. åŸ·è¡Œç‰¹å®šæª”æ¡ˆ\n\n```bash\n./vendor/bin/phpunit tests/Integration/AgentGameController/AgentGameControllerTest.php\n```\n\n---\n\n### ğŸ”¹ 4. åŸ·è¡Œç‰¹å®š class\n\n```bash\n./vendor/bin/phpunit --filter Tests\\\\Integration\\\\AgentGameController\\\\AgentGameControllerTest\n```\n\n---\n\n### ğŸ”¹ 5. åŸ·è¡Œç‰¹å®šæ¸¬è©¦æ–¹æ³•\n\nï¼ˆä¾‹å¦‚ `test_store_api`ï¼‰\n\n```bash\n./vendor/bin/phpunit --filter test_store_api\n```\n\næˆ–æ­é…æª”æ¡ˆï¼š\n\n```bash\n./vendor/bin/phpunit tests/Integration/AgentGameController/AgentGameControllerTest.php --filter test_store_api\n```\n\n---\n\n### ğŸ”¹ 6. é¡¯ç¤ºæ›´ä¹¾æ·¨çš„è¼¸å‡ºï¼ˆåŠ  `-testdox`ï¼‰\n\n```bash\n./vendor/bin/phpunit --testdox tests/Integration/AgentGameController\n```\n\nè¼¸å‡ºæœƒè®Šæˆæ¯”è¼ƒå¯è®€çš„æ ¼å¼ï¼Œä¾‹å¦‚ï¼š\n\n```\nAgent Game Controller\n âœ” store api\n âœ” index api\n âœ˜ update api\n```\n\n---\n\n### ğŸ”¹ 7. åªè·‘å¤±æ•—éçš„æ¸¬è©¦\n\n```bash\n./vendor/bin/phpunit --rerun\n```\n\nï¼ˆéœ€è¦ `phpunit.xml` è¨­å®š cacheï¼ŒLaravel é è¨­å°±æœ‰ï¼‰\n\n\n### ğŸ”¹ 8. åŸ·è¡Œæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š\n\n```bash\n./vendor/bin/phpunit --coverage-html coverage\n```\n\n- âœ… æˆåŠŸç”¢å‡º `coverage/index.html`\n- âœ… å¯ä½¿ç”¨ `php -S 0.0.0.0:8082 -t coverage/` æ¶ç°¡æ˜“ä¼ºæœå™¨è§€çœ‹\n","tocContent":""}