[{"name":"Laravel ç’°å¢ƒè¨­ç½®.md","content":"# Laravel ç’°å¢ƒè¨­ç½®\r\n\r\n>\r\n\r\n## ç’°å¢ƒåˆå§‹è¨­å®š\r\n\r\n### 1. å®‰è£ XAMPP or phpEnv\r\n\r\n#### xampp æ›´æ”¹ php ç‰ˆæœ¬: ç‰ˆæœ¬ 5 => 7\r\n\r\n> æ³¨æ„ï¼php 8.1 ä¸ç›¸å®¹ laravel 6.x ä»¥ä¸‹(åŒ…å« 6)\r\n\r\n1. é–‹å•Ÿ Apache Admin æŸ¥çœ‹ç•¶å‰ XAMPP æ‰€æœ‰ç‰ˆæœ¬è³‡è¨Š\r\n2. åˆ°[XAMPP](https://windows.php.net/download/)ä¸‹è¼‰è¦æ›´æ–°çš„ php ç‰ˆæœ¬çš„ zip æª”ã€‚(æ³¨æ„ï¼é¸æ“‡ `Thread Safe` ç‰ˆæœ¬ï¼)\r\n3. è§£å£“ç¸®å®šæŒ‡å®šè³‡æ–™å¤¾åç¨±ç‚º`php`ï¼Œå°‡æ­¤è³‡æ–™å¤¾æ”¾è‡³ XAMPP è³‡æ–™å¤¾ä¸­ï¼Œä¸¦å°‡åŸæœ¬çš„ php è³‡æ–™å¤¾å¦å¤–å‘½å\r\n4. è‡³ XAMPP æ§åˆ¶é¢æ¿é»é¸ `config` æŒ‰éˆ•ï¼Œé–‹å•Ÿ `httpd-xampp.conf` æª”ï¼Œä¸¦ä¿®æ”¹å…¶å…§å®¹\r\n\r\n   1. æ‰¾åˆ°ä»¥ä¸‹æ–‡å­—ï¼Œä¸¦å°‡å…¶ä¿®æ”¹\r\n\r\n      ä¿®æ”¹å‰\r\n\r\n      ```txt\r\n      LoadFile \"C:/xampp/php/php5ts.dll\"\r\n      LoadFile \"C:/xampp/php/libpq.dll\"\r\n      LoadModule php5_module \"C:/xampp/php/php5apache2_4.dll\"\r\n      ```\r\n\r\n      ä¿®æ”¹å¾Œ\r\n\r\n      ```txt\r\n      LoadFile \"C:/xampp/php/php7ts.dll\"\r\n      LoadFile \"C:/xampp/php/libpq.dll\"\r\n      LoadModule php7_module \"C:/xampp/php/php7apache2_4.dll\"\r\n      ```\r\n\r\n      - ä¿®æ”¹æ™‚éœ€ç¢ºèªä¿®æ”¹è·¯å¾‘çš„æª”æ¡ˆç¢ºå¯¦å­˜åœ¨ï¼Œè‹¥ç„¡æ­¤æª”æ¡ˆï¼Œå¯èƒ½æ˜¯ php ç‰ˆæœ¬çš„é—œä¿‚\r\n\r\n   2. å°‡ `httpd-xampp.conf` è¨­å®šæª”ä¸­æ‰€æœ‰ `php5_module` æ”¹ç‚º `php7_module`\r\n      - åœ¨ php8 çš„ `httpd-xampp.conf` è¨­å®šæª”ç‚º `php_module`\r\n\r\n5. é‡å»º `php.ini` è¨­å®šæª”\r\n\r\n   1. è¤‡è£½ php è³‡æ–™å¤¾ä¸­çš„ php.ini-developmentï¼Œä¸¦é‡æ–°å‘½åç‚º php.ini\r\n   2. é–‹å•Ÿ php.ini ä¸¦ä¾é–‹ç™¼æˆ–ç¶²ç«™éœ€æ±‚ï¼Œé–‹å•Ÿç›¸é—œæ¨¡çµ„(åˆªé™¤å‰é¢çš„åˆ†è™Ÿ`;`)\r\n      1. `Dynamic Extensions` å‹•æ…‹å»¶ä¼¸åŠŸèƒ½\r\n         - extension=curl\r\n         - extension=gd2(version 7) / gd(version 8)\r\n           - åœ¨ php 8.0ï¼ŒDG å»¶ä¼¸åŠŸèƒ½ windows dll æ–‡ä»¶åç¨±ç”± php_gd2.dll æ”¹ç‚º php_gd.dll)\r\n         - extension=mbstring\r\n         - **extension=mysqli**\r\n         - extension=openssl\r\n      2. `Paths and Directories` è·¯å¾‘å’Œç›®éŒ„\r\n         - **extension_dir = \"ext\"**\r\n      3. å¸¸è¦‹è¨­å®š\r\n         - max_execution_time = 600\r\n         - short_open_tag = On\r\n         - max_input_time = 180\r\n         - **error_reporting=E_ALL & ~E_DEPRECATED & ~E_STRICT**\r\n           - è¨­ç½®éŒ¯èª¤è¨Šæ¯é€šçŸ¥ï¼ŒåŠ å…¥ç‰ˆæœ¬å…¼èæ€§çš„æç¤º\r\n         - memory_limit = 500M\r\n         - post_max_size = 500M\r\n         - upload_max_filesize = 100M\r\n         - max_file_uploads = 50\r\n\r\n6. è‡³ XAMPP é¢æ¿é‡å•Ÿ Apache\r\n7. é‡æ–°åŸ·è¡Œ composer update\r\n\r\n#### XAMPP é™¤éŒ¯\r\n\r\n> å•é¡Œï¼šXAMPP é–‹å•Ÿ MySQL å¤±æ•—\r\n\r\néŒ¯èª¤è¨Šæ¯ï¼š\r\n\r\n```txt\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Mutexes and rw_locks use Windows interlocked functions\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Uses event mutexes\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Compressed tables use zlib 1.2.12\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Number of pools: 1\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Using SSE2 crc32 instructions\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Initializing buffer pool, total size = 16M, instances = 1, chunk size = 16M\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Completed initialization of buffer pool\r\n2023-08-24 16:06:19 0 [Note] InnoDB: 128 out of 128 rollback segments are active.\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Creating shared tablespace for temporary tables\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Setting file 'C:\\xampp\\mysql\\data\\ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...\r\n2023-08-24 16:06:19 0 [Note] InnoDB: File 'C:\\xampp\\mysql\\data\\ibtmp1' size is now 12 MB.\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Waiting for purge to start\r\n2023-08-24 16:06:19 0 [Note] InnoDB: 10.4.27 started; log sequence number 72915773; transaction id 17227\r\n2023-08-24 16:06:19 0 [Note] InnoDB: Loading buffer pool(s) from C:\\xampp\\mysql\\data\\ib_buffer_pool\r\n2023-08-24 16:06:19 0 [Note] Plugin 'FEEDBACK' is disabled.\r\n2023-08-24 16:06:19 0 [Note] Server socket created on IP: '::'.\r\n```\r\n\r\nè§£æ±ºè¾¦æ³•ï¼š\r\n\r\n1. å…ˆåˆ°è·¯å¾‘ï¼š`C:\\xampp\\mysql\\data`\r\n2. å°‡ data è³‡æ–™å¤¾å‚™ä»½\r\n3. å†å»ºç«‹ä¸€å€‹æ–°çš„ data è³‡æ–™å¤¾\r\n4. å»ºç«‹å¾Œé‡å•Ÿ mysql\r\n5. é‡å•Ÿå¤±æ•—å¾Œï¼Œdata è³‡æ–™å¤¾æœƒæ–°å¢ç¨‹å¼è‡ªå‹•å»ºç«‹çš„æª”æ¡ˆ\r\n6. æ­¤æ™‚å°‡`C:\\xampp\\mysql\\backup`ä¸­çš„è³‡æ–™å¤¾è¤‡è£½åˆ° data è³‡æ–™å¤¾ä¸­\r\n7. é€™æ™‚å†é‡å•Ÿ mysql å·²ç¶“å¯ä»¥æ­£å¸¸é‹è¡Œäº†ï¼Œæ¥ä¸‹ä¾†å°‡å°±çš„è³‡æ–™åº«åŠ å›ä¾†\r\n8. æ­¤æ™‚å…ˆé—œé–‰ mysqlï¼Œå°‡å‰›å‰›å‚™ä»½çš„ data è³‡æ–™å¤¾åº•ä¸‹çš„è³‡æ–™å¤¾èˆ‡ `ibdata1` æª”æ¡ˆï¼Œè¤‡è£½åˆ°æ–°çš„ data è³‡æ–™å¤¾åº•ä¸‹\r\n9. é‡å•Ÿ mysql å³å¯\r\n\r\n### macOS Monterey ä¸Šå®‰è£ PHP\r\n\r\n> å•é¡Œï¼šå®‰è£å®Œ MAMP ä¹‹å¾Œï¼Œè¦ç”¨çµ‚ç«¯æ©Ÿå®‰è£ composerï¼Œçµæœå‡ºç¾`zsh: command not found: php`\r\n>\r\n> åŸå› ï¼šMacOS Monterey ç‰ˆæœ¬ï¼Œé è¨­æ²’æœ‰å®‰è£ PHPã€‚\r\n\r\n1. å®‰è£ PHP\r\n   [Installing PHP on your Mac](https://daily-dev-tips.com/posts/installing-php-on-your-mac/)\r\n\r\n1. å®‰è£ Homebrew\r\n   åœ¨ terminal è¼¸å…¥\r\n\r\n   ```terminal\r\n   /bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\r\n   ```\r\n\r\n   é¡¯ç¤ºè·¯å¾‘å•é¡Œçš„è§£æ±ºè¾¦æ³•\r\n\r\n   ```terminal\r\n   echo 'eval \"$(/opt/homebrew/bin/brew shellenv)\"' >> /Users/changgenglu/.zprofile\r\n\r\n   eval \"$(/opt/homebrew/bin/brew shellenv)\"\r\n   ```\r\n\r\n1. ä½¿ç”¨ Homebrew å®‰è£ PHP\r\n   å…ˆç¢ºå®š Homebrew å®‰è£æˆåŠŸ\r\n\r\n   ```terminal\r\n   brew update\r\n   brew doctor\r\n   ```\r\n\r\n   å®‰è£ PHP\r\n\r\n   ```terminal\r\n   brew install php\r\n   ```\r\n\r\n   å®‰è£ç‰¹å®šç‰ˆæœ¬\r\n\r\n   ```terminal\r\n   brew install php@7.4\r\n   ```\r\n\r\n   - å®‰è£æŒ‡å®šç‰ˆæœ¬å¾Œï¼Œä¸¦ä¸æœƒè‡ªå‹•åˆ‡æ› PHP æœ¬ç‰ˆæœ¬\r\n\r\n1. ä½¿ç”¨ Homebrew åˆ‡æ› PHP\r\n   æª¢æŸ¥ç•¶å‰ç‰ˆæœ¬\r\n\r\n   ```terminal\r\n   php -v\r\n\r\n   # PHP 8.0.1 (cli) (built: Jan  8 2021 01:27:28) ( NTS )\r\n   ```\r\n\r\n   å–æ¶ˆè©²ç‰ˆæœ¬\r\n\r\n   ```terminal\r\n   brew unlink php@8.0\r\n   ```\r\n\r\n   é¸æ“‡ç‰ˆæœ¬\r\n\r\n   ```terminal\r\n   brew link php@7.4\r\n   ```\r\n\r\n   å‡ºç¾è·¯å¾‘å•é¡Œï¼Œæç¤ºï¼šé ˆéœè¡Œè…³æœ¬ä¾†æ·»åŠ è·¯å¾‘\r\n\r\n   ```terminal\r\n   echo 'export PATH=\"/opt/homebrew/opt/php@7.4/bin:$PATH\"' >> ~/.zshrc\r\n\r\n   ```\r\n\r\n### 2. å®‰è£ composer\r\n\r\n#### windows é€é composer å®˜ç¶²ä¸‹è¼‰ composer å®‰è£æª”\r\n\r\n#### ä¸‹è¼‰ Composer: MacOS\r\n\r\n- ä»£ç¢¼ä»¥[Composer å®˜ç¶²](https://getcomposer.org/download/)ç‚ºä¸»\r\n\r\nä¸‹è¼‰å®‰è£ç¨‹åºåˆ°ç•¶å‰ç›®éŒ„\r\n\r\n```bash\r\nphp -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\"\r\n```\r\n\r\né©—è­‰å®‰è£ç¨‹åº\r\n\r\n```bash\r\nphp -r \"if (hash_file('sha384', 'composer-setup.php') === '906a84df04cea2aa72f40b5f787e49f22d4c2f19492ac310e8cba5b96ac8b64115ac402c8cd292b8a03482574915d1a8') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"\r\n```\r\n\r\né‹è¡Œå®‰è£ç¨‹åº\r\n\r\n```bash\r\nphp composer-setup.php\r\n```\r\n\r\nåˆªé™¤å®‰è£ç¨‹åº\r\n\r\n```bash\r\nphp -r \"unlink('composer-setup.php');\"\r\n```\r\n\r\n- MacOS å¦‚æœå‡ºç¾ `zsh: command not found: php`\r\n\r\n  åŸå› ï¼šMacOS Monterry ç‰ˆæœ¬ï¼Œæ²’æœ‰åŒ…æ‹¬ PHPã€‚è«‹åƒè€ƒï¼š[macOS Monterey ä¸Šå®‰è£ PHP](https://hackmd.io/wnFCr0GUS-iIRxHY2zrBgw)\r\n\r\n- MacOS é ˆç¢ºä¿ Composer çš„ç³»çµ±ç­‰ç´š vendor bin è³‡æ–™å¤¾æœ‰æ”¾åœ¨$PATH ä¸­ï¼Œé€™æ¨£ä½œæ¥­ç³»çµ±æ‰èƒ½æ‰¾åˆ°`laravel` å¯åŸ·è¡Œæª”ã€‚ä¸€èˆ¬å¸¸è¦‹çš„ä½ç½®å¦‚ä¸‹ï¼š\r\n  - macOS: $HOME/.composer/vendor/bin\r\n  - Windows: %USERPROFILE%\\AppData\\Roaming\\Composer\\vendor\\bin\r\n\r\n#### å…¨å±€èª¿ç”¨ Composer: MacOS\r\n\r\nç¢ºèªæ˜¯å¦æˆåŠŸå®‰è£ Composer\r\n\r\n```bash\r\nls\r\n\r\n// è¦çœ‹åˆ°æœ‰composer.pharçš„æª”æ¡ˆ\r\n```\r\n\r\nå°‡ composer.phar æ”¾å…¥æœ¬åœ°çš„ç›®éŒ„\r\n\r\n```bash\r\nsudo mv composer.phar /usr/local/bin/composer\r\n```\r\n\r\næ¸¬è©¦æ˜¯å¦å®‰è£æˆåŠŸ\r\n\r\n```bash\r\ncomposer\r\n```\r\n\r\n### 3. å®‰è£ Visual Studio Code or phpStorm\r\n\r\n### 4. Laravel å…¨åŸŸå®‰è£ XAMPP\r\n\r\n```bash\r\ncd c:\\xampp\\htdocs\r\ncomposer global require laravel/installer\r\n\r\nlaravel new project_name\r\n\r\ncd project_name\r\n\r\nphp artisan serve\r\n```\r\n\r\n## å¾ Git clone Laravel å°ˆæ¡ˆ\r\n\r\nç”±æ–¼å®‰å…¨æ€§åŠç¶­è­·çš„è€ƒé‡ï¼ŒLaravel é è¨­æœ‰ .gitignoreï¼Œæ‰€ä»¥è¼ƒç‚ºæ•æ„Ÿçš„æª”æ¡ˆï¼Œä¸æœƒè¢« push ä¸Šå»ã€‚\r\nå› æ­¤å°ˆæ¡ˆ clone ä¸‹ä¾†ä¹‹å¾Œï¼Œå¿…é ˆè¦é‡å»ºæ‰èƒ½æ­£å¸¸åŸ·è¡Œã€‚\r\n\r\n### é–‹ç™¼ç’°å¢ƒè¨­å®š\r\n\r\n1. å®‰è£ä¾è³´å¥—ä»¶\r\n\r\n   ```bash\r\n   composer install\r\n   ```\r\n\r\n2. è¨­å®š.env æª”\r\n\r\n   è¤‡è£½.env.example ä¸¦æ›´æ”¹ç‚º.env\r\n\r\n   ```bash\r\n   cp .env.example .env\r\n   ```\r\n\r\n   ä¿®æ”¹.env\r\n\r\n3. è¨­å®šåŠ å¯†çš„ APP_KEY\r\n\r\n   ```bash\r\n   php artisan key:generate\r\n   ```\r\n\r\n4. è¨­å®šè³‡æ–™åº«\r\n\r\n   å»ºç«‹ MySQL æ‰€éœ€çš„è³‡æ–™åº«\r\n\r\n5. Migration å’Œ Seeding å»ºç«‹è³‡æ–™è¡¨çµæ§‹\r\n\r\n   ```cmd\r\n   php artisan migrate\r\n   &\r\n   php artisan db:seed\r\n   &\r\n   php artisan migrate --seed\r\n   ```\r\n\r\n6. è‹¥æœ‰å®‰è£ passport éœ€é‹è¡Œå‘½ä»¤ç”¢ç”Ÿ Access Token\r\n\r\n   ```bash\r\n   php artisan passport:install\r\n   ```\r\n\r\n7. å»ºç«‹ç¬¦è™Ÿé€£çµ\r\n   å¦‚æœæœ‰ä½¿ç”¨åˆ° public storage ï¼ˆå¦‚ï¼šStorage::disk('public')ï¼‰ï¼Œ\r\n   è¨˜å¾—ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼Œå°‡ storage è»Ÿé€£çµåˆ° storage/app/public\r\n\r\n   ```cmd\r\n   php artisan storage:link\r\n   ```\r\n\r\n8. è¨­å®šä¼ºæœå™¨\r\n\r\n   ä¾‹å¦‚åˆ° NGINX æ–°å¢ã€èª¿æ•´ conf æª”\r\n\r\n9. è¨­å®šä»»å‹™æ’ç¨‹\r\n\r\n   å¦‚æœæœ‰åœ¨ Laravel ä¸­å®šç¾©æ’ç¨‹çš„ä»»å‹™ï¼Œ\r\n   è¨˜å¾—åœ¨ crontab ä¸­å¢åŠ  Laravel æŒ‡ä»¤æ’ç¨‹å™¨\r\n\r\n   ```cmd\r\n   # åœ¨ crontab -e ä¸­\r\n   * * * * * php /path-to-your-project/artisan schedule:run >> /dev/null 2>&1\r\n   ```\r\n\r\n### ä¸Šç·šç’°å¢ƒè¨­å®š\r\n\r\n1. å®‰è£ composer æ’é™¤ dev é …ç›®\r\n\r\n   ```bash\r\n   composer install --optimize-\r\n   loader --no-dev\r\n   ```\r\n\r\n2. `.env`è¨­å®šè½‰ç‚ºç·šä¸Šä¸¦ä¸”é—œé–‰éŒ¯èª¤æç¤º\r\n\r\n   ```php\r\n   APP_NAME=å°ˆæ¡ˆåç¨±\r\n   APP_ENV=production\r\n   APP_KEY=\r\n   APP_DEBUG=false\r\n   APP_URL=https://æ­£å¼ç¶²å€\r\n   ```\r\n\r\n3. è¨­å®šå¿«å–\r\n\r\n   ```bash\r\n   php artisan config:cache\r\n\r\n   #ã€€ä¸‹æ¬¡æ›´æ–°ç¨‹å¼è¨˜å¾—æ›´æ–°config\r\n   php artisan config:clear\r\n   ```\r\n\r\n4. Router å¿«å–  \r\n   error: (Unable to prepare route [api/user] for serialization. Uses Closure. )\r\n\r\n   ```bash\r\n   php artisan route:cache\r\n\r\n   # ä¸‹æ¬¡æ›´æ–°ç¨‹å¼è¨˜å¾—æ›´æ–°route\r\n   php artisan route:clear\r\n   php artisan cache:clear\r\n   ```\r\n\r\n5. Composer ç·©å­˜\r\n\r\n   ```bash\r\n   composer dump\r\n   load -o\r\n   # æ¯æ¬¡æ›´æ–°composer install å¾Œï¼Œéƒ½è¦å†åŸ·è¡Œä¸€æ¬¡\r\n   ```\r\n\r\n6. é¡åˆ¥ç·©å­˜  \r\n   error: (Unable to prepare route [api/user] for serialization. Uses Closure. )\r\n\r\n   ```bash\r\n   php artisan optimize\r\n   ```\r\n\r\n7. æ¸…é™¤é¡åˆ¥ç·©å­˜\r\n\r\n   ```bash\r\n   php artisan clear-compiled\r\n   ```\r\n\r\n8. å»ºç«‹ keygen\r\n\r\n   ```bash\r\n   php artisan key:generate\r\n   ```\r\n\r\n9. è‹¥æœ‰å®‰è£ passport éœ€é‹è¡Œå‘½ä»¤ç”¢ç”Ÿ Access Token\r\n\r\n   ```bash\r\n   php artisan passport:keys\r\n   ```\r\n\r\n10. åŸ·è¡Œ\r\n\r\n```bash\r\n# é·ç§»è³‡æ–™è¡¨\r\nphp artisan migrate\r\n# å¡«å……è³‡æ–™\r\nphp artisan db:seed\r\n```\r\n\r\n### composer install å¤±æ•—\r\n\r\n```shell\r\nnode: /lib64/libm.so.6: version `GLIBC_2.27` not found (required by node)\r\nnode: /lib64/libc.so.6: version `GLIBC_2.28` not found (required by node)\r\nnode: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28` not found (required by node)\r\n```\r\n\r\nç•¶å‡ºç¾ä¸Šé¢çš„éŒ¯èª¤è¨Šæ¯ï¼Œè¡¨ç¤º GLIBC çš„ç‰ˆæœ¬ä¸ç¬¦åˆç¾è¡Œç³»çµ±ä¸Šçš„ node ç‰ˆæœ¬ã€‚\r\n\r\nè§£æ±ºéŒ¯èª¤å¸¸è¦‹çš„æ–¹æ³•æœ‰å…©ç¨®ï¼š\r\n\r\n1. å®‰è£è¼ƒèˆŠã€æ”¯æ´æ›´å»£æ³›çš„ Node.js (16.x) ç‰ˆæœ¬\r\n\r\n   ä½¿ç”¨ `nvm` å®‰è£å…¶ä»–ç‰ˆæœ¬çš„ node.js\r\n\r\n   ```shell\r\n   nvm install 16\r\n   nvm use 16\r\n   ```\r\n\r\n   å®Œæˆå¾Œç¢ºèªç•¶å‰ç‰ˆæœ¬\r\n\r\n   ```shell\r\n   nvm ls\r\n   node --version\r\n   ```\r\n\r\n   ç§»é™¤ç‰¹å®šç‰ˆæœ¬\r\n\r\n   ```shell\r\n   # ğŸ‘‡ï¸ uninstall Node.js version 13.X.X\r\n   nvm uninstall 13\r\n   ```\r\n\r\n   è‹¥é‚„æœªå®‰è£ nvm\r\n\r\n   ```shell\r\n   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.2/install.sh | bash\r\n   chmod +x ~/.nvm/nvm.sh\r\n   source ~/.bashrc\r\n   # é©—è­‰ nvm æ˜¯å¦å®‰è£æˆåŠŸ\r\n   nvm -v\r\n   ```\r\n\r\n2. å°‡ Linux æ“ä½œç³»çµ±å‡ç´šåˆ°æ›´æ–°ç‰ˆæœ¬ã€‚\r\n\r\n## Laravel ReactJS\r\n\r\n> Use laravel/ui Package to install react in laravel with Bootstrap 4.\r\n\r\n1. å»ºç«‹æ–°çš„å°ˆæ¡ˆ\r\n\r\n   ```cmd\r\n   composer create-project laravel/laravel --prefer-dist running_in_circles\r\n\r\n   laravel new running_in_circles\r\n   ```\r\n\r\n2. é€²å…¥ Laravel é …ç›®\r\n\r\n   ```cmd\r\n   cd running_in_circles\r\n   ```\r\n\r\n3. å®‰è£ laravel/ui\r\n\r\n   ```cmd\r\n   composer require laravel/ui\r\n   ```\r\n\r\n4. åœ¨ Laravel ä¸­å®‰è£ React\r\n\r\n   ```cmd\r\n   php artisan ui react\r\n   ```\r\n\r\n5. å®‰è£æ‰€éœ€çš„è»Ÿä»¶åŒ…\r\n\r\n   ```cmd\r\n   <!-- æª¢æŸ¥nodeå’Œnpmæ˜¯å¦å®‰è£ -->\r\n       node -v\r\n       npm -v\r\n   <!-- å»ºç«‹ä¸€å€‹node_modulesè³‡æ–™å¤¾ä¸¦è‡ªå‹•å®‰è£package.json -->\r\n       npm install\r\n   ```\r\n\r\n6. åœ¨ Laravel ä¸­è¨­ç½® React çµ„ä»¶\r\n\r\n   ```javascript\r\n   // è·¯å¾‘ ==> resource/js/components/User.js\r\n   import React from \"react\";\r\n   import ReactDOM from \"react-dom\";\r\n\r\n   function User() {\r\n     return (\r\n       <div className=\"container mt-5\">\r\n         <div className=\"row justify-content-center\">\r\n           <div className=\"col-md-8\">\r\n             <div className=\"card text-center\">\r\n               <div className=\"card-header\">\r\n                 <h2>React Component in Laravel</h2>\r\n               </div>\r\n               <div className=\"card-body\">I am tiny React component in Laravel app!</div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     );\r\n   }\r\n\r\n   export default User;\r\n\r\n   // DOM element\r\n   if (document.getElementById(\"user\")) {\r\n     ReactDOM.render(<User />, document.getElementById(\"user\"));\r\n   }\r\n   ```\r\n\r\n7. ä¿®æ”¹ resources/js/app.js è¨»å†Š React æ–‡ä»¶\r\n\r\n   ```javascript\r\n   require(\"./bootstrap\");\r\n\r\n   // Register React components\r\n   require(\"./components/Example\");\r\n   require(\"./components/User\");\r\n   ```\r\n\r\n8. ä¿®æ”¹ views/welcome.blade.php æ¨¡æ¿\r\n\r\n   ```html\r\n   <!DOCTYPE html>\r\n   <html lang=\"{{ str_replace('_', '-', app()->getLocale()) }}\">\r\n     <head>\r\n       <meta charset=\"utf-8\" />\r\n       <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n       <title>Laravel</title>\r\n       <!-- Styles -->\r\n       <link href=\"{{ asset('css/app.css') }}\" rel=\"stylesheet\" />\r\n     </head>\r\n\r\n     <body>\r\n       <!-- React root DOM -->\r\n       <div id=\"user\"></div>\r\n       <!-- React JS -->\r\n       <script src=\"{{ asset('js/app.js') }}\" defer></script>\r\n     </body>\r\n   </html>\r\n   ```\r\n\r\n9. åŸ·è¡Œå‘½ä»¤ç·¨è­¯ Laravel å’Œ React.js\r\n\r\n   ```cmd\r\n   npm run watch\r\n   ```\r\n\r\n10. ç·¨è­¯æˆåŠŸï¼Œé‹è¡Œ laravel\r\n\r\n```cmd\r\nphp artisan serve\r\n```\r\n\r\n## Laravel å®‰è£ bootstrap\r\n\r\n### Laravel 8\r\n\r\n1. çµ‚ç«¯æ©Ÿ\r\n\r\n   ```cmd\r\n   npm install\r\n   ```\r\n\r\n2. å»ºç«‹æ–‡ä»¶(å¦‚æœå°šæœªå»ºç«‹) `resources/sass/app.scss` ä¸¦å¼•å…¥:\r\n   `@import '~bootstrap';`\r\n\r\n3. åœ¨ webpack.mix.js åŠ å…¥\r\n\r\n   ```php\r\n   mix.sass('resources/sass/app.scss', 'public/css')\r\n   ```\r\n\r\n4. çµ‚ç«¯æ©Ÿ\r\n\r\n   ```cmd\r\n   npm run dev\r\n   ```\r\n\r\n5. ç¾åœ¨å¯ä»¥å¼•ç”¨ bootstrap\r\n\r\n   ```php\r\n   <link href=\"{{ asset('css/app.css') }}\" rel=\"stylesheet\">\r\n   ```\r\n\r\n### Laravel 6\r\n\r\n1. çµ‚ç«¯æ©Ÿè¼¸å…¥\r\n\r\n   ```cmd\r\n   composer require laravel/ui=\"1.*\" --dev\r\n   ```\r\n\r\n2. è¼¸å…¥\r\n\r\n   ```cmd\r\n   php artisan ui bootstrap\r\n   ```\r\n\r\n3. å¦‚æœå‡ºç¾ \"Command \"ui\" is not defined.\"\r\n\r\n   ```cmd\r\n   composer update\r\n   ```\r\n\r\n4. åŸ·è¡Œ\r\n\r\n   ```cmd\r\n   npm install\r\n   ```\r\n\r\n5. çµ‚ç«¯æ©Ÿ\r\n\r\n   ```cmd\r\n   npm run dev\r\n   ```\r\n\r\n6. ç¾åœ¨å¯ä»¥å¼•å…¥\r\n\r\n   ```php\r\n   <link rel=\"stylesheet\" href=\"/css/app.css\">\r\n   <script src=\"/js/app.js\"></script>\r\n   ```\r\n","date":"2023-08-24T09:24:06.841Z","matchingLines":["## ç’°å¢ƒåˆå§‹è¨­å®š\r","## å¾ Git clone Laravel å°ˆæ¡ˆ\r","## Laravel ReactJS\r","## Laravel å®‰è£ bootstrap\r"],"tocContent":"- [Laravel ç’°å¢ƒè¨­ç½®](#laravel-ç’°å¢ƒè¨­ç½®)\r\n  - [ç’°å¢ƒåˆå§‹è¨­å®š](#ç’°å¢ƒåˆå§‹è¨­å®š)\r\n    - [1. å®‰è£ XAMPP or phpEnv](#1-å®‰è£-xampp-or-phpenv)\r\n      - [xampp æ›´æ”¹ php ç‰ˆæœ¬: ç‰ˆæœ¬ 5 =\\> 7](#xampp-æ›´æ”¹-php-ç‰ˆæœ¬-ç‰ˆæœ¬-5--7)\r\n      - [XAMPP é™¤éŒ¯](#xampp-é™¤éŒ¯)\r\n    - [macOS Monterey ä¸Šå®‰è£ PHP](#macos-monterey-ä¸Šå®‰è£-php)\r\n    - [2. å®‰è£ composer](#2-å®‰è£-composer)\r\n      - [windows é€é composer å®˜ç¶²ä¸‹è¼‰ composer å®‰è£æª”](#windows-é€é-composer-å®˜ç¶²ä¸‹è¼‰-composer-å®‰è£æª”)\r\n      - [ä¸‹è¼‰ Composer: MacOS](#ä¸‹è¼‰-composer-macos)\r\n      - [å…¨å±€èª¿ç”¨ Composer: MacOS](#å…¨å±€èª¿ç”¨-composer-macos)\r\n    - [3. å®‰è£ Visual Studio Code or phpStorm](#3-å®‰è£-visual-studio-code-or-phpstorm)\r\n    - [4. Laravel å…¨åŸŸå®‰è£ XAMPP](#4-laravel-å…¨åŸŸå®‰è£-xampp)\r\n  - [å¾ Git clone Laravel å°ˆæ¡ˆ](#å¾-git-clone-laravel-å°ˆæ¡ˆ)\r\n    - [é–‹ç™¼ç’°å¢ƒè¨­å®š](#é–‹ç™¼ç’°å¢ƒè¨­å®š)\r\n    - [ä¸Šç·šç’°å¢ƒè¨­å®š](#ä¸Šç·šç’°å¢ƒè¨­å®š)\r\n    - [composer install å¤±æ•—](#composer-install-å¤±æ•—)\r\n  - [Laravel ReactJS](#laravel-reactjs)\r\n  - [Laravel å®‰è£ bootstrap](#laravel-å®‰è£-bootstrap)\r\n    - [Laravel 8](#laravel-8)\r\n    - [Laravel 6](#laravel-6)"},{"name":"Vue å­¸ç¿’ç­†è¨˜.md","content":"# Vue å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n## Vue å¯¦é«”çš„ç”Ÿå‘½é€±æœŸ\r\n\r\n- `beforeCreate`: ç•¶ Vue å¯¦ä¾‹åˆå§‹åŒ–æ™‚ä¾¿ç«‹å³èª¿ç”¨ï¼Œæ­¤æ™‚å°šæœªå‰µå»ºå¯¦ä¾‹ï¼Œå› æ­¤æ‰€æœ‰ Vue å¯¦é«”ä¸­çš„è¨­å®š(å¦‚ï¼šdata)éƒ½é‚„æœªé…ç½®ã€‚\r\n- `created`: å®Œæˆå‰µå»ºå¯¦ä¾‹ï¼Œæ­¤æ™‚ Vue å¯¦é«”ä¸­çš„é…ç½®é™¤äº† \\$el å¤–ï¼Œå…¶é¤˜å·²å…¨éƒ¨é…ç½®ï¼Œè€Œ \\$el è¦åœ¨æ›è¼‰æ¨¡æ¿å¾Œæ‰æœƒé…ç½®ã€‚\r\n- `beforeMount`: åœ¨ Vue å¯¦é«”ä¸­è¢«æ›è¼‰åˆ°ç›®æ¨™å…ƒç´ ä¹‹å‰èª¿ç”¨ï¼Œæ­¤æ™‚çš„ \\$el ä¾ç„¶æœªè¢« Vue å¯¦é«”ä¸­çš„å®šç¾©æ¸²æŸ“çš„åˆå§‹è¨­å®šæ¨¡æ¿ã€‚\r\n- `mounted`: Vue å¯¦é«”ä¸Šçš„è¨­ç½®å·²ç¶“å®‰è£ä¸Šæ¨¡æ¿ï¼Œæ­¤æ™‚ \\$el æ˜¯å·²ç¶“è—‰ç”±å¯¦é«”ä¸­çš„å®šç¾©æ¸²æŸ“æˆçœŸæ­£çš„é é¢ã€‚\r\n- `beforeUpdate`: Vue å¯¦é«”ä¸­çš„ data ç”¢ç”Ÿè®ŠåŒ–å¾Œï¼Œæˆ–æ˜¯åŸ·è¡Œ vm.$forceUpdate() æ™‚èª¿ç”¨ï¼Œæ­¤æ™‚é é¢å°šæœªè¢«é‡æ–°æ¸²æŸ“æˆè®Šéçš„ç•«é¢ã€‚\r\n- `update`: åœ¨é‡æ–°æ¸²æŸ“é é¢å¾Œèª¿ç”¨ï¼Œæ­¤æ™‚çš„é é¢å·²ç¶“è¢«é‡æ–°æ¸²æŸ“æˆæ”¹è®Šå¾Œçš„ç•«é¢ã€‚\r\n- `beforeDestroy`: åœ¨æ­¤å¯¦é«”è¢«éŠ·æ¯€å‰èª¿ç”¨ï¼Œæ­¤æ™‚å¯¦é«”ä¾ç„¶æ“æœ‰å®Œæ•´çš„åŠŸèƒ½ã€‚\r\n- `destroyed`: æ–¼æ­¤å¯¦é«”è¢«éŠ·æ¯€å¾Œèª¿ç”¨ï¼Œæ­¤æ™‚å¯¦é«”ä¸­çš„ä»»ä½•å®šç¾©(data, methods...)éƒ½å·²è¢«è§£é™¤ç¶å®šï¼Œåœ¨æ­¤åšä»»ä½•æ“ä½œéƒ½æœƒå¤±æ•ˆã€‚\r\n\r\n## Vue å±¬æ€§\r\n\r\n### watch ç›£è½å™¨\r\n\r\nç•¶è³‡æ–™è®ŠåŒ–æ™‚èª¿ç”¨å‡½æ•¸ï¼Œå‡½æ•¸æœƒæœ‰å…©å€‹å‚³å…¥åƒæ•¸ï¼šæ”¹è®Šå‰çš„å€¼ã€æ”¹è®Šå¾Œçš„å¾Œçš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨é€™å€‹å‡½æ•¸åšè·Ÿæ­¤è³‡æ–™è®ŠåŒ–æœ‰çš„è™•ç†ã€‚\r\n\r\nç›£è½å™¨åœ¨ vue.js ä¸­æœ‰å…©ç¨®ä½¿ç”¨æ–¹å¼ï¼š\r\n\r\n- `$watch` å¯¦é«”ä¸Šçš„å‡½æ•¸ï¼Œä½¿ç”¨æ­¤å‡½æ•¸è¨»å†Šç›£è½å™¨ã€‚\r\n- `watch` å¯¦é«”ä¸Šçš„å±¬æ€§ï¼Œæ­¤å±¬æ€§è¨­ç½®çš„ç‰©ä»¶åœ¨å¯¦é«”å»ºç«‹æ™‚æœƒèª¿ç”¨ `$watch` è¨»å†Šç›£è½å™¨ã€‚\r\n\r\n`$watch` æ˜¯è¨»å†Šç›£è½å™¨çš„å‡½æ•¸ï¼Œè€Œ watch æ˜¯ç‚ºäº†é–‹ç™¼è€…æ–¹ä¾¿åœ¨å¯¦é«”ä¸Šè¨­ç½®ç›£è½å™¨è€Œæä¾›çš„ï¼Œå…¶å¯¦ watch æœ¬èº«ä¹Ÿæ˜¯ä½¿ç”¨ $watch è¨»å†Šç›£è½å™¨ã€‚\r\n\r\n#### $watch\r\n\r\n```javascript\r\nunwatched = vm.$watch(expOrFn, callback, [options]);\r\n```\r\n\r\n`$watch` çš„å›å‚³å€¼æ˜¯è¨»éŠ·ç›£è½å™¨çš„å‡½æ•¸ï¼ŒåŸ·è¡Œæ­¤å‡½æ•¸å¯ä½¿ç›£è½å™¨å¤±æ•ˆã€‚\r\n\r\n- `exOrFn` è¨­å®šè¦ç›£è½çš„ç›®æ¨™ï¼Œå¯ä»¥ä½¿ç”¨ javascript è¡¨é”å¼æˆ–æ˜¯ä¸€å€‹å›å‚³ç›£è½ç›®æ¨™å€¼çš„å‡½æ•¸\r\n- `callback` ç•¶æ•¸å€¼æ”¹è®Šæ™‚ï¼Œè¦å«ç”¨çš„å‡½æ•¸ï¼Œæ­¤å‡½æ•¸æœƒæœ‰å…©å€‹å‚³å…¥åƒæ•¸ï¼šcallback(newVal, oldVal)\r\n  - `newVal` æ”¹è®Šå¾Œçš„è³‡æ–™å€¼\r\n  - `oldVal` æ”¹è®Šå‰çš„è³‡æ–™å€¼\r\n- `[options]` éå¿…è¦åƒæ•¸ï¼Œç›£è½å™¨çš„è¨­å®š\r\n  - `deep` ç›£è½ç‰©ä»¶æ™‚ï¼Œç‰©ä»¶ä¸‹å±¤å±¬æ€§è®ŠåŒ–ä¹Ÿæœƒè§¸ç™¼ç›£è½å™¨\r\n  - `immediate` åœ¨å¯¦é«”åˆå§‹ç•«è¨­ç½®ç›£è½å™¨çš„æ™‚å€™é¦¬ä¸Šå«ç”¨ callback å‡½æ•¸\r\n\r\n```html\r\n<div id=\"app\">\r\n  <button @click=\"a++\">+</button>\r\n  <button @click=\"a--\">--</button>\r\n  <div>a: {{a}}</div>\r\n  <div>changed: {{newA}}</div>\r\n  <div>before change: {{oldA}}</div>\r\n</div>\r\n```\r\n\r\n```javascript\r\nvar vm = new Vue({\r\n  ...\r\n  data: {\r\n    a: 1,\r\n    newA: 0,\r\n    oldA: 0\r\n  }\r\n});\r\n\r\nvm.$watch('a', function(newA, oldA) {\r\n  this.newA = newA;\r\n  this.oldA = oldA;\r\n});\r\n```\r\n\r\n#### watch\r\n\r\n```javascript\r\nwatch: (\r\n  key: value,\r\n  ...\r\n)\r\n```\r\n\r\n- ä»¥ watch ç‚º key å€¼ï¼Œä¸‹é¢å®šç¾©çš„å±¬æ€§éƒ½æ˜¯æ¬²ç›£è½çš„è³‡æ–™ä¾†æºã€‚\r\n- key ç›£è½ç›®æ¨™åç¨±ï¼Œå¯ä»¥ä½¿ç”¨ javascript è¡¨é”å¼\r\n- value callback å‡½æ•¸çš„è¨­å®šï¼Œå…±æœ‰ string, function, object åŠ array å¯ä»¥è¨­å®šã€‚\r\n  - string callback å‡½æ•¸åç¨±\r\n  - function callback å‡½æ•¸\r\n  - object è¨­å®šç›£è½ç‰©ä»¶ï¼Œè¨­å®šæ–¹æ³•å¦‚ä¸‹\r\n    - handler callback å‡½æ•¸\r\n    - deep å¸ƒæ—å€¼ï¼Œæ˜¯å¦ç›£è½ç‰©ä»¶ä¸‹å±¤å±¬æ€§\r\n    - immediate å¸ƒæ—å€¼ ä½¿å¦åœ¨å¯¦é«”åˆå§‹åŒ–æ™‚ç«‹å³èª¿ç”¨ callback\r\n  - array ç•¶æœ‰å¤šå€‹ç›£è½å™¨æ™‚ï¼Œä½¿ç”¨é™£åˆ—å¸¶å…¥å¤šå€‹ callback å‡½æ•¸\r\n\r\n### computed è¨ˆç®—\r\n\r\nå’Œ watch ä¸€æ¨£ï¼Œéƒ½æ˜¯ç”¨ä¾†ç›£è½æ•¸æ“šçš„æ–¹å¼ï¼Œä½†ä½¿ç”¨å ´æ™¯ä¸åŒã€‚\r\n\r\ncomputed æ˜¯ä¸€å€‹è¨ˆç®—å±¬æ€§ï¼Œä»–æ ¹æ“šä¾è³´çš„è³‡æ–™ï¼Œå‹•æ…‹è¨ˆç®—å‡ºä¸€å€‹æ–°çš„å€¼ï¼Œä¸¦ä¸”æœƒè‡ªå‹•å­˜å…¥å¿«å–ã€‚ç•¶ä¾è³´çš„è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œcomputed æœƒè‡ªå‹•é‡æ–°è¨ˆç®—ã€‚é€™æ¨£å¯ä»¥æœ‰æ•ˆé¿å…é‡è¤‡è¨ˆç®—å’Œæé«˜æ€§èƒ½ã€‚\r\n\r\ncomputed é€šå¸¸ç”¨è¨ˆç®—è¡ç”Ÿçš„è³‡æ–™ï¼Œä¾‹å¦‚å¾ä¸€å€‹åˆ—è¡¨ä¸­éæ¿¾å‡ºç¬¦åˆæ¢ä»¶çš„è³‡æ–™ï¼Œæˆ–æ ¹æ“šè³‡æ–™çš„ç‹€æ…‹ç”¢ç”Ÿé¡¯ç¤ºå…§å®¹ç­‰ç­‰ã€‚åœ¨æ¨¡æ¿ä¸­ï¼Œå¯ä»¥åƒæ™®é€šçš„è³‡æ–™å±¬æ€§ä¸€æ¨£ä½¿ç”¨ computed\r\n\r\n```javascript\r\nexport default {\r\n  data() {\r\n    return {\r\n      count: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    doubleCount() {\r\n      return this.count * 2;\r\n    },\r\n  },\r\n};\r\n```\r\n\r\n`doubleCount` ç‚ºä¸€å€‹è¨ˆç®—å±¬æ€§ï¼Œä»–ä¾è³´æ–¼ count å±¬æ€§ã€‚ç•¶ count å±¬æ€§ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼ŒdoubleCount æœƒè‡ªå‹•é‡æ–°è¨ˆç®—ã€‚åœ¨æ¨¡æ¿ä¸­ï¼Œå¯ä»¥åƒä¸‹é¢é€™æ¨£ä½¿ç”¨ï¼š\r\n\r\n```html\r\n<p>count: {{ count }}</p>\r\n<p>double count: {{ doubleCount }}</p>\r\n```\r\n\r\n#### watch å’Œ computed å·®åˆ¥\r\n\r\ncomputed æœ€å¤§ç‰¹é»æ˜¯å¿…é ˆå›å‚³ä¸€å€‹å€¼ï¼Œä¸¦ä¸”å°‡å…¶å­˜å…¥å¿«å–ï¼Œç•¶æ–¹æ³•ä¸­çš„ä¾è³´æ”¹è®Šæ™‚ï¼Œæ‰æœƒé‡æ–°åŸ·è¡Œå’Œæ±‚å€¼ã€‚\r\n\r\nä½† watch å’Œ methods ä¸æœƒå¼·åˆ¶è¦æ±‚å›å‚³ä¸€å€‹å€¼ï¼Œä»–å€‘åªéœ€è¦åŸ·è¡Œå‹•ä½œï¼Œä¸ä¸€å®šè¦å›å‚³å€¼ã€‚\r\n\r\nwatch æœƒåµæ¸¬å–®ä¸€å€‹å€¼ï¼Œç•¶å¥¹æœ‰è®ŠåŒ–æ™‚å°±åŸ·è¡Œã€‚methods åªè¦å‘¼å«ï¼Œå°±æœƒåŸ·è¡Œã€‚\r\n\r\n- computed çš„ç‰¹é»\r\n  - ç•¶å…ƒä»¶è¢«å»ºç«‹æ™‚(created ç”Ÿå‘½é€±æœŸ)ï¼Œcomputed æ–¹æ³•æœƒè¢«å»ºç«‹å’ŒåŸ·è¡Œä¸€æ¬¡ã€‚ä¹‹å¾Œå¦‚æœä¾è³´æ²’æœ‰æ›´æ–°ï¼Œå°±ä¸æœƒé‡æ–°åŸ·è¡Œå’Œæ±‚å€¼ï¼Œåƒ…å›å‚³å¿«å–çš„å€¼ã€‚\r\n  - computed åªèƒ½è¢«è©² computed ä¿®æ”¹ï¼Œä¸èƒ½è¢«å…¶ä»–æ–¹æ³•ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼šthis.some_computed_function = 123 å°±æœƒå ±éŒ¯ã€‚\r\n  - computed çš„æ–¹æ³•å¿…é ˆå›å‚³ä¸€å€‹å€¼ã€‚\r\n  - computed æ–¹æ³•ç„¡æ³•å‚³å…¥åƒæ•¸\r\n\r\n##### ä¾è³´æ›´æ–°æ‰æœƒé‡æ–°åŸ·è¡Œ\r\n\r\n> vue å®˜æ–¹æ–‡ä»¶\r\n>\r\n> è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚\r\n\r\néŸ¿æ‡‰å¼ä¾è³´ï¼šåœ¨ä¸€å€‹ computed æ–¹æ³•ä¸­ï¼Œä»–æ‰€ç”¨åˆ°åœ¨ data å»ºç«‹çš„è³‡æ–™ï¼Œç•¶è³‡æ–™ç”¢ç”Ÿè®ŠåŒ–ï¼Œæ­¤æ–¹æ³•å°±æœƒé‡æ–°åŸ·è¡Œå’Œæ±‚å€¼ã€‚\r\n\r\n```javascript\r\ncomputed:{\r\n    total(){\r\n        return this.price * this.quantity * this.discount\r\n    }\r\n}\r\n```\r\n\r\ntotal çš„ä¾è³´å°±æ˜¯ this.price, this.quantity, this.discountã€‚åªè¦å…¶ä¸­ä¸€æ¨£ç”¢ç”Ÿè®ŠåŒ–ï¼Œå°±æœƒé‡æ–°åŸ·è¡Œ total()ï¼Œä¸¦å›å‚³æ–°çš„å€¼ã€‚\r\n\r\nç•¶ computed å…§æ‰€æœ‰çš„ä¾è³´éƒ½æ²’æœ‰ç™¼ç”Ÿè®ŠåŒ–ï¼Œæ­¤ computed å‡½ç¤ºå°±æœƒä¸€ç›´å›å‚³ä¹‹å‰å„²å­˜èµ·ä¾†çš„å€¼ã€‚\r\n\r\n```javascript\r\n<div id=\"app\">\r\n  <button @click=\"num = 1\">æŒ‰æˆ‘æ”¹num</button>\r\n  <p> ç”¨addæ–¹æ³•æŠŠä»¥ä¸‹çš„å€¼ç”±0è®Š1ï¼š</p>\r\n  <p> {{ add }} </p>\r\n</div>\r\n```\r\n\r\n```javascript\r\n// ç•¶numè®Šæˆ1ä¹‹å¾Œï¼ŒchangeOne()å°±ä¸æœƒå†è§¸ç™¼ï¼Œè€Œã€Œæˆ‘æœ‰è¢«è§¸ç™¼äº†ï¼ã€é€™å¥ä¹Ÿä¸æœƒå°å‡ºä¾†\r\n\r\nimport { createApp } from \"https://cdnjs.cloudflare.com/ajax/libs/vue/3.0.9/vue.esm-browser.js\";\r\ncreateApp({\r\n  data() {\r\n    return {\r\n      num: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    add() {\r\n      console.log(\"æˆ‘æœ‰è¢«è§¸ç™¼äº†ï¼\");\r\n      return this.num;\r\n    },\r\n  },\r\n}).mount(\"#app\");\r\n```\r\n\r\nç•¶å…ƒä»¶å‰›å»ºç«‹æ™‚(created)æ™‚ï¼Œæœƒæ‰“å°ä¸€æ¬¡ï¼Œç„¶å¾Œç¬¬ä¸€æ¬¡æŒ‰ä¸‹æŒ‰éˆ•æ™‚ï¼Œæœƒåœ¨æ‰“å°ä¸€æ¬¡ï¼Œä¸¦ä¸” num æœƒè®Šæˆ 1ã€‚\r\nä½†ç¬¬äºŒæ¬¡ä¹‹å¾ŒæŒ‰ä¸‹æŒ‰éˆ•ï¼Œå°±ä¸æœƒå†è§¸ç™¼ add() æ–¹æ³•ï¼Œå› ç‚ºæ¯æ¬¡æŒ‰ä¸‹æŒ‰éˆ•ï¼Œéƒ½æœƒå°‡ num è³¦å€¼ç‚º 1ï¼Œå’Œä¹‹å‰å¿«å–å„²å­˜çš„å€¼ç›¸åŒã€‚\r\n\r\n### computedã€watch å’Œ methods çš„ä½¿ç”¨æ™‚æ©Ÿ\r\n\r\nç•¶ä¸‰è€…éƒ½èƒ½å¯¦ç¾åŒä¸€æ•ˆæœï¼Œä½† computed çš„æ•ˆèƒ½è¼ƒå¥½\r\n\r\n## eventHub äº‹ä»¶ä¸­å¿ƒ: vue 2\r\n\r\nåœ¨ç„¡é—œè¯çš„çµ„ä»¶ä¹‹é–“ï¼Œäº’ç›¸å‚³é data\r\n\r\nåœ¨éœ€è¦å–å¾— data çš„çµ„ä»¶ä¸Šè¨­ç½®ä¸€å€‹ç›£è½å™¨ï¼Œæ¯æ¬¡è¦å‚³é data æ™‚ï¼Œé‚£å€‹çµ„ä»¶å°±æœƒå»£æ’­é€™å€‹äº‹ä»¶ä¸¦èª¿ç”¨é€™äº›ç›£è½å™¨ã€‚\r\n\r\neventHub æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯**ç›£è½**å’Œ**å»£æ’­**\r\n\r\nè‹¥ vue æ­é…å…¶ä»–æ¡†æ¶æ™‚ï¼Œåœ¨ library æ–°å¢ä¸€å€‹ eventHub.js\r\n\r\n```javascript\r\nimport Vue from \"vue\";\r\nconst eventHub = new Vue();\r\nexport default eventHub;\r\n```\r\n\r\nè‹¥åªæœ‰å–®ç´” vue æ¡†æ¶ï¼Œå‰‡åœ¨é ‚å±¤çµ„ä»¶çš„ `data` è£¡åˆå§‹åŒ– eventHubï¼Œä¸¦ä½¿ç”¨ `provide` å°å¤–å‚³éé€™å€‹ eventHub\r\n\r\n```javascript\r\nimport Vue from \"vue\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    GrandParent,\r\n  },\r\n  data() {\r\n    return {\r\n      eventHub: new Vue(),\r\n    };\r\n  },\r\n  provide() {\r\n    return {\r\n      eventHub: this.eventHub,\r\n    };\r\n  },\r\n  methods: {\r\n    setRandomValue() {\r\n      this.eventHub.$emit(\"update:msg\", Math.random() * 100);\r\n    },\r\n  },\r\n};\r\n```\r\n\r\nåœ¨è¦å‚³é data çš„çµ„ä»¶è£¡åŠ å…¥å»£æ’­\r\n\r\n```javascript\r\nimport eventHub from \"../library/eventHub\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    getCategories: function () {\r\n      let id = \"\";\r\n      axios\r\n        .get(base_url + \"/api/category/\")\r\n        .then((response) => {\r\n          this.name = response.data.name;\r\n          eventHub.$emit(\"categoryupdate\", this.name);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.getCategories();\r\n  },\r\n};\r\n```\r\n\r\næ¥è‘—åœ¨éœ€è¦ç›£è½çš„çµ„ä»¶è£¡æ³¨å…¥é€™å€‹ä¾è³´ï¼Œä¸¦åœ¨æ·»åŠ äº‹ä»¶ç›£è½ã€‚\r\n\r\n```javascript\r\nimport eventHub from \"../library/eventHub\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      categories: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    eventHub.$on(\"categoryupdate\", this.categoryupdate);\r\n  },\r\n  methods: {\r\n    categoryupdate(input) {\r\n      this.categories.push(input);\r\n    },\r\n  },\r\n};\r\n```\r\n\r\n## directive æŒ‡ä»¤\r\n\r\n### å±¬æ€§ç¶å®š\r\n\r\né€é `v-bind`ï¼Œé€²è¡Œæ•¸æ“šç¶å®š HTML class\r\n\r\nå‚³éå°è±¡çµ¦ v-bind:classï¼Œç”¨ä»¥å‹•æ…‹åˆ‡æ› class\r\n\r\n```html\r\n<div v-bind:class=\"{ active: isActive }\"></div>\r\n```\r\n\r\næ­¤æ™‚ `active` é€™å€‹ class æ˜¯å¦å­˜åœ¨ï¼Œå°‡å–æ±ºæ–¼ property `isActive` çš„ truthiness(è¨» 1)ã€‚\r\n\r\nå¯ä»¥åœ¨å°è±¡ä¸­å‚³å…¥æ›´å¤šå±¬æ€§ï¼Œä¾†å‹•æ…‹åˆ‡æ›å¤šå€‹ classã€‚æ­¤å¤– v-bind:class ä¹Ÿå¯ä»¥èˆ‡æ™®é€šçš„ class attribute å…±å­˜\r\n\r\n```html\r\n<div class=\"static\" v-bind:class=\"{ active: isActive, 'text-danger': hasError }\"></div>\r\n```\r\n\r\ndata:\r\n\r\n```javascript\r\ndata: {\r\n  isActive: true,\r\n  hasError: false\r\n}\r\n```\r\n\r\næ¸²æŸ“çµæœ\r\n\r\n```html\r\n<div class=\"static active\"></div>\r\n```\r\n\r\nç•¶ isActive æˆ– hasError è®ŠåŒ–æ™‚ï¼Œclass çš„å±¬æ€§æœƒåŒæ­¥æ›´æ–°ã€‚\r\n\r\nä¾‹å¦‚ï¼šè‹¥ hasError å€¼ç‚º trueï¼Œclass å±¬æ€§å°‡è®Šç‚º \"static active text-danger\"ã€‚\r\n\r\nç¶å®šçš„æ•¸æ“šå°è±¡ï¼Œä¸ä¸€å®šè¦å®šç¾©åœ¨æ¨¡æ¿è£¡\r\n\r\n```html\r\n<div v-bind:class=\"classObject\"></div>\r\n```\r\n\r\n```javascript\r\ndata: {\r\n  classObject: {\r\n    active: true,\r\n    'text-danger': false\r\n  }\r\n}\r\n```\r\n\r\næ­¤æ¸²æŸ“çš„çµæœå’Œä¸Šé¢ä¸€æ¨£ã€‚\r\n\r\nä¹Ÿå¯ä»¥åœ¨æ­¤ç¶å®š computed å±¬æ€§ã€‚\r\n\r\n```html\r\n<div v-bind:class=\"classObject\"></div>\r\n```\r\n\r\n```javascript\r\ndata: {\r\n  isActive: true,\r\n  error: null\r\n},\r\ncomputed: {\r\n  classObject: function () {\r\n    return {\r\n      active: this.isActive && !this.error,\r\n      'text-danger': this.error && this.error.type === 'fatal'\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### è¡¨å–®ç¶å®š `v-model`\r\n\r\n> ç•¶ä½¿ç”¨ v-model æŒ‡ä»¤æ™‚ï¼Œè¡¨å–®å…ƒç´ æœƒè‡ªå‹•å¿½ç•¥åŸæœ‰çš„ value, checked å’Œ selected å±¬æ€§ï¼Œå¯¦éš›çš„å€¼å°‡ä»¥ data å…§çš„ç‹€æ…‹ç‚ºä¸»\r\n\r\n#### input\r\n\r\nåœ¨ input æ–‡å­—æ¡†åŠ å…¥ v-model=\"message\" å±¬æ€§ä¹‹å¾Œï¼Œæ­¤æ–‡å­—æ¡†ä¾¿æœƒè‡ªå‹•è¢«ç¶å®š input äº‹ä»¶\r\n\r\n```html\r\n<div id=\"app\">\r\n  <input type=\"text\" v-model=\"message\" />\r\n  <p>Message is {{ message }}</p>\r\n</div>\r\n\r\n<script>\r\n  const vm = Vue.createApp({\r\n    data() {\r\n      return {\r\n        message: \"Hello\",\r\n      };\r\n    },\r\n  });\r\n</script>\r\n```\r\n\r\n#### textarea æ–‡å­—æ–¹å¡Š\r\n\r\nä½¿ç”¨æ–¹å¼èˆ‡ input å®Œå…¨ä¸€æ¨£\r\n\r\n```html\r\n<p><span>Multiline message is:</span>{{ message }}</p>\r\n\r\n<textarea v-model=\"message\"></textarea>\r\n```\r\n\r\n#### radio\r\n\r\n```html\r\n<div id=\"app\">\r\n  <div>\r\n    <input type=\"radio\" id=\"one\" value=\"1\" v-model=\"picked\" />\r\n    <label for=\"one\">One</label>\r\n  </div>\r\n  <div>\r\n    <input type=\"radio\" id=\"two\" value=\"2\" v-model=\"picked\" />\r\n    <label for=\"two\">Two</label>\r\n  </div>\r\n\r\n  <span>Picked: {{ picked }}</span>\r\n</div>\r\n\r\n<script>\r\n  const vm = Vue.createApp({\r\n    data() {\r\n      return {\r\n        picked: 1,\r\n      };\r\n    },\r\n  }).mount(\"#app\");\r\n</script>\r\n```\r\n\r\nå› ç‚º data è£¡çš„ picked é è¨­ç‚º 1ï¼Œæ‰€ä»¥åŸ·è¡Œæ™‚ç•«é¢ä¸Š `<input type=\"radio\" id=\"one\" value=\"1\">` æœƒé è¨­ç‚ºå·²é¸æ“‡\r\n\r\n#### checkbox\r\n\r\nå¯ä»¥ç•¶ä½œå¤šé¸çš„é¸é …ï¼Œè€Œç•¶ä»–åªæœ‰ä¸€å€‹çš„æ™‚å€™ï¼Œåˆå¯ä»¥å°‡å®ƒåš boolean çš„é¸é …\r\n\r\nè¤‡é¸æ™‚ï¼Œç”¨æ³•è·Ÿå‰é¢ radio å®Œå…¨ä¸€æ¨£ï¼Œå› ç‚ºæ˜¯è¤‡é¸çš„é—œä¿‚ï¼Œå…¶å·®åˆ¥åœ¨ data å…§çš„ç‹€æ…‹å¿…é ˆç‚ºé™£åˆ—\r\n\r\n```html\r\n<div id=\"app\">\r\n  <input type=\"checkbox\" id=\"jack\" value=\"jack\" v-model=\"checkedNames\" />\r\n  <label for=\"jack\">jack</label>\r\n  <input type=\"checkbox\" id=\"john\" value=\"john\" v-model=\"checkedNames\" />\r\n  <label for=\"john\">john</label>\r\n  <input type=\"checkbox\" id=\"mike\" value=\"mike\" v-model=\"checkedNames\" />\r\n  <label for=\"mike\">mike</label>\r\n  <input type=\"checkbox\" id=\"mary\" value=\"mary\" v-model=\"checkedNames\" />\r\n  <label for=\"mary\">mary</label>\r\n  <br />\r\n  <p>Checked names: {{ checkedNames }}</p>\r\n</div>\r\n\r\n<script>\r\n  const vm = Vue.createApp({\r\n    data() {\r\n      return {\r\n        checkedNames: [],\r\n      };\r\n    },\r\n  }).mount(\"#app\");\r\n</script>\r\n```\r\n\r\n- å¦‚æœè¦æ§åˆ¶è¡¨å–®çš„å…¨é¸æˆ–å…¨éƒ¨å–æ¶ˆï¼Œåªè¦æ§åˆ¶ data å…§çš„ checkedNames é™£åˆ—å…§å®¹å³å¯\r\n\r\nç•¶ checkbox ç‚ºå–®é¸æ™‚\r\n\r\n```html\r\n<div id=\"app\">\r\n  <input type=\"checkbox\" id=\"checkbox\" v-model=\"isChecked\" />\r\n  <label for=\"jack\">Status: {{ isChecked }}</label>\r\n</div>\r\n\r\n<script>\r\n  const vm = Vue.createApp({\r\n    data() {\r\n      return {\r\n        isChecked: true,\r\n      };\r\n    },\r\n  }).mount(\"#app\");\r\n</script>\r\n```\r\n\r\næ­¤æ™‚ï¼Œ data å…§çš„é¸é …ï¼Œæœƒè®Šæˆ true æˆ– falseï¼Œç•¶å€¼ç‚º true æ™‚ï¼Œå°æ‡‰çš„ checkbox æœƒè¢«å‹¾èµ·ã€‚\r\n\r\n#### select ä¸‹æ‹‰å¼é¸å–®\r\n\r\n```html\r\n<div id=\"app\">\r\n  <select v-model=\"selected\">\r\n    <option disabled value=\"\">è«‹é¸æ“‡</option>\r\n    <option>å°åŒ—å¸‚</option>\r\n    <option>æ–°åŒ—å¸‚</option>\r\n    <option>åŸºéš†å¸‚</option>\r\n  </select>\r\n\r\n  <p>Selected: {{ selected || 'æœªé¸æ“‡' }}</p>\r\n</div>\r\n\r\n<script>\r\n  const vm = Vue.createApp({\r\n    data() {\r\n      return {\r\n        selected: \"\",\r\n      };\r\n    },\r\n  }).mount(\"#app\");\r\n</script>\r\n```\r\n\r\nv-model æ¨™ç±¤é ˆä½¿ç”¨åœ¨ `<select>` æ¨™ç±¤ï¼Œä¸èƒ½ç”¨åœ¨ `<option>` æ¨™ç±¤ä¸­\r\n\r\n### v-model ä¿®é£¾å­\r\n\r\n#### .lazy\r\n\r\n```html\r\n<input v-model.lazy=\"message\" />\r\n```\r\n\r\nåœ¨ v-model å±¬æ€§å¾Œé¢åŠ ä¸Š.lazyï¼Œæ­¤è¼¸å…¥æ¡†å°±æœƒå¾åŸæœ¬çš„ input äº‹ä»¶ï¼Œè®Šæˆç›£è½ change äº‹ä»¶\r\n\r\nä¹Ÿå°±æ˜¯ï¼ŒåŸæœ¬ input äº‹ä»¶æœƒåœ¨è¼¸å…¥å€¼æ™‚åšå¯¦æ™‚çš„æ›´æ–°ï¼Œè€Œç›£è½ change äº‹ä»¶ï¼Œå‰‡æ˜¯ç•¶ä½¿ç”¨è€…é›¢é–‹è¼¸å…¥æ¡†ç„¦é»æ™‚æ‰æœƒæ›´æ–°ã€‚\r\n\r\n### æ¨¡æ¿ç¶å®š\r\n\r\n#### v-text\r\n\r\n```html\r\n<div id=\"app\">\r\n  <div v-text=\"text\"></div>\r\n</div>\r\n\r\n<script>\r\n  const vm = Vue.createApp({\r\n    data() {\r\n      return {\r\n        text: \"hello\",\r\n      };\r\n    },\r\n  }).mount(\"#app\");\r\n</script>\r\n```\r\n\r\nç•¶é€é v-text æŒ‡ä»¤ä¾†é€²è¡Œç¶å®šï¼Œæ­¤æ™‚ç•«é¢æ¸²æŸ“å‡ºä¾†çš„çµæœæœƒèˆ‡ä¸‹é¢ç›¸åŒ\r\n\r\n```html\r\n<div>{{ text }}</div>\r\n```\r\n\r\nä½†è‹¥åœ¨ v-text ç¶å®šçš„æ¨™ç±¤å…§åŠ å…¥æ–‡å­—ï¼Œä»¥ v-text æŒ‡ä»¤æ¸²æŸ“å‡ºä¾†çš„çµæœæœƒç„¡è¦–æ¨™ç±¤å…§çš„å…§å®¹\r\n\r\n```html\r\n<!-- åªæœƒå‡ºç¾ Hello -->\r\n<div v-text=\"text\">World!</div>\r\n\r\n<!-- å‡ºç¾ Hello world! -->\r\n<div>{{ text }} world!</div>\r\n```\r\n\r\n#### v-html\r\n\r\nå’Œ v-text é¡ä¼¼ï¼Œä½†ç•¶ data çš„å…§å®¹ç‚º HTML çš„èªæ³•æ™‚ï¼Œv-html æœƒå°‡å…¶æ¸²æŸ“ç‚º html èªæ³•\r\n\r\n```html\r\n<button v-for=\"(item, index) in data.links\">{{ item.label }}</button>\r\n<!--  è¼¸å‡ºçµæœ -->\r\n&laquo; Previous\r\n```\r\n\r\n```html\r\n<button v-for=\"(item, index) in data.links\" v-html=\"item.label\"></button>\r\n<!--  è¼¸å‡ºçµæœ -->\r\n<< Previous\r\n```\r\n\r\n#### v-once\r\n\r\nåªæ¸²æŸ“æŒ‡å®šçš„ç¯€é»ä¸€æ¬¡ï¼Œå¾€å¾Œå°±ä¸å†æ›´æ–°\r\n\r\n#### v-pre\r\n\r\nåŠ å…¥ v-pre å¾Œï¼Œå°±ä¸æœƒè§£ææ¨¡æ¿å…§å®¹ã€‚\r\n\r\n### æ¨£å¼ç¶å®š\r\n\r\n## æ¢ä»¶æ¸²æŸ“\r\n\r\n### v-if\r\n\r\nå…¶å±¬æ€§ç‚º truthyï¼Œç•¶å…¶è¿”å› true æ™‚æœƒè¢«æ¸²æŸ“ã€‚\r\n\r\n```html\r\n<h1 v-if=\"awesome\">Vue is awesome!</h1>\r\n```\r\n\r\nå¯ä»¥æ·»åŠ  `v-else`\r\n\r\n```html\r\n<h1 v-if=\"awesome\">Vue is awesome!</h1>\r\n<h1 v-else>It's not true.</h1>\r\n```\r\n\r\né‚„å¯ä»¥æ·»åŠ  `v-else-if`\r\n\r\næ­¤ä¸‰å…ƒç´ éœ€ç·Šè·Ÿå½¼æ­¤ï¼Œå¦å‰‡å°‡ä¸æœƒè¢«è­˜åˆ¥\r\n\r\n### v-show\r\n\r\nå’Œ `v-if` ç”¨æ³•é¡ä¼¼ï¼Œä¸åŒçš„æ˜¯ `v-show` çš„å…ƒç´ å§‹çµ‚æœƒè¢«æ¸²æŸ“ä¸¦ä¿ç•™åœ¨ DOM ä¸­ï¼Œ`v-show` åªæ˜¯å–®ç´”çš„åˆ‡æ›å…ƒç´ çš„ CSS property displayã€‚\r\n\r\n`v-if` æ˜¯çœŸæ­£çš„æ¢ä»¶æ¸²æŸ“ï¼Œä»–æœƒç¢ºä¿åœ¨åˆ‡æ›éç¨‹ä¸­æ¢ä»¶å…§çš„äº‹ä»¶ç›£è½å™¨å’Œå­çµ„ä»¶é©ç•¶çš„è¢«éŠ·æ¯€å’Œé‡å»ºã€‚\r\n\r\nåŒæ™‚ `v-if` ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼Œè‹¥åœ¨åˆå§‹æ¸²æŸ“æ™‚æ¢ä»¶ç‚º falseï¼Œå‰‡ä¸åŸ·è¡Œï¼Œç›´è‡³æ¢ä»¶ç¬¬ä¸€æ¬¡è½‰ç‚º true æ™‚ï¼Œæ‰æœƒé–‹å§‹æ¸²æŸ“ã€‚\r\n\r\nç›¸è¼ƒä¹‹ä¸‹ï¼Œ`v-show` å°±æ¯”è¼ƒå–®ç´”ï¼Œç„¡è«–åˆå§‹æ¢ä»¶ï¼Œå…ƒç´ ç¸½æ˜¯æœƒè¢«æ¸²æŸ“ï¼Œ`v-show` åšçš„åªæ˜¯åŸºæ–¼ CSS é€²è¡Œåˆ‡æ›ã€‚\r\n\r\n## è¿´åœˆæ¸²æŸ“\r\n\r\nv-for å¯ä»¥ç”¨é™£åˆ—é€²è¡Œæ¸²æŸ“æˆä¸€å€‹åˆ—è¡¨ã€‚å…¶èªæ³•ç‚º item in itemsï¼Œitems ç‚ºæºé™£åˆ—ï¼Œè€Œ item å‰‡ç‚ºè¢«è¿­ä»£çš„é™£åˆ—å…ƒç´ åˆ¥åã€‚\r\n\r\n```html\r\n<ul id=\"example-1\">\r\n  <li v-for=\"item in items\" :key=\"item.message\">{{ item.message }}</li>\r\n</ul>\r\n```\r\n\r\n```javascript\r\nvar example1 = new Vue({\r\n  el: \"#example-1\",\r\n  data: {\r\n    items: [{ message: \"Foo\" }, { message: \"Bar\" }],\r\n  },\r\n});\r\n```\r\n\r\nè¼¸å‡º\r\n\r\n```txt\r\nFoo\r\nBar\r\n```\r\n\r\nåœ¨ v-for ä¸­å¯ä»¥è¨ªå•æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ propertyã€‚v-for é‚„å¯åŠ å…¥å¯é¸çš„ç¬¬äºŒåƒæ•¸ä½œç‚ºç•¶å‰çš„ key å€¼ã€‚\r\n\r\n```html\r\n<ul id=\"example-2\">\r\n  <li v-for=\"(item, index) in items\">{{ parentMessage }} - {{ index }} - {{ item.message }}</li>\r\n</ul>\r\n```\r\n\r\n```javascript\r\nvar example2 = new Vue({\r\n  el: \"#example-2\",\r\n  data: {\r\n    parentMessage: \"Parent\",\r\n    items: [{ message: \"Foo\" }, { message: \"Bar\" }],\r\n  },\r\n});\r\n```\r\n\r\n```txt\r\nparent-0-Foo\r\nparent-1-Bar\r\n```\r\n\r\nç”¨ v-for ä¾†è¿­ä»£ä¸€å€‹å°è±¡çš„ property\r\n\r\n```html\r\n<ul id=\"v-for-object\" class=\"demo\">\r\n  <li v-for=\"value in object\">{{ value }}</li>\r\n</ul>\r\n```\r\n\r\n```javascript\r\nnew Vue({\r\n  el: \"#v-for-object\",\r\n  data: {\r\n    object: {\r\n      title: \"How to do lists in Vue\",\r\n      author: \"Jane Doe\",\r\n      publishedAt: \"2016-04-10\",\r\n    },\r\n  },\r\n});\r\n```\r\n\r\n```txt\r\nHow to do lists in Vue\r\nJane Doe\r\n2016-04-10\r\n```\r\n\r\nå¯ä»¥å‚³å…¥ç¬¬äºŒå€‹åƒæ•¸ä½œç‚º property çš„åç¨±(key å€¼)\r\n\r\n```html\r\n<div v-for=\"(value, name) in object\">{{ name }}: {{ value }}</div>\r\n```\r\n\r\n```txt\r\ntitle: How to do lists in Vue\r\nauthor: Jane Doe\r\npublishedAt: 2016-04-10\r\n```\r\n\r\né‚„å¯ä»¥å‚³å…¥ç¬¬ä¸‰å€‹åƒæ•¸ä½œç‚ºç´¢å¼•å€¼\r\n\r\n```html\r\n<div v-for=\"(value, name, index) in object\">{{ index }}. {{ name }}: {{ value }}</div>\r\n```\r\n\r\n```txt\r\n0. title: How to do lists in Vue\r\n1. author: Jane Doe\r\n2. **publishedAt**: 2016-04-10\r\n```\r\n\r\n## äº‹ä»¶ç›£è½å™¨\r\n\r\n> éœæ…‹äº‹ä»¶ç›£è½\r\n>\r\n> - å…ƒç´ ä¸Šä½¿ç”¨ v-on ç›£è½åŸç”Ÿäº‹ä»¶\r\n> - çˆ¶çµ„ä»¶è¨­å®š v-on è¨­å®šæ‰€éœ€è¦ç›£è½çš„äº‹ä»¶ï¼Œå­çµ„ä»¶ç”¨ $emit è§¸ç™¼äº‹ä»¶\r\n> - åœ¨ Vue å¯¦é«”ä¸Šè¨­å®šç”Ÿå‘½é€±æœŸé‰¤å­ï¼Œç›£è½å„å€‹é‰¤å­äº‹ä»¶ã€‚\r\n\r\nç•¶è¦åœ¨åŸ·è¡Œæ™‚å»å‹•æ…‹å¢æ¸›äº‹ä»¶çš„ç›£è½ï¼Œé€™æ™‚å°±è¦ç”¨åˆ° $on, $once, and $off é€™äº› js å‡½å¼ä¾†åšè¨­å®šã€‚\r\n\r\n## props\r\n\r\n### å‘½åèˆ‡ä½¿ç”¨\r\n\r\nå¯ä»¥ä½¿ç”¨ PascalCase æˆ–æ˜¯ camelCase çš„å‘½åæ–¹æ³•ï¼Œä½†åœ¨ html ä¸­å¿…é ˆä½¿ç”¨ kebab-case ä¸”æ‡‰è©²å°å¯«(html å¤§å°å¯«ä¸æ•æ„Ÿ)\r\n\r\nåƒæ˜¯ PostTitle ã€ CartItem ã€ TodoItem ç­‰ï¼Œåœ¨ HTML ä¸­ä½¿ç”¨æ™‚å°±æœƒè®Šæˆ post-title ã€ cart-item ã€ todo-itemã€‚\r\n\r\n```vue\r\n<div id=\"vm\">\r\n<!--post-title è·Ÿ post-content éƒ½æ˜¯props -->\r\n  <blog-post post-title=\"Blog1\" post-content=\"I\\'m content1\"></blog-post>\r\n</div>\r\n\r\n<script>\r\n  Vue.component(\"blog-post\", {\r\n    props: [\"PostTitle\", \"postContent\"],\r\n    template: `<div>\r\n    <h3>{{ PostTitle }}</h3>\r\n    <div>{{ postContent }}</div>\r\n  </div>`,\r\n  });\r\n</script>\r\n```\r\n\r\n### å‚³é props å€¼çš„æ–¹æ³•\r\n\r\n#### å‚³éå­—ä¸²\r\n\r\n```vue\r\n<blog-post post-title=\"Blog1\" post-content=\"I\\'m content1\" post-complete=\"true\" post-total-num=\"500\" post=\"{title:'Blog1'}\">\r\n</blog-post>\r\n```\r\n\r\nåªè¦æ˜¯ç›´æ¥å‚³é(éœæ…‹å‚³é)éƒ½æ˜¯å­—ä¸²ï¼Œæ‰€ä»¥ prop æ¥æ”¶çš„å€¼ log1ã€I\\'m content1ã€trueã€500ã€{...} ç­‰ç­‰éƒ½æ˜¯å­—ä¸²ã€‚\r\n\r\n#### å‚³éæ•¸å­—ã€å¸ƒæ—å€¼ã€é™£åˆ—ã€ç‰©ä»¶\r\n\r\nåˆ©ç”¨ vue çš„ v-bind å‚³éå­—ä¸²ä»¥å¤–çš„å€¼ã€‚\r\n\r\n```vue\r\n<blog-post\r\n  post-title=\"å‹•æ…‹å‚³é\"\r\n  post-content=\"I\\'m content1\"\r\n  v-bind:post-complete=\"true\"\r\n  v-bind:post-total-num=\"500\"\r\n  v-bind:post=\"{ title: 'å‹•æ…‹å‚³é' }\"\r\n></blog-post>\r\n```\r\n\r\nä¹Ÿå¯ä»¥é€éçµ¦äºˆè®Šæ•¸ä¾†ç²å¾—æ•¸å­—ã€å¸ƒæ—å€¼ã€é™£åˆ—æˆ–ç‰©ä»¶ç­‰å‹åˆ¥\r\n\r\n```vue\r\n<blog-post\r\n  :post-title=\"postTitle\"\r\n  :post-content=\"postContent\"\r\n  :post-complete=\"postComplete\"\r\n  :post-total-num=\"postTotalNum\"\r\n  :post=\"post\"\r\n></blog-post>\r\n\r\n<script>\r\n  const vm = new Vue({\r\n    el: \"#vm\",\r\n    data: {\r\n      postTitle: \"å‹•æ…‹å‚³é\",\r\n      postContent: \"I'm content\",\r\n      postComplete: true,\r\n      postTotalNum: 500,\r\n      post: { title: \"å‹•æ…‹å‚³é\" },\r\n    },\r\n  });\r\n</script>\r\n```\r\n\r\n### å–®å‘æ•¸æ“šæµ\r\n\r\nprop æ˜¯ç‚ºäº†æ¥æ”¶å¾å¯Œçµ„ä»¶å‚³ééä¾†çš„è³‡æ–™ï¼Œè€Œé€™äº›è³‡æ–™æ˜¯å–®å‘ç¶å®šçš„ï¼Œå·²å°±æ˜¯èªªçˆ¶æ¨¡çµ„è³‡æ–™çš„æ›´æ–°ï¼Œæœƒå½±éŸ¿å­æ¨¡çµ„è£¡çš„ propï¼Œä½†å­æ¨¡çµ„è£¡ prop å€¼æ”¹è®Šä¸¦ä¸æœƒå½±éŸ¿çˆ¶æ¨¡çµ„ã€‚\r\n\r\n```vue\r\n<prop-change :counter=\"counter\"></prop-change>\r\n<br />\r\n<span>å¤– {{counter}}</span>\r\n<button type=\"button\" @click=\"changeOuterCounter\">æ”¹è®Šå¤–é¢æ•¸å­—</button>\r\n\r\n<script>\r\n  Vue.component(\"prop-change\", {\r\n    props: [\"counter\"],\r\n    template: `<div>\r\n    <span>componentå…§çš„  {{counter}}</span>\r\n    <button type=\"button\" @click=\"changeInnerCounter\">æ”¹è®Šcomponentæ•¸å­—</button>\r\n  </div>`,\r\n    methods: {\r\n      changeInnerCounter() {\r\n        this.counter += 2;\r\n      },\r\n    },\r\n  });\r\n\r\n  const vm = new Vue({\r\n    el: \"#vm\",\r\n    data: {\r\n      counter: 1,\r\n    },\r\n    methods: {\r\n      changeOuterCounter() {\r\n        this.counter += 1;\r\n      },\r\n    },\r\n  });\r\n</script>\r\n```\r\n\r\nä»¥ä¸Šæ¸¬è©¦å¯ä»¥å¾—çŸ¥ï¼š\r\n\r\n- å¤–é¢(çˆ¶å±¤)çš„è³‡æ–™ counter æ”¹è®Šæœƒå½±éŸ¿å­æ¨¡çµ„ prop çš„ counter çš„å€¼ã€‚\r\n- å­æ¨¡çµ„ prop çš„ counter å€¼æ”¹è®Šåƒ…å½±éŸ¿å…§éƒ¨ counter å€¼\r\n- ä¸è«–å­æ¨¡çµ„çš„ prop çš„ counter å€¼æ˜¯å¦æœ‰è®Šå‹•ï¼Œåªè¦çˆ¶æ¨¡çµ„è³‡æ–™ counter æ”¹è®Šæ™‚ï¼Œå­æ¨¡çµ„ prop çš„ counter å€¼ä¸€å®šæœƒé€£å‹•ã€‚\r\n\r\n### æ”¹è®Šå­æ¨¡çµ„å…§çš„ prop å€¼\r\n\r\n- åœ¨ data å…§å‰µå»ºä¸€å€‹å€¼\r\n  è³¦äºˆ data è·Ÿ prop åˆå§‹å€¼ç›¸åŒçš„å€¼ï¼Œä¸”ä¹‹å¾Œä¹Ÿæ˜¯é‡å°è©² data å…§çš„å€¼æ“ä½œï¼Œä¸¦ä¸”ä¸æœƒå†å—åˆ°è©² prop çš„å½±éŸ¿äº†\r\n\r\n  ```javascript\r\n  Vue.component(\"one-way-data\", {\r\n    props: [\"counter\"],\r\n    template: `<div>\r\n      <span>componentå…§çš„  {{newCounter}}</span>\r\n      <button type=\"button\" @click=\"changeNewCounter\">æ”¹è®Šcomponentæ•¸å­—</button>\r\n    </div>`,\r\n    data() {\r\n      return {\r\n        newCounter: this.counter,\r\n      };\r\n    },\r\n    methods: {\r\n      changeNewCounter() {\r\n        this.newCounter += 10;\r\n      },\r\n    },\r\n  });\r\n  ```\r\n\r\n### ç‰©ä»¶å‹åˆ¥çš„ prop å‚³é\r\n\r\n- çˆ¶å±¤é€éæ¨™ç±¤å‚³éåƒæ•¸\r\n\r\n```javascript\r\n<ExLogLineComponent :channel-names=\"channel_names\" :region-id=\"region.id\" :bx-mac=\"region.bx_mac\"></ExLogLineComponent>\r\n```\r\n\r\n- å­å±¤ prop æ¥æ”¶åƒæ•¸å¾Œï¼Œé€é watch å°‡åƒæ•¸å­˜å…¥ data.return\r\n\r\n```javascript\r\nprops: ['channelNames', 'regionId', 'bxMac'],\r\n    data() {\r\n        return {\r\n            channel_names: [],\r\n            region_id: '',\r\n            mac: ''\r\n        }\r\n    },\r\n    watch: {\r\n        channelNames(names) {\r\n            this.channel_names = names;\r\n        },\r\n        regionId(id) {\r\n            this.region_id = id;\r\n        },\r\n        bxMac(mac) {\r\n            this.mac = mac;\r\n        }\r\n    },\r\n```\r\n\r\n### å­çµ„ä»¶æ¥æ”¶ä¾†è‡ªçˆ¶çµ„ä»¶çš„ props\r\n\r\n#### åœ¨æ¨¡æ¿ä¸­\r\n\r\n```vue\r\n<template>\r\n  <div>{{ parentData }}</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: [\"parentData\"],\r\n  };\r\n</script>\r\n```\r\n\r\n#### åœ¨ data ä¸­\r\n\r\n```vue\r\n<script>\r\n  export default {\r\n    props: [\"parentData\"],\r\n    data() {\r\n      return {\r\n        parent_data: this.parentData,\r\n      };\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\n#### åœ¨ methods ä¸­\r\n\r\n```vue\r\n<script>\r\n  export default {\r\n    props: [\"parentData\"],\r\n    methods: {\r\n      printParentData: function () {\r\n        console.log(this.$props.parentData);\r\n      },\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\n#### åœ¨ mounted ä¸­\r\n\r\n```vue\r\n<script>\r\n  export default {\r\n    props: [\"parentData\"],\r\n    mounted() {\r\n      console.log(this.message);\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\n#### åœ¨ computed ä¸­\r\n\r\n```vue\r\n<template>\r\n  <div>\r\n    <p>{{ parentDataLength }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: [\"parentData\"],\r\n    computed: {\r\n      parentDataLength() {\r\n        return this.parentData.length;\r\n      },\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\n## emit å­çµ„ä»¶å‘çˆ¶çµ„ä»¶å‚³éåƒæ•¸\r\n\r\n```vue\r\n<!-- å­çµ„ä»¶ HelloWorld.vue -->\r\n<template>\r\n  <div></div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    methods: {\r\n      open() {\r\n        console.log(\"å·²å‘¼å«\");\r\n        // å‘¼å«çˆ¶çµ„ä»¶æ–¹æ³•\r\n        this.$emit(\"refresh-data\");\r\n      },\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\n```vue\r\n<!-- çˆ¶çµ„ä»¶ -->\r\n<template>\r\n  <div id=\"app\">\r\n    <!-- å­çµ„ä»¶å‚³éçš„æ–¹æ³• refresh-data -->\r\n    <HelloWorld ref=\"hello\" @refresh-data=\"getData\" />\r\n    <button @click=\"getHello\">å–å¾— HelloWorld çµ„ä»¶ä¸­çš„å€¼</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import HelloWorld from \"./components/HelloWorld.vue\";\r\n\r\n  export default {\r\n    components: {\r\n      HelloWorld,\r\n    },\r\n    data() {\r\n      return {};\r\n    },\r\n    methods: {\r\n      getHello() {\r\n        this.$refs.hello.open();\r\n      },\r\n      getData() {\r\n        console.log(\"111111111\");\r\n      },\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\næœ€å¾Œè¼¸å‡ºæ™‚ï¼Œ`å·²å‘¼å«`ç‚ºå­çµ„ä»¶è¼¸å‡ºï¼Œ`111111111111`ç‚ºçˆ¶çµ„ä»¶è¼¸å‡º\r\n\r\n## ref å–å¾— Dom å…ƒç´ \r\n\r\n> `refs` æ˜¯ vue æä¾›çš„ä¸€å€‹ apiï¼Œå¯ä»¥è®“æˆ‘å€‘åœ¨ vue ä¸­å–å¾— Dom å…ƒç´ \r\n\r\n`ref` è¢«ç”¨ä¾†çµ¦å…ƒç´ æˆ–å­çµ„ä»¶è¨»å†Šå¼•ç”¨è¨Šæ¯ï¼Œå¼•ç”¨è¨Šæ¯å°‡æœƒè¨»å†Šåœ¨çˆ¶çµ„ä»¶çš„`$refs` ç‰©ä»¶ä¸Šï¼Œå¦‚æœåœ¨æ™®é€šçš„ dom å…ƒç´ ä¸Šä½¿ç”¨ï¼Œé‚£éº¼æŒ‡å‘çš„å°±æœƒæ˜¯æ™®é€šçš„ dom å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­çµ„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æœƒæŒ‡å‘è©²å­çµ„ä»¶çš„å¯¦ä¾‹ã€‚\r\n\r\nref çš„ç‰¹æ€§å°±æ˜¯ç‚ºå…ƒç´ æˆ–å­çµ„ä»¶è³¦äºˆä¸€å€‹ id å¼•ç”¨ï¼Œé€šé `this.$ref.refName` ä¾†è¨ªå•å…ƒç´ æˆ–æ˜¯å­çµ„ä»¶çš„å¯¦ä¾‹ã€‚\r\n\r\n- ä¸€å…±æœ‰ä¸‰ç¨®ç”¨æ³•ï¼š\r\n  - ref åŠ åœ¨æ™®é€šå…ƒç´ ä¸Šï¼Œç”¨ `this.ref.name` ç²å–åˆ°çš„æ˜¯ dom å…ƒç´ \r\n  - ref åŠ åœ¨å­çµ„ä»¶ä¸Šï¼Œç”¨ `this.ref.name` æ–¹å¼ï¼Œç²å¾—çš„æ˜¯çµ„ä»¶å¯¦ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨çµ„ä»¶çš„æ‰€æœ‰æ–¹æ³•ã€‚\r\n  - å¦‚ä½•åˆ©ç”¨ v-for å’Œ ref ç²å–ä¸€çµ„é™£åˆ—æˆ–æ˜¯ dom ç¯€é»\r\n\r\n### åŸºæœ¬ç”¨æ³•ï¼šå–å¾— dom å…ƒç´ \r\n\r\n```html\r\n<p ref=\"p\">Hello</p>\r\n<children ref=\"children\"></children>\r\n```\r\n\r\n```javascript\r\nthis.$ref.p;\r\nthis.$ref.children;\r\n```\r\n\r\n### ç²å–å­çµ„ä»¶ä¸­çš„ data å’Œèª¿ç”¨å­çµ„ä»¶çš„æ–¹æ³•\r\n\r\n```vue\r\n<!-- å­çµ„ä»¶ -->\r\n<template>\r\n  <div>{{ msg }}</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        msg: \"æˆ‘æ˜¯å­çµ„ä»¶\";\r\n      }\r\n    },\r\n    methods: {\r\n      changeMsg() {\r\n        this.mag = \"è®Šèº«\";\r\n      }\r\n    }\r\n  }\r\n</script>\r\n```\r\n\r\n```vue\r\n<!-- çˆ¶çµ„ä»¶ -->\r\n<template>\r\n  <div @click=\"parentMethod\">\r\n    <children ref=\"children\"></children>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import children from \"components/children.vue\";\r\n\r\n  export default {\r\n    components: {\r\n      children,\r\n    },\r\n    data() {\r\n      return {};\r\n    },\r\n    methods: {\r\n      parentMethod() {\r\n        this.$ref.children; // è¿”å›ä¸€å€‹ç‰©ä»¶\r\n        this.$ref.children.changMsg(); // å‘¼å« children çš„ changeMsg æ–¹æ³•\r\n      },\r\n    },\r\n  };\r\n</script>\r\n```\r\n\r\n### this.$refs ä»‹ç´¹\r\n\r\n`this.$refs` ç‚ºä¸€å€‹ç‰©ä»¶ï¼ŒæŒæœ‰ç•¶å‰çµ„ä»¶ä¸­è¨»å†Šé`ref`ç‰¹æ€§çš„æ‰€æœ‰`dom`å…ƒç´ å’Œå­çµ„ä»¶å¯¦ä¾‹ã€‚\r\n\r\næ³¨æ„ï¼š`$refs` åªæœ‰åœ¨çµ„ä»¶å®Œæˆæ¸²æŸ“å¾Œæ‰æœƒå¡«å……ï¼Œåœ¨åˆå§‹æ¸²æŸ“æ™‚ç„¡æ³•å–å¾—ï¼Œä¸¦ä¸”ä»–æ˜¯ééŸ¿æ‡‰å¼çš„ï¼Œå› æ­¤ä¸èƒ½ç”¨ä»–æ¨¡ç‰ˆä¸­åšæ•¸æ“šç¶å®šã€‚\r\n\r\nç•¶ ref å’Œ v-for ä¸€èµ·ç”¨æ™‚ï¼Œä½ å¾—åˆ°çš„ ref å°‡æœƒæ˜¯ä¸€å€‹åŒ…å«äº†å°æ‡‰çš„æ•¸æ“šæºçš„é€™äº›å­çµ„ä»¶çš„é™£åˆ—ã€‚\r\n\r\n```vue\r\n<template>\r\n  <ul>\r\n    <li v-for=\"item in people\" ref=\"refContent\">{{ item }}</li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data: {\r\n      return {\r\n        people:['one', 'two', 'three', 'four', 'five']\r\n      }\r\n    },\r\n    created() {\r\n      this.$nextTick(() => {\r\n        console.log(this.$refs.refContent);\r\n      })\r\n    },\r\n    mounted() {\r\n      console.log(this.$refs.refContent);\r\n    }\r\n  };\r\n</script>\r\n```\r\n\r\n## å‚™è¨»\r\n\r\n- è¨» 1: `Truthy` å‡å€¼(false, 0, -0, 0n, \"\", null, undefined, NaN)ä»¥å¤–çš„ä»»ä½•å€¼çš†ç‚º true\r\n\r\n### åˆ¤æ–·ç•¶å‰ç’°å¢ƒæ˜¯å¦ç‚ºé–‹ç™¼ç’°å¢ƒ\r\n\r\n```javascript\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  this.is_dev = true;\r\n} else {\r\n  this.is_dev = false;\r\n}\r\n```\r\n","date":"2023-08-22T01:15:52.679Z","matchingLines":["## Vue å¯¦é«”çš„ç”Ÿå‘½é€±æœŸ\r","## Vue å±¬æ€§\r","## eventHub äº‹ä»¶ä¸­å¿ƒ: vue 2\r","## directive æŒ‡ä»¤\r","## æ¢ä»¶æ¸²æŸ“\r","## è¿´åœˆæ¸²æŸ“\r","## äº‹ä»¶ç›£è½å™¨\r","## props\r","## emit å­çµ„ä»¶å‘çˆ¶çµ„ä»¶å‚³éåƒæ•¸\r","## ref å–å¾— Dom å…ƒç´ \r","## å‚™è¨»\r"],"tocContent":"- [Vue å­¸ç¿’ç­†è¨˜](#vue-å­¸ç¿’ç­†è¨˜)\r\n  - [Vue å¯¦é«”çš„ç”Ÿå‘½é€±æœŸ](#vue-å¯¦é«”çš„ç”Ÿå‘½é€±æœŸ)\r\n  - [Vue å±¬æ€§](#vue-å±¬æ€§)\r\n    - [watch ç›£è½å™¨](#watch-ç›£è½å™¨)\r\n      - [$watch](#watch)\r\n      - [watch](#watch-1)\r\n    - [computed è¨ˆç®—](#computed-è¨ˆç®—)\r\n      - [watch å’Œ computed å·®åˆ¥](#watch-å’Œ-computed-å·®åˆ¥)\r\n        - [ä¾è³´æ›´æ–°æ‰æœƒé‡æ–°åŸ·è¡Œ](#ä¾è³´æ›´æ–°æ‰æœƒé‡æ–°åŸ·è¡Œ)\r\n    - [computedã€watch å’Œ methods çš„ä½¿ç”¨æ™‚æ©Ÿ](#computedwatch-å’Œ-methods-çš„ä½¿ç”¨æ™‚æ©Ÿ)\r\n  - [eventHub äº‹ä»¶ä¸­å¿ƒ: vue 2](#eventhub-äº‹ä»¶ä¸­å¿ƒ-vue-2)\r\n  - [directive æŒ‡ä»¤](#directive-æŒ‡ä»¤)\r\n    - [å±¬æ€§ç¶å®š](#å±¬æ€§ç¶å®š)\r\n    - [è¡¨å–®ç¶å®š `v-model`](#è¡¨å–®ç¶å®š-v-model)\r\n      - [input](#input)\r\n      - [textarea æ–‡å­—æ–¹å¡Š](#textarea-æ–‡å­—æ–¹å¡Š)\r\n      - [radio](#radio)\r\n      - [checkbox](#checkbox)\r\n      - [select ä¸‹æ‹‰å¼é¸å–®](#select-ä¸‹æ‹‰å¼é¸å–®)\r\n    - [v-model ä¿®é£¾å­](#v-model-ä¿®é£¾å­)\r\n      - [.lazy](#lazy)\r\n    - [æ¨¡æ¿ç¶å®š](#æ¨¡æ¿ç¶å®š)\r\n      - [v-text](#v-text)\r\n      - [v-html](#v-html)\r\n      - [v-once](#v-once)\r\n      - [v-pre](#v-pre)\r\n    - [æ¨£å¼ç¶å®š](#æ¨£å¼ç¶å®š)\r\n  - [æ¢ä»¶æ¸²æŸ“](#æ¢ä»¶æ¸²æŸ“)\r\n    - [v-if](#v-if)\r\n    - [v-show](#v-show)\r\n  - [è¿´åœˆæ¸²æŸ“](#è¿´åœˆæ¸²æŸ“)\r\n  - [äº‹ä»¶ç›£è½å™¨](#äº‹ä»¶ç›£è½å™¨)\r\n  - [props](#props)\r\n    - [å‘½åèˆ‡ä½¿ç”¨](#å‘½åèˆ‡ä½¿ç”¨)\r\n    - [å‚³é props å€¼çš„æ–¹æ³•](#å‚³é-props-å€¼çš„æ–¹æ³•)\r\n      - [å‚³éå­—ä¸²](#å‚³éå­—ä¸²)\r\n      - [å‚³éæ•¸å­—ã€å¸ƒæ—å€¼ã€é™£åˆ—ã€ç‰©ä»¶](#å‚³éæ•¸å­—å¸ƒæ—å€¼é™£åˆ—ç‰©ä»¶)\r\n    - [å–®å‘æ•¸æ“šæµ](#å–®å‘æ•¸æ“šæµ)\r\n    - [æ”¹è®Šå­æ¨¡çµ„å…§çš„ prop å€¼](#æ”¹è®Šå­æ¨¡çµ„å…§çš„-prop-å€¼)\r\n    - [ç‰©ä»¶å‹åˆ¥çš„ prop å‚³é](#ç‰©ä»¶å‹åˆ¥çš„-prop-å‚³é)\r\n    - [å­çµ„ä»¶æ¥æ”¶ä¾†è‡ªçˆ¶çµ„ä»¶çš„ props](#å­çµ„ä»¶æ¥æ”¶ä¾†è‡ªçˆ¶çµ„ä»¶çš„-props)\r\n      - [åœ¨æ¨¡æ¿ä¸­](#åœ¨æ¨¡æ¿ä¸­)\r\n      - [åœ¨ data ä¸­](#åœ¨-data-ä¸­)\r\n      - [åœ¨ methods ä¸­](#åœ¨-methods-ä¸­)\r\n      - [åœ¨ mounted ä¸­](#åœ¨-mounted-ä¸­)\r\n      - [åœ¨ computed ä¸­](#åœ¨-computed-ä¸­)\r\n  - [emit å­çµ„ä»¶å‘çˆ¶çµ„ä»¶å‚³éåƒæ•¸](#emit-å­çµ„ä»¶å‘çˆ¶çµ„ä»¶å‚³éåƒæ•¸)\r\n  - [ref å–å¾— Dom å…ƒç´ ](#ref-å–å¾—-dom-å…ƒç´ )\r\n    - [åŸºæœ¬ç”¨æ³•ï¼šå–å¾— dom å…ƒç´ ](#åŸºæœ¬ç”¨æ³•å–å¾—-dom-å…ƒç´ )\r\n    - [ç²å–å­çµ„ä»¶ä¸­çš„ data å’Œèª¿ç”¨å­çµ„ä»¶çš„æ–¹æ³•](#ç²å–å­çµ„ä»¶ä¸­çš„-data-å’Œèª¿ç”¨å­çµ„ä»¶çš„æ–¹æ³•)\r\n    - [this.$refs ä»‹ç´¹](#thisrefs-ä»‹ç´¹)\r\n  - [å‚™è¨»](#å‚™è¨»)\r\n    - [åˆ¤æ–·ç•¶å‰ç’°å¢ƒæ˜¯å¦ç‚ºé–‹ç™¼ç’°å¢ƒ](#åˆ¤æ–·ç•¶å‰ç’°å¢ƒæ˜¯å¦ç‚ºé–‹ç™¼ç’°å¢ƒ)"},{"name":"Laravel Artisan command.md","content":"# Artisan Command\r\n\r\n## è‡ªè¨‚ Artisan command\r\n\r\n### åˆ©ç”¨æŒ‡ä»¤å»ºç«‹è¦è‡ªè¨‚å‘½ä»¤çš„æª”æ¡ˆ\r\n\r\n```bash\r\nphp artisan make:command <command-name>\r\n```\r\n\r\nå»ºç«‹çš„æª”æ¡ˆä½ç½®æœƒåœ¨ app/Console/Commands\r\n\r\n### ç·¨è¼¯æª”æ¡ˆ\r\n\r\nç·¨è¼¯æŒ‡ä»¤åç¨±\r\n\r\n```php\r\nprotected $signature = 'EditCity:city {country_code}';\r\n```\r\n\r\nå¯¦éš›æŒ‡ä»¤\r\n\r\n```bash\r\nphp artisan EditCity:city us\r\n```\r\n\r\nç·¨å¯«å‘½ä»¤\r\n\r\n```php\r\npublic function handle()\r\n{\r\n    try {\r\n       echo \"Hello World\";\r\n    } catch (QueryException $ex) {\r\n        dd($ex->getMessage());\r\n    }\r\n}\r\n```\r\n\r\n### åƒæ•¸\r\n\r\n- èŠ±æ‹¬è™Ÿä¸­ç‚ºå‚³å…¥çš„åƒæ•¸\r\n\r\n  - {country_code?} å¯é¸çš„åƒæ•¸\r\n  - {country_code=tw} åƒæ•¸çš„é è¨­å€¼\r\n  - {country_code*} `*`ä»£è¡¨è¼¸å…¥çš„æ˜¯é™£åˆ—\r\n  - {country_code:åœ‹å®¶ä»£ç¢¼} åŠ å…¥æ•˜è¿°\r\n\r\n- é¸é …ï¼šé—œéµå­—æ˜¯`--`\r\n\r\n  - {--queue=} é¸é …å¾Œé¢åŠ ä¸Š `=`ï¼Œè¡¨ç¤ºé¸é …éœ€è¦æ˜ç¢ºæŒ‡å®šå€¼ã€‚\r\n  - {--Q|queue} å¯ç”¨ç°¡å¯«\r\n  - {--id=_} `_`ä»£è¡¨è¼¸å…¥çš„æ˜¯é™£åˆ—\r\n  - {--queue=:é€™å€‹å·¥ä½œæ˜¯å¦è©²é€²å…¥éšŠåˆ—} åŠ å…¥æ•˜è¿°\r\n\r\n- å–å¾—åƒæ•¸\r\n\r\n  - $this->argument('user') å–å¾—å–®ä¸€ user åƒæ•¸\r\n  - $this->arguments() å–å¾—æ‰€æœ‰åƒæ•¸ï¼Œä»¥é™£åˆ—å‘ˆç¾\r\n  - $this->options('queue') å–å¾—å–®ä¸€ queue é¸é …\r\n  - $this->options() å–å¾—æ‰€æœ‰é¸é …ï¼Œä»¥é™£åˆ—å‘ˆç¾\r\n\r\n- äº’å‹•å¼æŒ‡ä»¤\r\n\r\n  - ask è©¢å•\r\n\r\n    ```php\r\n    $name = $this->ask('what is ur name');\r\n    ```\r\n\r\n  - secret è©¢å•ï¼Œä½†å›ç­”åœ¨çµ‚ç«¯æ©Ÿçœ‹ä¸åˆ°\r\n\r\n    ```php\r\n    $name = $this->secret('what is ur password');\r\n    ```\r\n\r\n  - confirm ç¢ºèªå•é¡Œï¼Œé è¨­å›å‚³å€¼æ˜¯ falseï¼Œè‹¥ä½¿ç”¨è€…å›å‚³ y å‰‡å›å‚³ true\r\n\r\n    ```php\r\n    if ($this->confirm('wanna continue?')) {\r\n        //\r\n    }\r\n\r\n    ```\r\n\r\n  - anticipate è‡ªå‹•å®Œæˆï¼Œè‹¥æ˜¯ Taylor æˆ–æ˜¯ Dayle é€™å…©å€‹é¸é …å°±è‡ªå‹•å®Œæˆï¼Œä½¿ç”¨è€…äº¦å¯ä»¥è¼¸å…¥å…¶ä»–é¸é …\r\n\r\n    ```php\r\n    $name = $this->anticipate('what is ur name', ['Taylor', 'Dayle']);\r\n    ```\r\n\r\n  - choice é¸é …é¸æ“‡ï¼Œä½¿ç”¨è€…è¼¸å…¥ key å€¼\r\n\r\n    ```php\r\n    $name $this->choice('what is ur name', ['Sunny', 'Taylor', 'Dayle'], $defaultIndex);\r\n    ```\r\n\r\n    ```txt\r\n    What is your name? [Taylor]: //åœ¨é€™å€‹$defaultIndex = 1\r\n      [0] Sunny\r\n      [1] Taylor\r\n      [2] Dayle\r\n     > 0\r\n\r\n    Display name: Sunny\r\n    ```\r\n\r\n### è¨»å†Š command\r\n\r\napp\\console\\Commands\\Kernel.php\r\n\r\n```php\r\nprotected $commands = [\r\n    EditCity::class\r\n];\r\n```\r\n","date":"2023-08-17T02:56:23.922Z","matchingLines":["## è‡ªè¨‚ Artisan command\r"],"tocContent":""},{"name":"Javascript å­¸ç¿’ç­†è¨˜.md","content":"# Javascript å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n> **åƒè€ƒè³‡æ–™ï¼š**\r\n>\r\n> [é‡æ–°èªè­˜ javascript](https://ithelp.ithome.com.tw/users/20065504/ironman/1259)\r\n\r\n## åŸºæœ¬æ¦‚å¿µ\r\n\r\n- Javascript çš„åŸå§‹å€¼(åŸºæœ¬å‹åˆ¥/primitive type)ï¼š\r\n  - null(empty)\r\n  - undefined(é è¨­/æœªå®šç¾©)\r\n  - string(\"12345\")\r\n  - number(12345)\r\n  - boolean(true/false)\r\n  - symbol(ES6)\r\n- Javascript çš„è¤‡åˆå€¼(ç‰©ä»¶ => object)ï¼šåŒ…å«ä¸€å€‹æˆ–å¤šå€‹åŸå§‹å€¼ï¼Œåƒæ˜¯ç‰©ä»¶æˆ–æ˜¯ç‰©ä»¶å¯¦å­—ï¼Œé™¤äº†åŸºæœ¬å‹åˆ¥ä»¥å¤–çš„å‹åˆ¥éƒ½æ˜¯ç‰©ä»¶\r\n\r\n- ç‰©ä»¶ï¼šä½¿ç”¨ new é—œéµå­—å»ºç«‹ç‰©ä»¶\r\n\r\n```javascript\r\nconst name = new type(arguments);\r\nconst d = new Date();\r\n```\r\n\r\n- ç‰©ä»¶å¯¦å­—\r\n\r\n```javascript\r\nvar obj = {\r\n  name: \"eason\",\r\n  action: \"haha\",\r\n};\r\n```\r\n\r\n- é™£åˆ—\r\n\r\n```javascript\r\nvar arr = [1, 2, 3, 4, 5];\r\narr[8] = 12;\r\narr = [1, 2, 3, 4, 5, \"\", \"\", \"\", 12];\r\n```\r\n\r\n- ç”¨ new å»ºæ§‹å‡ºä¾†çš„æ˜¯ç‰©ä»¶ object\r\n\r\n```javascript\r\n    var a = new String(\"test\");\r\n    typeof(a) = object\r\n```\r\n\r\n- åªæœ‰å»ºæ§‹å¼ï¼Œå‰‡æœƒè½‰ç‚ºåŸå§‹å€¼\r\n\r\n```javascript\r\n    var a = String(\"test\");\r\n    typeof(a) = string\r\n```\r\n\r\n- è¤‡åˆå€¼åœ¨ javascript æ˜¯é€éè¨˜æ†¶é«”ä¸­çš„ä½å€ä¾†æ¯”å°\r\n\r\n```javascript\r\nvar a = new String(\"test\");\r\nvar b = new String(\"test\");\r\n\r\nconsole.log(a === b);\r\n// false\r\n```\r\n\r\n- å°‡ä¸åŒå‹æ…‹çš„ç‰©ä»¶é€šé€šè½‰ç‚ºå­—ä¸²  \r\n  \\`${}\\` åœ¨å¤§æ‹¬è™Ÿä¸­åŠ å…¥è®Šæ•¸\r\n\r\n- å®£å‘ŠåŸå§‹å€¼ï¼šå–®ç¨æ”¾ä¸€å€‹è¨˜æ†¶é«”ä½å€ ä»¥ by value é‹ä½œ\r\n- å®£å‘Šè¤‡åˆå€¼ï¼šåŒ…å«è¨±å¤šåŸå§‹å€¼ï¼Œä½†æ˜¯åªæ”¾åœ¨ä¸€å€‹è¨˜æ†¶é«”ä½ç½® ä»¥ by reference(åƒè€ƒ) é‹ä½œ\r\n\r\n- æ›´æ”¹è®Šæ•¸ç‚ºåƒè€ƒç‰©ä»¶(è¤‡åˆå€¼)å…§çš„åŸå§‹å€¼ï¼Œè¨˜æ†¶é«”ä½å€ä¸è®Š\r\n- æ›´æ”¹è®Šæ•¸ç‚ºåŸå§‹å€¼ï¼Œæœƒæ›´æ”¹è®Šæ•¸çš„è¨˜æ†¶é«”ä½å€\r\n\r\n- undefined  \r\n  é€™åœ°æ–¹æ²’æœ‰é€™å€‹æ±è¥¿ï¼Œæ‰€ä»¥ä½ ç„¡æ³•ä½¿ç”¨\r\n- NaN  \r\n   è¦è½‰å‹æˆæ•¸å­—æ™‚å‚³å…¥åƒæ•¸éæ•¸å­—çš„æ™‚å€™\r\n- null  \r\n  é€™åœ°æ–¹æœƒæœ‰ä¸€å€‹å€¼ï¼Œä½†é€™å€‹å€¼ç›®å‰é‚„æ²’æº–å‚™å¥½çš„æ„æ€ï¼Œæ‰€ä»¥å…ˆå¡«å…¥ `null`\r\n\r\n- this\r\n  - ç‰©ä»¶æ›åœ¨èª°èº«ä¸Šå°±æ˜¯`this`ï¼Œ`this`åªåœ¨ç•¶ä¸‹å–®ä¸€å±¤çš„ä½œç”¨åŸŸè£¡æœ‰æ•ˆæœï¼Œç®­é ­å‡½å¼å°±ä¸æœƒã€‚\r\n  - å¦‚æœå®£å‘Šè®Šæ•¸ï¼Œå‰‡åœ¨å®£å‘Šç•¶å±¤ä»¥åŠå…§å±¤ç‚ºæœ‰æ•ˆç¯„åœã€‚\r\n  - å–®ç´”çš„å‘¼å«`this`ï¼Œ`this`æœƒè®Šæˆ Global\r\n\r\n.bind //å®šç¾© function å…§çš„ this æ˜¯ä»€éº¼\r\n\r\n### å®£å‘Šèˆ‡å‘½å\r\n\r\n- å‘½åè¦å‰‡\r\n  - é–‹é ­å­—å…ƒéœ€è¦æ˜¯ ASCII å­—å…ƒ(è‹±æ–‡å°å¯«)ï¼Œæˆ–æ˜¯ä¸‹åº•ç·š(\\_)ã€éŒ¢è™Ÿ($)ã€‚é–‹é ­å­—å…ƒä¸å¾—ä½¿ç”¨æ•¸å­—ã€‚\r\n  - å¤§å°å¯«æ•æ„Ÿ\r\n  - åç¨±ä¸å¾—ä½¿ç”¨ä¿ç•™å­—\r\n\r\n**æ³¨æ„** ä¸‹åº•ç·šé–‹é ­çš„å‘½åå¸¸ç‚ºç‰¹åˆ¥ç”¨é€”ï¼šå¦‚é¡åˆ¥ä¸­çš„ç§æœ‰è®Šæ•¸ã€å¸¸æ•¸æˆ–æ–¹æ³•ã€‚éŒ¢ç¬¦è™Ÿä¹Ÿé€šå¸¸ç‚ºç‰¹æ®Šç”¨é€”å‘½åã€‚\r\n\r\nè®Šæ•¸èˆ‡æ–¹æ³•åç¨±éƒ½ç”¨å°é§å³°å¼çš„å‘½åï¼Œé¡åˆ¥ç”¨å¤§é§å³°å¼å‘½åã€‚\r\n\r\nåœ¨ ES5 ä¹‹å‰éƒ½åªæœƒç”¨ `var` å®£å‘Šè®Šæ•¸ï¼Œåœ¨ ES6 ä¹‹å¾ŒåŠ å…¥ `let` å’Œ `const`ï¼Œç¾åœ¨æ‡‰ä»¥æ–°åŠ å…¥çš„ç‰¹æ€§é€²è¡Œå®£å‘Šã€‚\r\n\r\n#### let, const ç‰¹æ€§\r\n\r\n- å€å¡Šä½œç”¨åŸŸ\r\n\r\n  - è®Šæ•¸åªå­˜æ´»åœ¨ {} èŠ±æ‹¬è™Ÿè£¡é¢ï¼Œå¤–é¢ä¸èƒ½èª¿ç”¨\r\n\r\n  ```javascript\r\n  {\r\n    const x = 10;\r\n  }\r\n  console.log(x); //Uncaught ReferenceError: x is not defined\r\n\r\n  {\r\n    let y = 20;\r\n  }\r\n  console.log(y); //Uncaught ReferenceError: y is not defined\r\n\r\n  {\r\n    var z = 30;\r\n  }\r\n  console.log(z); //30\r\n  ```\r\n\r\n- è®Šé‡æœƒæå‡ï¼Œä½†è‹¥æœªå®£å‘Šè©²è®Šæ•¸ï¼Œæœƒå›å ±éŒ¯èª¤ï¼Œè€Œé undefined\r\n  - var è®Šæ•¸çš„å®£å‘Šï¼Œåˆå§‹é è¨­å€¼ç‚º undefinedï¼Œä½† let, const ä¸æœƒæœ‰é€™å€‹é è¨­ï¼Œç•¶åŸ·è¡Œ let è®Šæ•¸å®£å‘Šèªå¥æ™‚ï¼Œæ‰æœƒåˆå§‹åŒ–ä¸”èƒ½å¤ è¢«è¨ªå•ã€‚\r\n- ä¸å…è¨±é‡è¤‡å®£å‘Š\r\n- å…¨åŸŸè®Šæ•¸ä¸æœƒæˆç‚º window çš„å±¬æ€§\r\n\r\n#### å¦‚ä½•åˆ†è¾¨ä½¿ç”¨ let å’Œ const çš„æ™‚æ©Ÿï¼Ÿ\r\n\r\n> å¦‚æœè®Šæ•¸æœƒè®Šï¼Œå°±ä½¿ç”¨ letï¼Œä¸è®Šå°±ç”¨ const\r\n\r\næ›´æ”¹æŒ‡çš„æ˜¯è¨˜æ†¶é«”åœ°å€çš„æ”¹è®Šï¼Œè€Œä¸æ˜¯å€¼çš„æ”¹è®Š\r\n\r\n- è¨˜æ†¶é«”å­˜æ”¾è®Šæ•¸çš„åŸå‰‡ï¼š\r\n  - åŸºæœ¬å‹åˆ¥å€¼ï¼š\r\n    - å­—ä¸²ã€æ•¸å€¼ã€undefinedã€nullã€symbol\r\n    - ä»¥ä¸Šä¸èƒ½æ›´æ”¹ä»–çš„å€¼ï¼Œåªèƒ½é‡æ–°è³¦å€¼ï¼Œæ­¤æ™‚æœƒæ›´æ”¹è¨˜æ†¶é«”ä½å€\r\n- å¼•ç”¨å€¼ï¼š\r\n  - ç‰©ä»¶ã€é™£åˆ—ã€å‡½å¼\r\n  - å¯ä»¥ä¿®æ”¹è£¡é¢çš„å€¼ï¼Œé€™æ¨£ä¸æœƒæ›´æ”¹è¨˜æ†¶é«”ä½ç½®ï¼Œä½†è‹¥é‡æ–°è³¦äºˆä¸€å€‹æ–°çš„å€¼ï¼Œå°±æœƒæ›´æ”¹è¨˜æ†¶é«”ä½å€ã€‚\r\n\r\n### let å’Œ const è§£æ±ºäº†ä»€éº¼å•é¡Œï¼Ÿ\r\n\r\nç”¨ var å®£å‘Šæ™‚ï¼Œå®¹æ˜“å°è‡´æ„å¤–æ±™æŸ“å…¨åŸŸè®Šæ•¸çš„å•é¡Œï¼Œä¾‹å¦‚ï¼Œå€åŸŸè®Šæ•¸è¦†è“‹å…¨åŸŸè®Šæ•¸\r\n\r\n```javascript\r\nvar food = \"apple\";\r\nfunction func() {\r\n  var result = \"I eat \" + food;\r\n  console.log(result);\r\n}\r\nfunc(); //I eat apple\r\n```\r\n\r\nåœ¨ func æ–¹æ³•ä¸­ç”¨åˆ°å…¨åŸŸè®Šæ•¸ foodï¼Œçµ„åˆå­—ä¸²åŠå›å‚³ã€‚\r\n\r\nä½†å¦‚æœç¨‹å¼ç¢¼è®Šå¾—è¤‡é›œæ™‚ï¼Œæ²’æ³¨æ„åˆ° food å·²ç¶“åœ¨ç¬¬ä¸€è¡Œå®£å‘Šéäº†\r\n\r\n### javascript åƒæ•¸å‚³éæ–¹å¼\r\n\r\n> å¯èƒ½æ˜¯ Call by sharing\r\n\r\nä¸‹é¢çš„ä¾‹å­ï¼ŒåŸå§‹å‹åˆ¥çš„ mtString å‚³éçµ¦ target çš„çµæœç¬¦åˆ call by value çš„è¡Œç‚º\r\n\r\nä½†ç•¶æˆ‘å€‘å°‡ myObj å‚³éçµ¦ target æ™‚ï¼Œç‚ºä½•ä¹Ÿå‡ºç¾å’Œ call by value çš„è¡Œç‚ºç›¸åŒçš„çµæœï¼Ÿ\r\n\r\n```javascript\r\nvar myString = \"hello world\";\r\nvar myObj = { prop1: 123 };\r\nfunction setAsLiteralobj(target) {\r\n  console.log(\"target_1: \");\r\n  console.log(target);\r\n  target = {};\r\n  console.log(\"target_2: \");\r\n  console.log(target);\r\n}\r\nsetAsLiteralObj(myString);\r\nconsole.log(myString); // 'hello world'\r\nsetAsLiteralObj(myObj);\r\nconsole.log(myObj);\r\n```\r\n\r\n```txt\r\n<!-- setAsLiteralObj(myString) -->\r\n\"target_1: \"\r\n\"hello world\"\r\n\"target_2: \"\r\n[object Object] { ... }\r\n<!-- setAsLiteralObj(myString) -->\r\n\r\n<!-- console.log(myString); // 'hello world' -->\r\n\"hello world\"\r\n<!-- console.log(myString); // 'hello world' -->\r\n\r\n<!-- setAsLiteralObj(myObj); -->\r\n\"target_1: \"\r\n[object Object] {\r\n  prop1: 123\r\n}\r\n\"target_2: \"\r\n[object Object] { ... }\r\n<!-- setAsLiteralObj(myObj); -->\r\n\r\n<!-- console.log(myObj); -->\r\n[object Object] {\r\n  prop1: 123\r\n}\r\n<!-- console.log(myObj); -->\r\n```\r\n\r\nç•¶å®£å‘Šå®Œ `function setAsLiteralObj()` å¾Œçš„è¨˜æ†¶é«”ä½ç½®ç‹€æ³ï¼Œ`setAsLiteralObj()` å…¶å¯¦æ˜¯è¢«ç•¶æˆä¸€å€‹è®Šæ•¸ï¼ŒæŒ‡å‘ `function setAsLiteralObj()` çš„å…§å®¹ã€‚\r\n\r\nç•¶å‘¼å« `setAsLiteralObj()`ï¼Œæ­¤æ™‚ `myString` æœƒå°‡è¨˜æ†¶é«”ä½ç½®æŒ‡æ´¾çµ¦ function ä¸­çš„ `target` åƒæ•¸ï¼Œå¯ä»¥ç†è§£ç‚ºåœ¨ä¹å« function æ™‚ï¼Œå®£å‘Šåƒæ•¸ï¼š\r\n\r\n```javascript\r\nvar target = myString;\r\n```\r\n\r\nå› æ­¤è¨˜æ†¶é«”ä½ç½®æœƒè®Šæˆ `myString` èˆ‡ `target` éƒ½æœƒæŒ‡å‘åŒä¸€å€‹ä½ç½®ã€‚\r\n\r\næ­¤æ™‚åœ¨ function ä¸­ï¼Œå°‡ `target` é€éå­—é¢å€¼è³¦å€¼ `{}`ï¼Œæ‰€ä»¥ `target` æœƒå¾åŸæœ¬æŒ‡å‘ `hello world` æ”¹æˆæŒ‡å‘æˆ‘å€‘å‰›å‰µé€ å‡ºä¾†çš„ `{}`\r\n\r\nç•¶å‘¼å« function æ™‚å‚³å…¥çš„åƒæ•¸ç‚º `object` æ™‚ï¼Œä¹Ÿæ˜¯ä¸€æ¨£çš„æ¦‚å¿µ `setAsLiteralObj(myObj)`ï¼Œ`myObj` æœƒè¢«æŒ‡æ´¾çµ¦ function çš„åƒæ•¸ `target`ã€‚æ­¤æ™‚ï¼Œ`target` èˆ‡åŸ·è¡Œ `setAsLiteralObj(myString)` æ™‚çš„ `target` ä¸åŒï¼Œä¸‹é¢å°‡ä»¥ `target'` ä»£ç¨±è¢«æŒ‡é… `myObj` çš„æ–° `target`ã€‚\r\n\r\nåœ¨ `target = {}` æ™‚ï¼Œ`target'` è¢«è³¦å€¼ `{}`ï¼Œå› æ­¤åŸä¾† `target'` å¾åŸæœ¬æŒ‡å‘ `{prop1: 123}` æ”¹æˆæŒ‡å‘å‰›å‰›å‰µé€ å‡ºä¾†çš„ `{}` ä½ç½®ã€‚\r\n\r\nçµæœå°±æ˜¯ `myString` å’Œ `myObj` ä¾ç„¶æŒ‡å‘åŸä¾†çš„è¨˜æ†¶é«”ç‰©ä»¶ï¼Œè€Œé€™äº›è¨˜æ†¶é«”ç‰©ä»¶çš„å…§å®¹éƒ½æ²’æœ‰è¢«æ”¹è®Šï¼Œæ”¹è®Šçš„åªæœ‰ `target` å’Œ `target'` æŒ‡å‘çš„è¨˜æ†¶é«”ä½ç½®è€Œå·²\r\n\r\n## å­˜å–è³‡æ–™çš„æ–¹æ³•\r\n\r\n- åŸºæœ¬é¡å‹ï¼šå‚³å€¼(pass by value)\r\n- ç‰©ä»¶é¡å‹ï¼šå‚³å€(pass by reference)ã€pass by sharing\r\n\r\n### åŸºæœ¬å‹åˆ¥\r\n\r\nç•¶ä¸€å€‹è®Šæ•¸è¢«è³¦äºˆåŸºæœ¬å‹åˆ¥çš„å€¼æ™‚ï¼Œæ•´å€‹å€¼å°±æœƒå­˜åœ¨è¨˜æ†¶é«”ä¸­ã€‚\r\n\r\nç•¶è¤‡è£½åŸºæœ¬å‹åˆ¥çš„å€¼åˆ°å¦ä¸€å€‹è®Šæ•¸æ™‚ï¼Œåªæœƒè¤‡è£½ä»–å€‘çš„å€¼ï¼Œè€Œè©²å…©è®Šæ•¸ä¸¦ä¸æœƒå½±éŸ¿åˆ°å°æ–¹ã€‚\r\n\r\né€™å€‹æƒ…æ³ç¨±ä½œå‚³å€¼ã€‚\r\n\r\n```javascript\r\nvar box1 = 10;\r\nvar box2 = \"hello\";\r\n\r\n//æ‹·è²box1,box2çš„å€¼\r\nvar boxA = box1;\r\nvar boxB = box2;\r\n\r\nboxA = 30;\r\nboxB = \"goodbye\";\r\n\r\nconsole.log(box1, box2, boxA, boxB); // 10,\"hello\",30,\"goodbye\"\r\n```\r\n\r\nä¸€é–‹å§‹ boxA å’Œ boxB åªæ˜¯å„è‡ªè¤‡è£½äº† box1 å’Œ box2 çš„å€¼ï¼ŒboxA å’Œ box1ï¼Œä»¥åŠ boxB å’Œ box2 æ˜¯æ²’æœ‰é—œä¿‚çš„ï¼Œæ‰€ä»¥ç•¶è¦é‡æ–°è³¦å€¼çµ¦ boxA. boxB æ™‚ï¼Œbox1, box2 ä¸æœƒå—åˆ°å½±éŸ¿ã€‚\r\n\r\n### ç‰©ä»¶å‹åˆ¥\r\n\r\nç•¶è®Šæ•¸è¢«è³¦äºˆæ˜¯ç‰©ä»¶å‹åˆ¥çš„è³‡æ–™æ™‚ï¼Œè¨˜æ†¶é«”æœƒè¢«å­˜æ”¾è©²ç‰©ä»¶åœ¨è¨˜æ†¶é«”ä¸­çš„ä½ç½®ï¼Œä¸¦å¼•ç”¨è©²åœ°å€ä¾†æŒ‡å‘è©²ç‰©ä»¶ã€‚\r\n\r\nç•¶è¤‡è£½ä¸€å€‹ç‰©ä»¶åˆ°å¦ä¸€å€‹è®Šæ•¸æ™‚ï¼Œè¤‡è£½çš„æ˜¯è©²ç‰©ä»¶çš„åœ°å€ï¼Œè‹¥æ­¤ç‰©ä»¶æœ‰è¢«ä¿®æ”¹ï¼Œæ‰€æœ‰å¼•ç”¨è©²ç‰©ä»¶çš„è®Šæ•¸ï¼Œå€¼éƒ½æœƒè¢«ä¿®æ”¹\r\n\r\n```javascript\r\nvar user = {\r\n  name: \"Mary\",\r\n  age: 30,\r\n};\r\n\r\n//æ‹·è²userç‰©ä»¶çš„åœ°å€\r\nvar userCopy = user;\r\nuserCopy.age = 20;\r\n\r\nconsole.log(user); // {name: 'Mary', age:20}\r\nconsole.log(userCopy); // {name: 'Mary', age:20}\r\nconsole.log(user === userCopy); // true\r\n```\r\n\r\nä½†è‹¥å°‡è®Šæ•¸é‡æ–°è³¦äºˆä¸€å€‹æ–°è®Šæ•¸\r\n\r\n```javascript\r\nvar user = {\r\n  name: \"Mary\",\r\n  age: 30,\r\n};\r\n\r\nvar userCopy = user;\r\n\r\nuserCopy = {\r\n  name: \"Mary\",\r\n  age: 20,\r\n};\r\n\r\nconsole.log(user); // {name: Mary\", age: \"30\"}\r\nconsole.log(userCopy); // {name: Mary\", age: \"20\"}\r\nconsole.log(user === userCopy); // false\r\n```\r\n\r\nç•¶ä¸€å€‹è®Šæ•¸è¢«é‡æ–°è³¦äºˆä¸€å€‹æ–°çš„ç‰©ä»¶ï¼Œä¸¦éä¿®æ”¹è©²ç‰©ä»¶ï¼Œå› æ­¤åœ°å€æ•´å€‹è®Šäº†ï¼Œä¸¦æŒ‡å‘å¦ä¸€å€‹æ–°çš„ç‰©ä»¶ã€‚\r\n\r\n### æŠŠåŸºæœ¬å‹åˆ¥ç•¶ä½œåƒæ•¸å‚³å…¥å‡½å¼\r\n\r\nç•¶æˆ‘å€‘æŠŠåŸºæœ¬å‹åˆ¥ç•¶ä½œåƒæ•¸å‚³å…¥å‡½å¼æ™‚ï¼Œå‡½å¼çš„åƒæ•¸æœƒè¤‡è£½é‚£äº›åŸºæœ¬å‹åˆ¥çš„å€¼ï¼Œæ‰€ä»¥åœ¨å‡½å¼å¤–çš„è®Šæ•¸ä¸¦ä¸æœƒè¢«å½±éŸ¿ã€‚\r\n\r\n```javascript\r\nvar box1 = 100;\r\nvar box2 = 200;\r\n\r\nfunction add(a, b) {\r\n  a = 10;\r\n  b = 20;\r\n}\r\n\r\nadd(box1, box2);\r\nconsole.log(box1, box2); //100,200\r\n```\r\n\r\nä»¥ä¸Šä¾‹å­ä¸­ï¼Œåƒä¹‹å‰æåŠçš„å‚³å€¼æ¦‚å¿µä¸€æ¨£ï¼Œa å’Œ b è¤‡è£½äº† box1, box2 çš„å€¼ã€‚å³ä½¿ä¿®æ”¹ a å’Œ bï¼Œbox1, box2 éƒ½ä¸æœƒè¢«ä¿®æ”¹ã€‚\r\n\r\n### Function\r\n\r\n> å¯ä»¥å°‡ javascript çš„ function çœ‹åšæ˜¯å¯åŸ·è¡Œçš„ç‰©ä»¶ï¼Œå…¶æœ‰å…©å¤§ç‰¹æ€§ï¼š\r\n>\r\n> æ˜¯ first-class Object\r\n> æœ‰è‡ªå·±çš„ Scope\r\n\r\n#### First-class Object\r\n\r\nå°ç‰©ä»¶å‹åˆ¥èƒ½åšçš„äº‹æƒ…ï¼Œä¹Ÿèƒ½å° function åš\r\n\r\n- å°‡ function è‡ªç”±æŒ‡æ´¾çµ¦è®Šæ•¸æˆ–å±¬æ€§\r\n\r\n  ```javascript\r\n  function myFunction() {\r\n    console.log(\"This is myFunction\");\r\n  }\r\n  var a = myFunction,\r\n    myObj = { fn: myFunction };\r\n  console.log(a); // f myFunction() { console.log('This is  myFunction'); }\r\n  console.log(myObj.fn); // f myFunction() { console.log('This is  myFunction'); }\r\n  a(); // \"This is myFunction\"\r\n  myObj.fn(); // \"This is myFunction\"\r\n  ```\r\n\r\n  function å¯ä»¥è‡ªç”±æŒ‡æ´¾çµ¦å…¶ä»–åƒæ•¸ï¼Œç•¶å°å‡º `a`/`myObj.fn` æ™‚ï¼Œæœƒ log æ•´å€‹ `myFunction` çš„å…§å®¹ã€‚æ­¤æ™‚è®Šæ•¸/å±¬æ€§çš„å…§å®¹æ˜¯ `myFunction`ï¼Œå› æ­¤ç•¶åŠ ä¸Š `()`ï¼Œå°±æœƒåŸ·è¡Œ functionã€‚\r\n\r\n- ç‚º function åŠ ä¸Šå±¬æ€§\r\n\r\n  ```javascript\r\n  function myFunction() {\r\n    console.log(\"This is myFunction\");\r\n  }\r\n  myFunction.prop1 = \"This is prop1\";\r\n  console.log(myFunction.prop1); // \"This is prop1\"\r\n  myFunction(); // \"This is myFunction\"\r\n  ```\r\n\r\n- ç•¶ä½œ Expression ä½¿ç”¨\r\n  `function` å¯ä»¥æ­é…å„ç¨®é‹ç®—å…ƒç”¨ï¼Œç”šè‡³ä¹Ÿå¯ä»¥æ”¾åœ¨ if ä¸­åˆ¤æ–·\r\n\r\n  if åˆ¤æ–·çš„æ˜¯ `function` æ˜¯å¦è¢«æ­£å¼å®£å‘Šï¼ŒæœªåŠ ä¸Š `()` æ™‚ï¼Œ`function` ä¸æœƒè¢«åŸ·è¡Œ\r\n\r\n  ```javascript\r\n  function myFunction() {\r\n    console.log(\"This is myFunction\");\r\n  }\r\n  console.log(!myFunction); // false\r\n  ```\r\n\r\n- å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å®£å‘Š\r\n  å’Œç‰©ä»¶ä¸€æ¨£ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å®£å‘Šï¼Œä¹Ÿå¯ä»¥åœ¨ function ä¸­å®£å‘Šä¸€å€‹ functionï¼Œç”šè‡³åœ¨å‚³å…¥åƒæ•¸æ™‚å®£å‘Š\r\n\r\n  ```javascript\r\n  function myFunction(callback) {\r\n    console.log(\"This is myFunction\"); // This is myFunction\r\n    callback(); // This is myCallback\r\n    function myInnerFunction() {\r\n      console.log(\"This is myInnerFunction\");\r\n    }\r\n    myInnerFunction(); // This is myInnerFunction\r\n  }\r\n  myFunction(function myCallback() {\r\n    console.log(\"This is myCallback\");\r\n  });\r\n  ```\r\n\r\n#### å®£å‘Š function\r\n\r\nå®£å‘Šçš„æ–¹æ³•ä¸»è¦æœ‰ä¸‰ç¨®ï¼š\r\n\r\n- function declaration\r\n\r\n  ```javascript\r\n  function myFunction() {\r\n    console.log(\"Function declared with Function declaration\");\r\n  }\r\n  ```\r\n\r\n- function expression\r\n  function å¯ä»¥è¢«å‚³éçµ¦å…¶ä»–åƒæ•¸å„²å­˜ã€‚å¦‚å­—é¢å€¼ä¸€èˆ¬ï¼Œ function ä¹Ÿå¯ä»¥åœ¨å®šç¾©çš„åŒæ™‚è³¦äºˆè®Šæ•¸ã€‚\r\n\r\n  ```javascript\r\n  var myFunction = function NamedFunction() {\r\n    console.log(\"Function declared with Function expression\");\r\n  };\r\n  myFunction(); // \"Function declared with Function expression\"\r\n  ```\r\n\r\n  ä¹Ÿå› ç‚ºæ­¤å®£å‘Šæ–¹å¼æœƒå°‡ function å‚³éçµ¦ä¸€å€‹è®Šæ•¸ï¼Œå› æ­¤ javascript å…è¨± function æ­é…åŒ¿åå‡½å¼ä½¿ç”¨ï¼š\r\n\r\n  ```javascript\r\n  var myFunction = function () {\r\n    console.log(\"Function declared with Function expression\");\r\n  };\r\n  myFunction(); // \"Function declared with Function expression\"\r\n  ```\r\n\r\n- with function constructor\r\n  å’Œå…¶ä»–çš„å…§å»ºç‰©ä»¶å‹åˆ¥ç›¸åŒï¼Œfunction ä¹Ÿå¯ä»¥åˆ©ç”¨ new ä¾†æ–°å¢ç‰©ä»¶\r\n\r\n  ```javascript\r\n  var myFunction = new Function(\"parameter1\", \"parameter2\", \"console.log('Function declared with Function Constructor')\");\r\n  myFunction(); // Function declared with Function Constructor\r\n  ```\r\n\r\n  è‹¥ç”¨ function expression ä¹Ÿæœ‰ç›¸åŒæ•ˆæœ\r\n\r\n  ```javascript\r\n  var myFunction = function (parameter1, parameter2) {\r\n    console.log(\"Function declared with Function expression\");\r\n  };\r\n  myFunction(); // \"Function declared with Function expression\"\r\n  ```\r\n\r\n  å› æ­¤ä¸€èˆ¬è€Œè¨€æœƒä½¿ç”¨ function expression å–ä»£ new ä¾†å¢åŠ æ˜“è®€æ€§èˆ‡æ•ˆèƒ½\r\n\r\n#### å‘¼å« function\r\n\r\n- ä¸€èˆ¬å‘¼å«\r\n  åœ¨ function å¾Œé¢åŠ ä¸Š `()` å°±å¯ä»¥å‘¼å« function\r\n\r\n  ```javascript\r\n  myFunction();\r\n  ```\r\n\r\n- ä½¿ç”¨ function å…§å»ºå‡½å¼å‘¼å«\r\n  function ä¸­æœ‰å…§å»º `call` å’Œ `apply` å‡½å¼å¯ä»¥ç”¨ä¾†å‘¼å« function\r\n  å’Œä½¿ç”¨ `()` ä¾†åŸ·è¡Œ function çš„å·®åˆ¥åœ¨æ–¼å…§å»ºå‡½å¼å…·æœ‰æ˜ç¢ºæŒ‡å®š this çš„åŠŸèƒ½ã€‚\r\n\r\n  ```javascript\r\n  var myFunction = function (parameter1, parameter2) {\r\n    console.log(parameter1, parameter2);\r\n  };\r\n  myFunction.call(null, \"hello world\", 123); // \"hello world\" 123\r\n  myFunction.apply(null, [\"hello world\", 123]); // \"hello world\" 123\r\n  ```\r\n\r\n  `call` å’Œ `apply` å‡½å¼çš„å·®ç•°åœ¨æ–¼ apply çš„ç¬¬äºŒå€‹åƒæ•¸ç‚ºé™£åˆ—ï¼Œè£¡é¢å¸¶è¦å‚³å…¥ `function` çš„åƒæ•¸ï¼Œå› æ­¤åœ¨ç¯„ä¾‹ä¸­å¯ä»¥çœ‹åˆ° `apply` çš„ç¬¬äºŒå€‹åƒæ•¸ç‚º `['hello world', 123]`ï¼Œé€™å…©å€‹åƒæ•¸æœƒè¢«æ”¤é–‹ç‚º `parameter1` å’Œ `parameter2` å¾Œæ”¾å…¥ `myFunction` ä¸­åŸ·è¡Œ\r\n\r\n- ä½¿ç”¨ new å‘¼å«\r\n  ä½¿ç”¨ new ä»£è¡¨ function ç•¶ä½œå»ºæ§‹å¼ä¾†ä½¿ç”¨ï¼Œæœƒå›å‚³å­è¡Œåˆ¥ç‚ºè©² function çš„ç‰©ä»¶\r\n\r\n  ```javascript\r\n  function myFunction() {\r\n    console.log(\"Function declared with Function expression\");\r\n  }\r\n  var a = new myFunction(); // \"Function declared with Function expression\"\r\n  console.log(a); // myFunction {}\r\n  ```\r\n\r\n#### IIFF\r\n\r\n> (Immediately Invoked Function Expression) æˆ–ç¨±è‡ªæˆ‘èª¿ç”¨å‡½å¼\r\n\r\nIIFE æœ‰å…©ç¨®ç‰¹æ€§ï¼š\r\n\r\n- ç•¶ç¨‹å¼åŸ·è¡Œåˆ° IIFE çš„å®£å‘Šä½ç½®æ™‚ï¼ŒIIFE æœƒè‡ªå‹•åŸ·è¡Œ\r\n- ç‚ºä¸€ç¨® function expression\r\n\r\n```javascript\r\n// æ ¼å¼\r\n(function () {\r\n  // some codes\r\n})();\r\n\r\n// å¯¦éš›ç¯„ä¾‹\r\n(function () {\r\n  console.log(\"This is IIFE\"); // \"This is IIFE\"\r\n})();\r\n```\r\n\r\nä¸éœ€è¦é¡å¤–å‘¼å«å°±æœƒè‡ªå·±åŸ·è¡Œï¼Œé‡é»é™¤äº†åŒ…è£¹ function çš„ `()` å¤–ï¼Œé‚„æœ‰ç”¨ä¾†å‘¼å« function çš„ `()`ã€‚\r\n\r\nè‹¥æœªåŠ ä¸Šæœ€å¾Œé¢å‘¼å« function çš„ `()`ï¼Œæ­¤ function ä¾¿ä¸æœƒè‡ªå‹•åŸ·è¡Œã€‚\r\n\r\nIIFE å›å‚³å€¼\r\n\r\n```javascript\r\nvar myString = (function () {\r\n  return \"This is IIFE\";\r\n})();\r\nconsole.log(myString); // This is IIFE\r\n```\r\n\r\nIIFE é™¤äº†æœƒè‡ªå‹•åŸ·è¡Œä»¥å¤–ï¼Œèˆ‡ä¸€èˆ¬ function çš„ç‰¹æ€§éƒ½æ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ã€‚\r\n\r\n#### Scope ä½œç”¨åŸŸ\r\n\r\n> Scope: è¦ç¯„å“ªäº›è®Šæ•¸åœ¨å“ªäº›ç¨‹å¼ç¢¼ä¸­å¯ä»¥å–ç”¨çš„è¦å‰‡\r\n>\r\n> javascript å’Œå¤§å¤šæ•¸çš„èªè¨€éƒ½æ˜¯æ¡ç”¨ Lexical Scope(èªå½™ç¯„ç–‡)\r\n\r\n##### Lexical Scope èªå½™ç¯„ç–‡\r\n\r\nä»£è¡¨è‘—å€å¡Šé–“çš„åŒ…è£¹é—œä¿‚ï¼Œè¢«åŒ…è£¹åœ¨å…§å±¤çš„å€å¡Šå¯ä»¥ä¿è­·è‡ªå·±çš„è®Šæ•¸ä¸è¢«å¤–å±¤å–ç”¨ï¼›ç›¸åçš„ï¼Œå¤–å±¤å€åŸŸçš„è®Šæ•¸é‚„æ˜¯å¯ä»¥è¢«å…§å±¤å€å¡Šä½¿ç”¨\r\n\r\n```javascript\r\nvar outer = \"From Outer\";\r\nfunction myFunction() {\r\n  var inner = \"From Inner\";\r\n  console.log(outer); // \"From Outer\"\r\n  console.log(inner); // \"From Inner\"\r\n}\r\nconsole.log(outer); // \"From Outer\"\r\nconsole.log(inner); // Uncaught ReferenceError: inner is not defined\r\n```\r\n\r\nåœ¨ function çš„ `{}` å€å¡Šä¸­å®£å‘Šä¸€å€‹æ–°çš„è®Šæ•¸ `inner`ï¼Œæ­¤ä¸€è®Šæ•¸å¯ä»¥åœ¨ `myFunction(){}` çš„å€å¡Šè£¡è¢«å–ç”¨ï¼Œç„¶è€Œç•¶ `myFunction(){}` å€å¡Šå¤–è©¦åœ–å–ç”¨ `inner` æ™‚ï¼Œå°±æœƒç™¼ç”Ÿ `innerVar is not defined` çš„éŒ¯èª¤ã€‚\r\n\r\n##### åƒæ•¸ä¹Ÿå±¬æ–¼å…§å±¤ scope\r\n\r\n```javascript\r\nvar myString = \"hello world\";\r\nfunction setAsLiteralObj(target) {\r\n  target = {};\r\n}\r\nsetAsLiteralObj(myString);\r\nconsole.log(myString); // 'hello world'\r\nconsole.log(target); // Uncaught ReferenceError: target is not defined\r\n```\r\n\r\nåŸ·è¡Œ `setAsLiteralObj(myString);` æ™‚ï¼Œ`myString` æœƒå°‡è¨˜æ†¶é«”ä½ç½®æŒ‡æ´¾çµ¦ `function` ä¸­æ–°çš„åƒæ•¸ `target`ï¼Œä¹Ÿå°±æ˜¯ `target` æ˜¯å†åŸ·è¡Œ `setAsLiteralObj` æ™‚æ‰å»ºç«‹çš„æ–°åƒæ•¸ï¼Œæ–°åƒæ•¸ `target` æ˜¯å±¬æ–¼ `setAsLiteralObj` é€™å€‹ `function` å€å¡Šï¼Œå› æ­¤åœ¨å¤–å±¤å° `target` æ™‚ï¼Œä¸€æ¨£æœƒå¾—åˆ°éŒ¯èª¤è¨Šæ¯ã€‚\r\n\r\n##### å·¢ç‹€ scope\r\n\r\n```javascript\r\nvar outer = \"outer\";\r\nfunction myFunction() {\r\n  // --- å…§å±¤ ---\r\n  var middle = \"middle\";\r\n  function myInnerFunction() {\r\n    // ~~~ æœ€å…§å±¤ ~~~\r\n    var inner = \"inner\";\r\n    // ~~~ æœ€å…§å±¤ ~~~\r\n  }\r\n  myInnerFunction();\r\n  // --- å…§å±¤ ---\r\n}\r\n\r\nmyFunction();\r\n```\r\n\r\n## é‹ç®—å¼èˆ‡é‹ç®—å­\r\n\r\n### åš´è¬¹æ¨¡å¼\r\n\r\n- å®£å‘Šåœ¨ä¸»ç¨‹å¼é–‹é ­ï¼šGlobal Scopeï¼Œæ‰€æœ‰çš„ç¨‹å¼éƒ½æœƒåœ¨åš´è¬¹æ¨¡å¼ä¸‹åŸ·è¡Œã€‚\r\n- å®£å‘Šåœ¨å‡½æ•¸é–‹é ­ï¼šFunction Scopeï¼Œåªæœ‰è©²å‡½æ•¸å…§çš„ç¨‹å¼æœƒåœ¨åš´è¬¹æ¨¡å¼ä¸‹åŸ·è¡Œã€‚\r\n\r\n```javascript\r\nvar chang = 100; // å°‡è®Šæ•¸changæ”¹æˆ99\r\nchag = 99; // æ‹¼éŒ¯å­—\r\nconsole.log(chang); // 100\r\n\r\n(\"use strict\");\r\nvar chang = 100;\r\nchag = 99; // // ReferenceError: chag is not defined\r\n```\r\n\r\n- åš´è¬¹æ¨¡å¼éœ€è¦æ˜ç¢ºçš„å®£å‘Šï¼Œæœªæ˜ç¢ºå®£å‘Š`this`ä¹Ÿæœƒå¤±æ•ˆï¼Œé€™æ¨£æ¯”è¼ƒä¸æœƒå› ç‚ºæ‹¼éŒ¯å­—è€Œç”¢ç”Ÿæ±¡æŸ“\r\n- åœ¨éåš´è¬¹æ¨¡å¼ä¸‹å¦‚æœæ²’æœ‰ç”¨ var å®£å‘Šè®Šæ•¸ï¼Œè€Œç›´æ¥è³¦å€¼ï¼Œæœƒç›´æ¥å°‡æ­¤è®Šæ•¸ä½œå®£å‘Š\r\n- åš´è¬¹æ¨¡å¼ä¸‹ä¸¦ä¸æœƒå¹«ä½ åŸ·è¡Œï¼Œç¨‹å¼å®Œå…¨ä¸è·‘\r\n\r\n### è³¦å€¼é‹ç®—å­\r\n\r\n- è³¦å€¼\r\n- è³¦äºˆå·¦æ–¹é‹ç®—å…ƒèˆ‡å³æ–¹é‹ç®—å…ƒç›¸åŒä¹‹å€¼ã€‚`x = y` æœƒæŠŠ`y`çš„å€¼è³¦äºˆçµ¦`x`ã€‚\r\n\r\n```javascript\r\nx = y;\r\n```\r\n\r\n- åŠ æ³•è³¦å€¼\r\n\r\n```javascript\r\nx += y;\r\nx = x + y;\r\n```\r\n\r\n- æ¸›æ³•è³¦å€¼\r\n\r\n```javascript\r\nx -= y;\r\nx = x - y;\r\n```\r\n\r\n### æ¯”è¼ƒé‹ç®—å­\r\n\r\n`==`ï¼šç­‰æ–¼\r\n\r\n`!=`ï¼šä¸ç­‰æ–¼\r\n\r\n- å¦‚æœé‹ç®—å…ƒç›¸åŒå‹åˆ¥ï¼Œå°±ä½¿ç”¨åš´æ ¼æ¯”è¼ƒå»æª¢é©—ã€‚\r\n- null è·Ÿ undefined ç›¸åŒã€‚\r\n- é‹ç®—å…ƒä¸€å€‹æ˜¯æ•¸å€¼ï¼Œä¸€å€‹æ˜¯å­—ä¸²ï¼Œæœƒå°‡å­—ä¸²è½‰æ•¸å­—ï¼Œå†é€²è¡Œæ¯”è¼ƒã€‚\r\n- å…¶ä¸­ä¸€å€‹æ˜¯ true æˆ– false æœƒè½‰æˆæ•¸å­—çš„ 1 æˆ– 0ï¼Œå†é€²è¡Œæ¯”è¼ƒã€‚\r\n- å…¶ä¸­ä¸€å€‹æ˜¯ç‰©ä»¶ï¼Œå¦ä¸€å€‹æ˜¯å­—ä¸²æˆ–æ•¸å€¼ï¼Œç‰©ä»¶æœƒå…ˆè½‰æˆåŸºå‹å€¼ï¼Œå†é€²è¡Œæ¯”è¼ƒã€‚\r\n\r\n`===`ï¼šåš´æ ¼ç­‰æ–¼\r\n\r\n`!==`ï¼šåš´æ ¼ä¸ç­‰æ–¼\r\n\r\n- å…ˆåˆ¤æ–·é‹ç®—å…ƒçš„å‹åˆ¥æ˜¯å¦ç›¸åŒï¼Œè‹¥ä¸ç›¸åŒï¼Œçµæœç‚º falseã€‚\r\n- null èˆ‡ undefined éƒ½è·Ÿè‡ªå·±ç›¸ç­‰ã€‚\r\n- true èˆ‡ false éƒ½è·Ÿè‡ªå·±ç›¸ç­‰ã€‚\r\n- NaN ä¸ç­‰æ–¼ä»»ä½•å€¼ï¼ŒåŒ…æ‹¬è‡ªå·±ã€‚\r\n- åªè¦æ˜¯ number å‹åˆ¥çš„å€¼ä¸€æ¨£ï¼Œä»–å€‘å°±ç›¸ç­‰ã€‚\r\n- 0 è·Ÿ-0 ç›¸ç­‰ã€‚\r\n- string é•·åº¦è·Ÿå…§å®¹ä¸ä¸€æ¨£ï¼ŒåŒ…æ‹¬ç©ºç™½ï¼Œå®ƒå€‘å°±ä¸ç›¸ç­‰ã€‚\r\n- å¦‚æœåƒè€ƒè‡³åŒä¸€å€‹ç‰©ä»¶ã€é™£åˆ—ã€å‡½å¼ï¼Œç›¸åŒçš„è¨˜æ†¶é«”ä½ç½®ï¼Œä»–å€‘å°±ç›¸ç­‰ï¼Œè‹¥ç„¡ï¼Œå°±ç®—å…§å®¹çš„å€¼ä¸€æ¨£ï¼Œå®ƒå€‘ä¹Ÿä¸ç›¸ç­‰ï¼Œä¸åŒçš„è¨˜æ†¶é«”ä½ç½®å­˜ç›¸åŒçš„å€¼ã€‚\r\n\r\n```javascript\r\nconsole.log('1' === 1); //false\r\nconsole.log(null === null); //true\r\nconsole.log(undefined === undefined); //true\r\nconsole.log(null === undefined); //false\r\nconsole.log(NaN === NaN); //false\r\nconsole.log(NaN !== NaN); //true\r\nconsole.log('ABC' === 'ABC '); //false\r\n```\r\n\r\n`>`ï¼šå¤§æ–¼\r\n\r\n`>=`ï¼šå¤§æ–¼ç­‰æ–¼\r\n\r\n`<`ï¼šå°æ–¼\r\n\r\n`<=`ï¼šå°æ–¼ç­‰æ–¼\r\n\r\næ³¨æ„ï¼š`=>`ä¸æ˜¯é‹ç®—å­ï¼Œæ˜¯ç®­é ­å‡½å¼ã€‚\r\n\r\n### ç®—æ•¸é‹ç®—å­\r\n\r\n- `%` å›å‚³å…©å€‹é‹ç®—å…ƒç›¸é™¤å¾Œçš„é¤˜æ•¸ã€‚\r\n\r\n```javascript\r\ncount = 12 % 5;\r\nconsole.log(count); // å›å‚³ 2\r\n```\r\n\r\n- `++` å°‡é‹ç®—å…ƒå¢åŠ  1ã€‚\r\n\r\n```javascript\r\nx = 3;\r\nx++;\r\nconsole.log(x); // å›å‚³4ï¼Œè¨­å®šä¹‹å¾Œå›å‚³\r\n\r\n++x;\r\nconsole.log(x); // å›å‚³3ï¼Œå›å‚³ä¹‹å¾Œå†è¨­å®š\r\n```\r\n\r\n- `--` å°‡é‹ç®—å…ƒæ¸›å°‘ 1ã€‚\r\n\r\n```javascript\r\nx = 3;\r\nx--;\r\nconsole.log(x); // å›å‚³2ï¼Œè¨­å®šä¹‹å¾Œå›å‚³\r\n\r\n--x;\r\nconsole.log(x); // å›å‚³3ï¼Œå›å‚³ä¹‹å¾Œå†è¨­å®š\r\n```\r\n\r\n### é‚è¼¯é‹ç®—å­\r\n\r\n- `&&` // `and` å‰å¾Œå…¨éƒ¨ç‚º `true` ï¼Œæ‰æœƒæ˜¯ `true`ï¼Œå¦å‰‡éƒ½è¿”å› `false`\r\n- `||` // `or` å‰å¾Œåªè¦ä¸€å€‹æ˜¯ `true` å°±æœƒè¿”å› `true`ï¼Œé™¤éå…¨éƒ¨éƒ½æ˜¯ `false`\r\n- `!` // `not` å°‡å¾Œé¢çš„å€¼åšåå‘ï¼Œå¦‚æœæ˜¯ `true` å°±è¿”å› `false`ï¼Œå¦‚æœæ˜¯ `false` å°±è¿”å› `true`\r\n- `!!` // `true`åè½‰å†åè½‰ï¼Œè¿”å›åŸæœ¬çš„å¸ƒæ—å€¼ã€‚\r\n  å¤§å¤šç”¨åœ¨è½‰æ›ä¸€äº›å¯ä»¥å½¢æˆå¸ƒæ—å€¼çš„æƒ…æ³ã€‚\r\n  è€Œç¶“é`!!`é‹ç®—å¾Œï¼Œåªæœƒå¾ˆå–®ç´”å‡ºç¾`true` or `false`ï¼Œå¯ä»¥å–®ç´”åŒ–æ¸›å°‘æŸäº›ç‰¹æ®Šæƒ…æ³å‡ºéŒ¯çš„æ©Ÿç‡ã€‚\r\n  ä¾‹å¦‚ï¼šå¸Œæœ›\"ç©ºå­—ä¸²\"å’Œ`null`è¢«è¦–ç‚ºå®Œå…¨ç›¸åŒæ™‚\r\n\r\n  ```javascript\r\n  const a = \"\";\r\n  const b = null;\r\n\r\n  a === b; // false\r\n  !!a === !!b; // true\r\n  ```\r\n\r\n- çŸ­è·¯é‚è¼¯(çŸ­è·¯è§£æ)  \r\n  Javascript è£¡é¢åªè¦æ˜¯ `0`ã€`\"\"`ã€`null`ã€`false`ã€`undefined`ã€`NaN` éƒ½æœƒè¢«åˆ¤å®šç‚º `false`\r\n\r\n  - ç”¨ || ä¾†è¨­å®šè®Šæ•¸é è¨­å€¼  \r\n    å¦‚æœ obj å­˜åœ¨çš„è©±å°±ç¶­æŒåŸæ¨£ï¼Œå¦‚æœä¸å­˜åœ¨å°±çµ¦äºˆç©ºç‰©ä»¶\r\n\r\n    ```javascript\r\n    if (!obj) {\r\n      obj = {};\r\n    }\r\n\r\n    //çŸ­è·¯é‚è¼¯çš„å¯«æ³•\r\n    var obj = obj || {};\r\n    ```\r\n\r\n  - ç”¨ && ä¾†æª¢æŸ¥ç‰©ä»¶èˆ‡å±¬æ€§å€¼\r\n\r\n    ```javascript\r\n    var name = o && o.getName();\r\n    ```\r\n\r\n  - ç”¨ || ä¾†ç°¡åŒ–ç¨‹å¼ç¢¼\r\n\r\n    ```javascript\r\n    if (!obj) {\r\n      call_function();\r\n    }\r\n    obj || call_function();\r\n    ```\r\n\r\n  - ç”¨ && ä¾†ç°¡åŒ–ç¨‹å¼ç¢¼\r\n\r\n    ```javascript\r\n    var a = 1;\r\n    if (a == 1) {\r\n      alert(\"a=1\");\r\n    }\r\n    a == 1 && alert(\"a=1\");\r\n    ```\r\n\r\n  - ç”¨ && ã€|| ä¾†ç°¡åŒ–ç¨‹å¼ç¢¼\r\n\r\n    ```javascript\r\n    var a = 3,\r\n      b;\r\n    if (a == 3) {\r\n      b = 1;\r\n    } else if (a == 5) {\r\n      b = 2;\r\n    } else {\r\n      b = 3;\r\n    }\r\n    b = (a == 3 && 1) || (a == 5 && 2) || 3;\r\n    ```\r\n\r\n  - å–„ç”¨ ! çš„è½‰æ›\r\n\r\n    ```javascript\r\n    if (obj !== \"null\" && obj !== \"undefined\") {\r\n      //....\r\n    }\r\n    if (!!obj) {\r\n      //....\r\n    }\r\n    ```\r\n\r\n### å…¶é¤˜é‹ç®—å­èˆ‡å±•é–‹é‹ç®—å­\r\n\r\n- å…¶é¤˜é‹ç®—å­\r\n\r\n  å‡è¨­è¦å°‡ä¸€å€‹é™£åˆ—çš„å€¼ç›¸åŠ å¾Œå–å¹³å‡\r\n\r\n  ```javascript\r\n  let arr = [1, 2, 3, 4, 5];\r\n\r\n  let avg = function (arr) {\r\n    let sum = 0;\r\n    for (let i = 0; i < arr.length; i++) {\r\n      sum += arr[i];\r\n    }\r\n    return sum / arr.length;\r\n  };\r\n\r\n  console.log(avg(arr)); //  3\r\n  ```\r\n\r\n  ä½†è‹¥å‘¼å« function æ™‚ï¼Œä¸æ˜¯å‚³å…¥é™£åˆ—ï¼Œè€Œæ˜¯å‚³å…¥å¤šå€‹åƒæ•¸\r\n\r\n  æœ€å¾Œå¾—åˆ°çš„çµæœæœƒæ˜¯ NaN\r\n\r\n  ```javascript\r\n  let avg = function (arr) {\r\n    let sum = 0;\r\n    for (let i = 0; i < arr.length; i++) {\r\n      sum += arr[i];\r\n    }\r\n    return sum / arr.length;\r\n  };\r\n\r\n  console.log(avg(1, 3, 5, 7, 9)); // NaN\r\n  ```\r\n\r\n  é‹ç”¨å…¶é¤˜é‹ç®—å­`...`ï¼Œå°‡è¼¸å…¥å‡½å¼ä¸­çš„åƒæ•¸å€¼è®Šæˆé™£åˆ—çš„å½¢å¼\r\n\r\n  ```javascript\r\n  let avg = function (...arr) {\r\n    console.log(arr); // [1,3,5,7,9]\r\n    let sum = 0;\r\n    for (let i = 0; i < arr.length; i++) {\r\n      sum += arr[i];\r\n    }\r\n    return sum / arr.length;\r\n  };\r\n\r\n  console.log(avg(1, 3, 5, 7, 9)); // 5\r\n  ```\r\n\r\n- å±•é–‹é‹ç®—å­ `...`\r\n\r\n  é—œéµå­—èˆ‡å…¶é¤˜é‹ç®—å­ç›¸åŒï¼Œä½†åŠŸèƒ½èˆ‡å…¶é¤˜é‹ç®—å­ç›¸åï¼Œå±•é–‹é‹ç®—å­å¯ä»¥æŠŠé™£åˆ—ä¸­çš„å…ƒç´ å–å‡ºã€‚\r\n\r\n  å‡è¨­è¦ç”¨ `Math.max()` ä¾†æ‰¾å‡ºæœ€å¤§å€¼ï¼Œä½†å‚³å…¥çš„åƒæ•¸ç‚ºé™£åˆ—ï¼Œæ­¤æ™‚æœƒå¾—åˆ° NaN\r\n\r\n  ```javascript\r\n  let number = [1, 2, 3, 4, 5, 6, 7, 8];\r\n\r\n  console.log(Math.max(number)); // NaN\r\n  ```\r\n\r\n  é‹ç”¨å±•é–‹é‹ç®—å­å°‡é™£åˆ—å±•é–‹æˆè¨±å¤šæ•¸å€¼\r\n\r\n  ```javascript\r\n  let number = [1, 2, 3, 4, 5];\r\n\r\n  console.log(Math.max(...number)); // 5\r\n\r\n  console.log(...number); // 1,2,3,4,5\r\n  ```\r\n\r\n### ä¸‰å…ƒé‹ç®—å¼\r\n\r\n```javascript\r\ncondition ? val1 : val2;\r\n```\r\n\r\n- å¦‚æœæ¢ä»¶ç‚º true ï¼Œæ­¤æ™‚å›å‚³[æ•¸å€¼ / é‹ç®—å¼ï¼ˆ1ï¼‰]\r\n- å¦‚æœæ¢ä»¶ç‚º falseï¼Œæ­¤æ™‚å›å‚³[æ•¸å€¼ / é‹ç®—å¼ï¼ˆ2ï¼‰]\r\n\r\n```javascript\r\nvar status = \"\";\r\nif (a < 60) {\r\n  status = \"ä¸åŠæ ¼\";\r\n} else {\r\n  status = \"åŠæ ¼\";\r\n}\r\n\r\n// ä¸‰å…ƒé‹ç®—å¼\r\nvar status = a < 60 ? \"ä¸åŠæ ¼\" : \"åŠæ ¼\";\r\n```\r\n\r\n### if else\r\n\r\n```javascript\r\nif (A) {\r\n  //  A = True åŸ·è¡Œé€™é‚Š\r\n} else if (B) {\r\n  //  A = False and B = True åŸ·è¡Œé€™é‚Š\r\n} else {\r\n  //  A = False and B = False åŸ·è¡Œé€™é‚Š\r\n}\r\n```\r\n\r\n- åˆ¤æ–·å¼æ‹¬è™Ÿè£¡æœƒå¼·åˆ¶è½‰æˆå¸ƒæ—å€¼\r\n- `null` è·Ÿ `undefined` å’Œ `NaN` åœ¨ if åˆ¤æ–·æ™‚å€¼éƒ½æœƒè½‰æ›ç‚º `false`\r\n\r\n## æµç¨‹åˆ¤æ–·èˆ‡è¿´åœˆ\r\n\r\n### switch\r\n\r\n```javascript\r\nswitch (expression) {\r\n  // expression => è¡¨é”å¼ï¼Œç”¨ä¾†è·Ÿæ¯å€‹caseåšæ¯”è¼ƒ\r\n  case value1:\r\n    //ç•¶ è¡¨é”å¼ çš„å€¼ç¬¦åˆ value1\r\n    //è¦åŸ·è¡Œçš„é™³è¿°å¥\r\n    break;\r\n  case value2:\r\n    //ç•¶ è¡¨é”å¼ çš„å€¼ç¬¦åˆ value2\r\n    //è¦åŸ·è¡Œçš„é™³è¿°å¥\r\n    break;\r\n  default:\r\n    //ç•¶ è¡¨é”å¼ çš„å€¼éƒ½ä¸ç¬¦åˆä¸Šè¿°æ¢ä»¶\r\n    //è¦åŸ·è¡Œçš„é™³è¿°å¥\r\n    break;\r\n}\r\n```\r\n\r\n- å¦‚æœå¿˜è¨˜æ”¾ breakï¼Œå‰‡ç•¶ä¸‹çš„ case åŸ·è¡Œå®Œä¹‹å¾Œï¼Œæœƒç›´æ¥å¾€ä¸‹ä¸€å€‹ case åŸ·è¡Œï¼Œç›´åˆ°é‡è¦‹ break\r\n\r\n```javascript\r\nswitch (è¡¨é”å¼) {\r\n  case x:\r\n  case y:\r\n  case z:\r\n    //å¦‚æœæœ‰å¤šé …æ¢ä»¶ï¼Œè¦åŸ·è¡ŒåŒä¸€é™³è¿°å¥å¯ä»¥åˆä½µæ’°å¯«\r\n    // code block\r\n    break;\r\n  case a:\r\n  case b:\r\n  case c:\r\n    // code block\r\n    break;\r\n}\r\n```\r\n\r\n### while è¿´åœˆ\r\n\r\n```javascript\r\nwhile ((A = x)) {\r\n  é™³è¿°å¥; // ç•¶æ¢ä»¶å¼\"A\"æˆç«‹çš„æ™‚å€™ï¼Œå°±é‡è¤‡åš\"é™³è¿°å¥\"\r\n  break; // é‡åˆ° break å°±æœƒåœæ­¢ï¼Œå¦å‰‡å°±æœƒç¹¼çºŒåŸ·è¡Œï¼Œç›´åˆ° A = F\r\n}\r\n```\r\n\r\n- å®Œæˆä¹‹å¾Œå†å›å»æª¢æŸ¥\"A\"ï¼Œæˆç«‹å°±åš\"B\"\r\n- ç›´åˆ°\"A\"ä¸æˆç«‹ï¼Œæ‰æœƒé›¢é–‹\r\n\r\n```javascript\r\ndo {\r\n  // æ”¾è¦é‡è¤‡åšçš„äº‹æƒ…ï¼Œæœƒå…ˆåŸ·è¡Œä¸€æ¬¡å†é€²å…¥åˆ¤æ–·\r\n} while (åˆ¤æ–·å¼);\r\n```\r\n\r\n### for è¿´åœˆ\r\n\r\n```javascript\r\nfor (var i = 0; i < 10; i++) {\r\n  // è¦è¢«åŸ·è¡Œçš„é™³è¿°å¥\r\n  // forè¿´åœˆæœƒç”¢ç”Ÿå‡ºå¾\"i = 0\"é–‹å§‹åˆ°\"i < 10\"çš„é•·åº¦\r\n  // å¯ä»¥ç•¶ä½œè¨ˆæ•¸å™¨ï¼Œæ¯æ•¸ä¸€æ¬¡å°±åŸ·è¡Œä¸€æ¬¡é™³è¿°å¥\r\n}\r\n\r\n// for (statement 1; statement 2; statement 3){}\r\n// Statement 1 åŸ·è¡Œç¨‹å¼ä¹‹å‰åšä¸€æ¬¡\r\n// Statement 2 åŸ·è¡Œç¨‹å¼çš„æ¢ä»¶\r\n// Statement 3 åŸ·è¡Œç¨‹å¼å¾Œæ¯æ¬¡åŸ·è¡Œ\r\n\r\nfor (var i = 0; i < 10; i++) {\r\n  // ä¹Ÿå¯ä»¥åœ¨è¿´åœˆè£¡åŠ å…¥åˆ¤æ–·å¼å–\"i\"çš„å€¼\r\n  if (i % 2 == 0) {\r\n    continue; //è·³éé€™æ¬¡ä¸åš\r\n  }\r\n  if (i == 7) {\r\n    break; //è·³å‡ºæ•´å€‹forè¿´åœˆ\r\n  }\r\n\r\n  console.log(i); // ans = \"1  3  5\" 7è·Ÿ9å·²ç¶“è·³å‡ºè¿´åœˆï¼Œæ‰€ä»¥ä¸æœƒè¢«åŸ·è¡Œå‡º\r\n}\r\n```\r\n\r\n### for of\r\n\r\n```javascript\r\nvar ç‰©ä»¶ = [\"A\", \"B\", \"C\", \"D\"];\r\nfor (const è®Šæ•¸1 of ç‰©ä»¶1) {\r\n  // å¤§å¤šä½¿ç”¨åœ¨é™£åˆ—ï¼Œæˆ–æ˜¯å…¶ä»–éœ€è¦æŸ¥æ‰¾ç‰©ä»¶çš„å…§å®¹ç‰©\r\n}\r\n\r\nlet å­—ä¸² = \"ES6\"; //ä¾‹å¦‚ç”¨ä¾†æŸ¥æ‰¾å­—ä¸²æˆ–æ•¸åˆ—ç­‰ç­‰\r\nfor (let è®Šæ•¸2 of å­—ä¸²) {\r\n  console.log(è®Šæ•¸2); // \"E\", \"S\", \"6\"\r\n}\r\n```\r\n\r\n### for in\r\n\r\n```javascript\r\nvar ç‰©ä»¶2 = {\r\n  AA: 100,\r\n  BB: 20,\r\n};\r\nfor (è®Šæ•¸3 in ç‰©ä»¶2) {\r\n  //æœƒé€ä¸€å°‹æ‰¾ç‰©ä»¶è£¡çš„å±¬æ€§\r\n  //ä¸”åªé¡¯ç¤ºæœ‰å€¼çš„è³‡æ–™å‡ºä¾†\r\n  console.log(ç‰©ä»¶2); //æ­¤æ™‚å‡ºç¾çš„æ˜¯ç‰©ä»¶è£¡çš„å­—ä¸²\r\n  console.log(ç‰©ä»¶2[è®Šæ•¸3]); //æ­¤æ™‚å‡ºç¾çš„æ˜¯ç‰©ä»¶è£¡çš„æ•¸å€¼\r\n}\r\n\r\nvar ç‰©ä»¶3 = [10, 20, 30];\r\nç‰©ä»¶3[6] = 999; //é€™æ™‚ç‰©ä»¶3çš„é™£åˆ—[10, 20, 30, nill]\r\n```\r\n\r\n## å‡½å¼ function\r\n\r\n> function æ˜¯ç‰©ä»¶çš„ä¸€ç¨®\r\n\r\n### å®šç¾©å‡½å¼\r\n\r\n- å‡½å¼å®£å‘Š\r\n\r\n  ```javascript\r\n  function name(params) {\r\n    // do some things\r\n  }\r\n  ```\r\n\r\n- å‡½å¼é‹ç®—å¼\r\n\r\n  é€éåŒ¿åå‡½å¼å°‡è®Šæ•¸è³¦å€¼\r\n\r\n  ```javascript\r\n  var squsre = function (params) {\r\n    return params;\r\n  };\r\n  ```\r\n\r\n  è‹¥åœ¨ function åŠ ä¸Šåç¨±æ™‚ï¼Œé€™å€‹åç¨±åªåœ¨\"è‡ªå·±å‡½å¼çš„å€å¡Šå…§æœ‰æ•ˆ\"\r\n\r\n  ```javascript\r\n  var square = function func(number) {\r\n    console.log(typeof func); // \"function\"\r\n    return number * number;\r\n  };\r\n\r\n  console.log(typeof func); // undefined\r\n  ```\r\n\r\n- é€é new é—œéµå­—å»ºç«‹å‡½å¼\r\n\r\n```javascript\r\n// F è¦å¤§å¯«\r\nvar square = new Function(\"number\", \"return number * number\");\r\n```\r\n\r\né€éé—œéµå­—å»ºç«‹çš„å‡½å¼ç‰©ä»¶ï¼Œæ¯æ¬¡åŸ·è¡Œæ™‚éƒ½æœƒé€²è¡Œè§£æå­—ä¸²çš„å‹•ä½œ(å¦‚ï¼š`'return number * number'`)\r\n\r\n### ç®­é ­å‡½å¼\r\n\r\n```javascript\r\nfunction test(a) {\r\n  return a + 1; // å°‡ç‰©ä»¶ã€é‹ç®—çµæœå‚³å‡ºåˆ°å‘¼å«é»\r\n}\r\n\r\nvar test = function (a) {\r\n  return a + 1;\r\n};\r\n\r\nvar test = (a) => {\r\n  return a + 1;\r\n};\r\n\r\nvar test = (a) => a + 1; //æœ€çµ‚çœç•¥äº†functionå’Œreturn\r\n\r\nvar answer = test(5); //å‘¼å«é»ï¼Œtest(5)æœƒå°‡åˆ®è™Ÿå…§çš„åƒæ•¸å‚³åˆ°functionçš„åˆ®è™Ÿ(a)ä¸­\r\n```\r\n\r\n- ç®­é ­å‡½å¼åƒ…ç”¨æ–¼ function å…§åªæœ‰ä¸€æ¢é‹ç®—å¼æ™‚\r\n\r\n### Scope è®Šæ•¸çš„æœ‰æ•ˆç¯„åœ\r\n\r\n> å…¨åŸŸè®Šæ•¸å’Œå€åŸŸè®Šæ•¸çš„å·®ç•°\r\n\r\n```javascript\r\nvar x = 1;\r\n\r\nvar someThingHappened = function (y) {\r\n  var x = 100;\r\n  return x + y;\r\n};\r\n\r\nconsole.log(someThingHappened(50)); // 150\r\nconsole.log(x); // 1\r\n```\r\n\r\nåˆ‡åˆ†è®Šæ•¸æœ‰æ•ˆç¯„åœçš„æœ€å°å–®ä½æ˜¯ `function`\r\n\r\nå› æ­¤åœ¨ function ä¸­é€é var å®£å‘Šçš„è®Šæ•¸ï¼Œå…¶ä½œç”¨ç¯„åœåƒ…é™æ–¼é€™å€‹å‡½å¼ã€‚\r\n\r\næ­¤ä¾‹ä¸­åœ¨ä¸€é–‹å§‹å®£å‘Šçš„è®Šæ•¸ x èˆ‡åœ¨ function å…§éƒ¨å®£å‘Šçš„è®Šæ•¸ x ç‚ºå…©å€‹ä¸åŒè®Šæ•¸ã€‚\r\n\r\nè‹¥ function ä¸­æ²’æœ‰å®£å‘Šæ–°è®Šæ•¸ï¼Œå‰‡æœƒä¸€å±¤ä¸€å±¤å¾€å¤–å°‹æ‰¾ï¼Œç›´åˆ°å…¨åŸŸè®Šæ•¸ç‚ºæ­¢\r\n\r\n```javascript\r\nvar x = 1;\r\n\r\nvar doSomeThing = function (y) {\r\n  x = 100;\r\n  return x + y;\r\n};\r\n\r\nconsole.log(doSomeThing(50)); // 150\r\nconsole.log(x); // 100\r\n```\r\n\r\næ­¤ä¾‹ä¸­ï¼Œfunction ä¸­æœªå®£å‘Šæ–°è®Šæ•¸ xï¼Œå› æ­¤ javascript å‘å¤–å±¤å°‹æ‰¾åŒåçš„è®Šæ•¸ï¼Œç›´åˆ°æœ€å¤–å±¤çš„å…¨åŸŸè®Šæ•¸ï¼Œä¸¦å°‡å…¶è³¦å€¼ã€‚\r\n\r\n### Hoisting æå‡\r\n\r\n#### è®Šæ•¸æå‡\r\n\r\nç•¶ Scope ä¸­çš„è®Šæ•¸æœ‰è¢«å®£å‘Šï¼Œå³ä½¿åœ¨å®£å‘Šä¹‹å‰å³èª¿ç”¨è®Šæ•¸ï¼Œjavascript æœƒå°‡å…ˆå‘Šçš„èªæ³•æ‹‰åˆ°æ­¤ scope çš„ä¸Šé¢\r\n\r\n```javascript\r\nvar x = 1;\r\n\r\nvar doSomeThing = function (y) {\r\n  console.log(x); // undefined\r\n\r\n  var x = 100;\r\n  return x + y;\r\n};\r\n\r\nconsole.log(doSomeThing(50)); // 150\r\nconsole.log(x); // 1\r\n```\r\n\r\nå°ç·¨è­¯å™¨è€Œè¨€æ­¤ï¼Œé€™æ®µç¨‹å¼ç¢¼æœƒæ˜¯é€™å€‹æ¨£å­\r\n\r\n```javascript\r\nvar x = 1;\r\n\r\nvar doSomeThing = function (y) {\r\n  var x; // å®£å‘Šçš„èªæ³•è¢«æ‹‰åˆ°ä¸Šé¢\r\n  console.log(x); // undefined\r\n  x = 100;\r\n  return x + y;\r\n};\r\n\r\nconsole.log(doSomeThing(50)); // 150\r\nconsole.log(x); // 1\r\n```\r\n\r\n#### å‡½å¼æå‡\r\n\r\né€é\"å‡½å¼å®£å‘Š\"æ–¹å¼å®šç¾©çš„å‡½å¼å¯ä»¥åœ¨å®£å‘Šå‰ä½¿ç”¨\r\n\r\n```javascript\r\nsquare(2); // 4\r\n\r\nfunction square(number) {\r\n  return number * number;\r\n}\r\n```\r\n\r\nè€Œé€é\"å‡½å¼é‹ç®—å¼\"å®šç¾©çš„å‡½å¼å‰‡æ˜¯æœƒå‡ºç¾éŒ¯èª¤\r\n\r\n```javascript\r\nsquare(2); // TypeError: square is not a function\r\n\r\nvar square = function (number) {\r\n  return number * number;\r\n};\r\n```\r\n\r\né™¤å‘¼å«æ™‚æ©Ÿä¸åŒï¼Œæ­¤å…©è€…åœ¨åŸ·è¡Œæ™‚ç„¡æ˜é¡¯å·®ç•°\r\n\r\n#### ç‚ºä½•æœƒæœ‰ Hoisting çš„ç¾è±¡ï¼Ÿ\r\n\r\n> javascript ä¸­çš„ Compiler(ç·¨è­¯å™¨) å’Œ Engine (å¼•æ“) åŸ·è¡Œçš„é †åºï¼Œé€ æˆæå‡çš„ç‰¹æ€§\r\n\r\n- è®Šæ•¸å®£å‘Šå±¬æ–¼ compiler çš„å·¥ä½œ\r\n  javascript compiler æœƒå°‡ç¨‹å¼ç¢¼è§£ææˆæœ‰æ„ç¾©çš„èªæ³•çµæ§‹ï¼Œè½‰æ›æˆæ©Ÿå™¨å¯ä»¥ç†è§£çš„ç›®çš„ç¢¼ã€‚æ¥è‘— compiler æœƒå»ºç«‹æ‰€æœ‰çš„è®Šæ•¸ï¼Œä¿ç•™å…¶è¨˜æ†¶é«”ç©ºé–“ï¼Œä¸¦ä¸”ç¹«çµåˆ°æ‰€å±¬çš„ scope ä¸Šé¢ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œç¨‹å¼é–‹å§‹ä¸€è¡Œä¸€è¡ŒåŸ·è¡Œå‰ï¼Œæœƒå…ˆå°‡æ‰€æœ‰è®Šæ•¸å®£å‘Šå¥½ã€‚\r\n\r\n- åˆå§‹åŒ–ã€è³¦å€¼å±¬æ–¼ engine çš„å·¥ä½œ\r\n  åœ¨ compiler å¥½ä¹‹å¾Œï¼Œengine æ‰æœƒé–‹å§‹ä¸€è¡Œä¸€è¡Œçš„åŸ·è¡Œç¨‹å¼ï¼Œä¹Ÿå°±æ˜¯åˆå§‹åŒ–ã€è³¦å€¼çš„é€™å€‹å‹•ä½œä¹Ÿæ˜¯ç”± engine åœ¨ç·¨è­¯å¥½ä¹‹å¾Œï¼Œç­‰å¾…è¢«åŸ·è¡Œçš„ç¨‹å¼ç¢¼ä¹‹ä¸€ã€‚\r\n\r\n#### æœ€ä½³å¯¦è¸\r\n\r\n1. å®£å‘Šè®Šæ•¸æ‡‰é›†ä¸­åœ¨ç‡ˆå‰ scope çš„æœ€ä¸Šé¢\r\n\r\n### å…¨åŸŸè®Šæ•¸\r\n\r\nå…¶å¯¦åœ¨ javascript ä¸­ä¸¦ç„¡æ‰€è¬‚\"å…¨åŸŸè®Šæ•¸\"ï¼Œæ‰€è¬‚å…¨åŸŸè®Šæ•¸æŒ‡çš„æ˜¯\"å…¨åŸŸç‰©ä»¶\"(äº¦ç¨±ä½œ\"é ‚å±¤ç‰©ä»¶\")çš„å±¬æ€§ã€‚\r\n\r\nä»¥ç€è¦½å™¨è€Œè¨€ï¼Œå…¨åŸŸç‰©ä»¶æŒ‡çš„æ˜¯ `window`ï¼Œåœ¨ node çš„ç’°å¢ƒä¸­å‰‡å«åš `global`ã€‚\r\n\r\n- å…¨åŸŸç‰©ä»¶çš„å±¬æ€§\r\n\r\n  æ–¼å¤–å±¤é€é var å®£å‘Šä¸€å€‹è®Šæ•¸ aï¼Œç•¶æˆ‘å€‘èª¿ç”¨ `window.a` æœƒå›å‚³æˆ‘å€‘å®£å‘Šçš„æ­¤ä¸€è®Šæ•¸\r\n\r\n  ```javascript\r\n  var a = 10;\r\n  console.log(a); // 10\r\n  ```\r\n\r\n- è®Šæ•¸çš„ä½œç”¨ç¯„åœï¼Œæœ€å°çš„çš„åˆ‡åˆ†å–®ä½ç‚º function\r\n- å³ä½¿æ˜¯å¯«åœ¨å‡½å¼ä¸­ï¼Œæ²’æœ‰ var å®£å‘Šçš„è®Šæ•¸ï¼Œæœƒè®Šæˆå…¨åŸŸè®Šæ•¸\r\n- å…¨åŸŸè®Šæ•¸æŒ‡çš„æ˜¯å…¨åŸŸç‰©ä»¶(é ‚å±¤ç‰©ä»¶)çš„å±¬æ€§\r\n\r\n> ### é™„è¨»\r\n>\r\n> åœ¨ javascript ES6 ä¹‹å¾Œæœ‰æ–°çš„å®£å‘Šæ–¹æ³• let èˆ‡ constï¼Œåˆ†åˆ¥å®šç¾©\"è®Šæ•¸\"èˆ‡\"å¸¸æ•¸\"\r\n> å’Œ var ä¸åŒçš„æ˜¯ï¼Œä»–å€‘çš„ä½œç”¨å€åŸŸæ˜¯é€éå¤§æ‹¬è™Ÿ`{}`ä¾†åˆ‡åˆ†çš„\r\n\r\n## æ–¹æ³•\r\n\r\n### å–å¾— base_url\r\n\r\n- åœ¨ html åŠ å…¥ meta æ¨™ç±¤\r\n\r\n  ```html\r\n  <head>\r\n    <meta name=\"base-url\" content=\"{{ url('/') }}\" />\r\n  </head>\r\n  ```\r\n\r\n- æ­¤æ™‚å°±å¯ä»¥é€é meta æ¨™ç±¤å–å¾— base_url\r\n\r\n  ```javascript\r\n  window.base_url = document.head.querySelector('meta[name=\"base-url\"]');\r\n  ```\r\n\r\n### document\r\n\r\n#### `.querySelector` å…ƒç´ é¸æ“‡å™¨\r\n\r\nç”¨æ³•å’Œ css ä¸€æ¨£ï¼Œé¸å– id å…ƒç´ æ™‚ç”¨ `#`ï¼Œé¸å– class å…ƒç´ æ™‚ç”¨ `.`\r\n\r\n```javascript\r\ndocument.querySelector(\".title\");\r\n```\r\n\r\n#### `.querySelectorAll` é¸å–æ‰€æœ‰æŒ‡å®šå…ƒç´ \r\n\r\nç”¨æ³•å’Œ `.querySelector()` ä¸€æ¨£ï¼Œä½†ä¸åŒæ–¼ `.querySelector()`ï¼Œ`.querySelectorAll()` å¯ä»¥ä¸€æ¬¡é¸å–æ‰€æœ‰å…·æœ‰ç›¸åŒå…ƒç´ çš„å…§å®¹\r\n\r\n### prototype.forEach\r\n\r\nforEach æœƒä¿®æ”¹åŸå§‹é™£åˆ—ï¼Œä¸”ä¸æœƒå›å‚³å€¼\r\n\r\n```javascript\r\nvar forEachIt = people.forEach(function (item, index, array) {\r\n  console.log(item, index, array); // ç‰©ä»¶, ç´¢å¼•, å…¨éƒ¨é™£åˆ—\r\n  return item; // forEach æ²’åœ¨ return çš„ï¼Œæ‰€ä»¥é€™é‚Šå¯«äº†ä¹Ÿæ²’ç”¨\r\n});\r\nconsole.log(forEachIt); // undefined\r\n\r\npeople.forEach(function (item, index, array) {\r\n  item.age = item.age + 1; // forEach å°±å¦‚åŒ forï¼Œä¸éå¯«æ³•æ›´å®¹æ˜“\r\n});\r\n\r\nconsole.log(people); // å…¨éƒ¨ age + 1\r\n```\r\n\r\n### prototype.map\r\n\r\nä½¿ç”¨ map æ™‚æœƒéœ€è¦å›å‚³ä¸€å€‹å€¼ï¼Œä»–æœƒé€éå‡½å¼å…§æ‰€å›å‚³çš„å€¼çµ„æˆä¸€å€‹é™£åˆ—ã€‚\r\n\r\n- å¦‚ä¸å›å‚³ï¼Œå‰‡ç‚º undefined\r\n- å›å‚³é•·åº¦ç­‰æ–¼åŸå§‹é•·åº¦\r\n\r\nmap å¾ˆé©åˆå°‡åŸå§‹çš„è®Šæ•¸é‹ç®—å¾Œï¼Œé‡æ–°çµ„åˆæˆä¸€å€‹æ–°çš„é™£åˆ—ã€‚\r\n\r\nä½¿ç”¨èªæ³•ï¼š\r\n\r\n```Javascript\r\nconst newArr = arr.map(function (value, index, array){\r\n  //...\r\n});\r\n```\r\n\r\n- `newArr` è™•ç†å¾Œçš„æ–°é™£åˆ—\r\n- `arr` è¦åŸ·è¡Œ map çš„èˆŠé™£åˆ—\r\n- `function` èˆŠé™£åˆ—ä¸­æ¯å€‹å…ƒç´ è¦åŸ·è¡Œçš„å‡½å¼\r\n- `value` é™£åˆ—ä¸­æ­£åœ¨è™•ç†çš„å€¼\r\n- `index` é™£åˆ—ä¸­æ­£åœ¨è™•ç†çš„ key å€¼(å¯ç•¥)\r\n- `array` èˆŠé™£åˆ—(å¯ç•¥)\r\n\r\n```javascript\r\nlet A = [9000, 8500, 5500, 6500];\r\nlet B = A.map(function (value, index, array) {\r\n  return value * 2;\r\n});\r\n\r\nconsole.log(A); // [9000, 8500, 5500, 6500] - åŸé™£åˆ—ä¸æœƒè¢«ä¿®æ”¹\r\nconsole.log(B); // [18000, 17000, 11000, 13000] å›å‚³æ–°é™£åˆ—\r\n```\r\n\r\n### prototype.push\r\n\r\næ·»åŠ ä¸€å€‹æˆ–å¤šå€‹å…ƒç´ è‡³é™£åˆ—æœ«ç«¯ï¼Œä¸¦å›å‚³é™£åˆ—çš„æ–°é•·åº¦ã€‚\r\n\r\n```javascript\r\narr.push(element1[, ...[, elementN]])\r\n```\r\n\r\n- `elementN` æ¬²æ·»åŠ è‡³é™£åˆ—æœ«ç«¯çš„å…ƒç´ \r\n\r\n### `Math.round` å››æ¨äº”å…¥\r\n\r\n```javascript\r\nMath.round(3.14); // 3\r\nMath.round(5.49999); // 5\r\nMath.round(5.5); // 6\r\nMath.round(\"5.50001\"); // 6\r\nMath.round(-5.49999); // -5\r\nMath.round(-5.5); // -5\r\nMath.round(-5.50001); // -6\r\n\r\nlet data = 18.62645;\r\nMath.round(data * 10) / 10; // 18.6\r\nMath.round(data * 100) / 100; // 18.63\r\nMath.round(data * 1000) / 1000; // 18.626\r\n```\r\n\r\n### `Array.prototype.filter`\r\n\r\n- `arr.filter(function(item, index, array), thisValue)`\r\n  - `item` å¿…é ˆï¼Œç›®å‰å…ƒç´ çš„å€¼\r\n  - `index` å¯é¸ï¼Œç›®å‰å…ƒç´ çš„ key\r\n  - `array` å¯é¸ï¼Œç›®å‰å…ƒç´ å±¬æ–¼çš„é™£åˆ—\r\n  - `thisValue` å¯é¸ï¼Œç‰©ä»¶ä½œç‚ºè©²æ¬¡å‘¼å«æ™‚ä½¿ç”¨ï¼Œå‚³éçµ¦å‡½æ•¸ç•¶ä½œ `this` çš„å€¼ï¼Œè‹¥çœç•¥ï¼Œå‰‡ `this` çš„å€¼ç‚º `undefined`\r\n\r\n```javascript\r\nvar ages = [32, 33, 12, 40];\r\n\r\nfunction checkAdult(age) {\r\n  return age >= document.getElementById(\"ageToCheck\").value;\r\n}\r\n\r\nfunction myFunction() {\r\n  document.getElementById(\"demo\").innerHTML = ages.filter(checkAdult);\r\n}\r\n```\r\n\r\nè‹¥è¦å»é™¤é™£åˆ—ä¸­çš„ç©ºå€¼\r\n\r\n```javascript\r\nvar myArrayNew = myArray.filter((el) => el);\r\n```\r\n\r\n[### `Array.prototype.splice` æ–°å¢åˆªé™¤é™£åˆ—ä¸­çš„å…ƒç´ \r\n\r\n- `array.splice(start, deleteCount, item)`\r\n\r\n  - start å¿…å¡«ï¼Œé™£åˆ—ä¸­è¦é–‹å§‹æ”¹å‹•çš„å…ƒç´ ç´¢å¼•ã€‚è‹¥ç´¢å¼•é•·åº¦å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œå‰‡å¯¦éš›é–‹å§‹çš„ç´¢å¼•å€¼æœƒè¢«é è¨­ç‚ºé™£åˆ—é•·åº¦ã€‚è‹¥ç´¢å¼•å€¼ç‚ºè² ï¼Œå‰‡æœƒå¾é™£åˆ—ä¸­æœ€å¾Œä¸€å€‹å…ƒç´ é–‹å§‹å¾€å‰æ”¹å‹•(èµ·å§‹ç‚º -1)ï¼Œè‹¥å…¶çµ•å°å€¼å¤§æ–¼é™£åˆ—é•·åº¦ï¼Œå‰‡æœƒè¢«è¨­ç‚º 0ã€‚\r\n  - deleteCount å¯é¸ï¼Œæ¬²åˆªé™¤çš„åŸé™£åˆ—æ•¸é‡çš„æ•´æ•¸ã€‚è‹¥çœç•¥ï¼Œæˆ–å…¶å€¼å¤§æ–¼å¯ä»¥è¢«åˆªé™¤çš„å…ƒç´ æ•¸é‡(å¾ start åˆ°é™£åˆ—æœ€å¾Œçš„é•·åº¦)ï¼Œå‰‡å°‡å¾ start é–‹å§‹åˆ°é™£åˆ—æœ€å¾Œä¸€å€‹å…ƒç´ å…¨éƒ¨åˆªé™¤ã€‚è‹¥ deleteCount ç‚º 0 æˆ–è² æ•¸ï¼Œå‰‡ä¸æœƒæœ‰å…ƒç´ è¢«åˆªé™¤ã€‚\r\n  - item 1, item 2 å¯é¸ï¼Œå¾ start é–‹å§‹è¦åŠ å…¥çš„å…ƒç´ ï¼Œè‹¥æœªå‚³å…¥ä»»ä½•æ•¸å€¼ï¼Œå‰‡å°‡ start åˆ° deleteCount ä¹‹é–“çš„å…ƒç´ åˆªé™¤ã€‚\r\n\r\n- å¾ `[2]` çš„ä½ç½®é–‹å§‹ï¼Œåˆªé™¤ 0 å€‹å…ƒç´ ä¸¦æ’å…¥ `drum`\r\n\r\n  ```javascript\r\n  var myFish = [\"angel\", \"clown\", \"mandarin\", \"sturgeon\"];\r\n  var removed = myFish.splice(2, 0, \"drum\");\r\n\r\n  // myFish ç‚º [\"angel\", \"clown\", \"drum\", \"mandarin\", \"sturgeon\"]\r\n  // removed ç‚º []ï¼Œæ²’æœ‰ä»»ä½•å…ƒç´ è¢«åˆªé™¤\r\n  ```\r\n\r\n- å¾ `[3]` çš„ä½ç½®é–‹å§‹ï¼Œåˆªé™¤ä¸€å€‹å…ƒç´ \r\n\r\n  ```javascript\r\n  var myFish = [\"angel\", \"clown\", \"drum\", \"mandarin\", \"sturgeon\"];\r\n  var removed = myFish.splice(3, 1);\r\n\r\n  // removed ç‚º [\"mandarin\"]\r\n  // myFish ç‚º [\"angel\", \"clown\", \"drum\", \"sturgeon\"]\r\n  ```\r\n\r\n- å¾ `[0]` é–‹å§‹ï¼Œåˆªé™¤å…©å€‹å…ƒç´ ï¼Œä¸¦æ’å…¥ \"parrot\", \"anemone\", \"blue\"\r\n\r\n  ```javascript\r\n  var myFish = [\"angel\", \"clown\", \"trumpet\", \"sturgeon\"];\r\n  var removed = myFish.splice(0, 2, \"parrot\", \"anemone\", \"blue\");\r\n\r\n  // myFish ç‚º [\"parrot\", \"anemone\", \"blue\", \"trumpet\", \"sturgeon\"]\r\n  // removed ç‚º [\"angel\", \"clown\"]\r\n  ```\r\n\r\n### ç‰©ä»¶å–å€¼ã€æ–°å¢èˆ‡åˆªé™¤\r\n\r\n#### ç‰©ä»¶å–å€¼\r\n\r\n```javascript\r\nvar family = {\r\n  name: \"ma's family\",\r\n  deposit: 1000,\r\n  members: {\r\n    mother: \"mom\",\r\n    father: \"dad\",\r\n  },\r\n};\r\n\r\nconsole.log(family.name); // ma's family\r\nconsole.log(family.members.mother); // mom\r\nconsole.log(family[\"name\"]); // ma's family\r\n```\r\n\r\nç”¨ä¸­æ‹¬è™Ÿèªæ³•ï¼Œå…è¨±ä»¥è®Šæ•¸çš„æ–¹å¼å–å€¼\r\n\r\n```javascript\r\nvar family = {\r\n  name: \"ma's family\",\r\n  deposit: 1000,\r\n  members: {\r\n    mother: \"mom\",\r\n    father: \"dad\",\r\n  },\r\n};\r\nvar a = \"name\";\r\n\r\nconsole.log(family.a); // undefine\r\nconsole.log(family[a]); // ma's family\r\n```\r\n\r\n`.` èªæ³•æ˜¯ç›´æ¥ä»¥å­—ä¸²çš„æ–¹å¼å°‹æ‰¾è©²ç‰©ä»¶çš„å±¬æ€§ï¼Œè€Œ family ç‰©ä»¶ä¸¦ç„¡ a å±¬æ€§ã€‚\r\nä½†ä¸­æ‹¬è™Ÿä¸­çš„èªæ³•æ˜¯å°‡è®Šæ•¸ a çš„å€¼å¸¶å…¥ï¼Œç›¸ç•¶æ–¼ `family['name']`ã€‚\r\n\r\nå¦å¤–ï¼Œåœ¨ç‰©ä»¶ä¸­çš„å±¬æ€§ä¸€å¾‹æ˜¯å­—ä¸²ï¼Œå› æ­¤å¯ä»¥å…è¨±å„ç¨®æ•¸å­—æˆ–æ˜¯ç‰¹æ®Šå­—å…ƒï¼Œä½†åœ¨ `.` èªæ³•ä¸­ï¼Œæœƒå—åˆ°è¨±å¤šé™åˆ¶ã€‚\r\n\r\n```javascript\r\nvar family = {\r\n  name: \"ma's family\",\r\n  deposit: 1000,\r\n  members: {\r\n    mother: \"mom\",\r\n    father: \"dad\"\r\n  },\r\n  1: '1',\r\n  '$-å°åå®¶': '$-å°åå®¶ string'\r\n};\r\n\r\nconsole.log(family.1) // èªæ³•éŒ¯èª¤\r\nconsole.log(family[1]) // 1\r\n\r\nconsole.log(family.$-å°åå®¶) // èªæ³•éŒ¯èª¤\r\nconsole.log(family['$-å°åå®¶']) // $-å°åå®¶ string\r\n```\r\n\r\nåŸ·è¡Œç‰©ä»¶ä¸­çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨é»èªæ³•æˆ–æ˜¯ä¸­æ‹¬è™Ÿ\r\n\r\n```javascript\r\nvar family = {\r\n  name: \"ma's family\",\r\n  deposit: 1000,\r\n  members: {\r\n    mother: \"mom\",\r\n    father: \"dad\",\r\n  },\r\n  callFamily: function () {\r\n    console.log(\"call 2 ma's family\");\r\n  },\r\n};\r\n\r\nfamily.callFamily(); // call 2 ma's family\r\nfamily[\"callFamily\"](); // call 2 ma's family\r\n```\r\n\r\n#### ç‰©ä»¶è½‰ç‚ºé™£åˆ—\r\n\r\né™£åˆ—æœ¬èº«èˆ‰æœ‰è¨±å¤šå¥½ç”¨çš„æ–¹æ³•ï¼š`forEach`, `map`, `reduce`, `find`...ï¼Œä½†ç‰©ä»¶ç„¡æ³•ä½¿ç”¨é€™äº›é™£åˆ—æ–¹æ³•\r\n\r\nåˆ©ç”¨ `Object` é—œéµå­—ï¼Œå°‡ç‰©ä»¶è½‰ç‚ºé™£åˆ—ã€‚\r\n\r\n- Object.values å¯ä»¥ç›´æ¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œä¸¦å°‡ç‰©ä»¶ç›´æ¥è½‰ç‚ºé™£åˆ—çš„å½¢å¼ï¼Œä½†ç„¡æ³•å–å¾— key å€¼ã€‚\r\n- Object.keys å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œä¸¦å°‡å…¶ key å€¼ä»¥é™£åˆ—æ–¹å¼å‘ˆç¾ï¼Œåƒ…åªå– key å€¼ã€‚\r\n- Object.entries å‚³å…¥ç‰©ä»¶ï¼Œä¸¦åŒæ™‚å›å‚³ key å€¼èˆ‡ valuesï¼Œä½†ç”¢ç”Ÿçš„æ–°çµæ§‹ï¼Œæœƒå¦å¤–ç”¨ä¸€å±¤é™£åˆ—çµ„æˆã€‚\r\n\r\n#### æ–°å¢ç‰©ä»¶å±¬æ€§\r\n\r\n```javascript\r\nvar family = {\r\n  name: \"ma's family\",\r\n  deposit: 1000,\r\n  members: {\r\n    mother: \"mom\",\r\n    father: \"dad\",\r\n  },\r\n  callFamily: function () {\r\n    console.log(\"call 2 ma's family\");\r\n  },\r\n};\r\n\r\nfamily.dog = \"å°è±¬\";\r\nfamily[\"kitten\"] = \"K Kaè²“\";\r\nfamily[\"$\"] = \"money\";\r\nconsole.log(family);\r\n```\r\n\r\n#### åˆªé™¤ç‰©ä»¶å±¬æ€§\r\n\r\nä½¿ç”¨ `delete` é—œéµå­—\r\n\r\n```javascript\r\nvar family = {\r\n  name: \"ma's family\",\r\n  deposit: 1000,\r\n  members: {\r\n    mother: \"mom\",\r\n    father: \"dad\",\r\n  },\r\n  callFamily: function () {\r\n    console.log(\"call 2 ma's family\");\r\n  },\r\n};\r\n\r\nfamily.dog = \"å°è±¬\";\r\nfamily[\"kitten\"] = \"K Kaè²“\";\r\nfamily[\"$\"] = \"money\";\r\n\r\ndelete family.deposit;\r\ndelete family[\"$\"];\r\nconsole.log(family);\r\n```\r\n\r\n### SET é›†åˆ\r\n\r\n#### åŸºæœ¬ä½¿ç”¨\r\n\r\n- set è£¡é¢çš„å€¼æ˜¯ä¸æœƒé‡è¤‡çš„\r\n\r\n```javascript\r\n// new Set Type\r\nlet classroom = new Set(); //  å»ºç«‹æ•™å®¤é€™å€‹ set\r\nlet Aaron = { name: \"Aaron\", country: \"Taiwan\" };\r\nlet Jack = { name: \"Jack\", country: \"USA\" };\r\nlet Johnson = { name: \"Johnson\", country: \"Korea\" };\r\n\r\n// æŠŠç‰©ä»¶æ”¾å…¥ set ä¸­\r\nclassroom.add(Aaron);\r\nclassroom.add(Jack);\r\nclassroom.add(Johnson);\r\n\r\n// æª¢é©— set ä¸­æ˜¯å¦åŒ…å«æŸç‰©ä»¶\r\nif (classroom.has(Aaron)) console.log(\"Aaron is in the classroom\");\r\n\r\n//  æŠŠç‰©ä»¶ç§»é™¤ set ä¸­\r\nclassroom.delete(Jack);\r\nconsole.log(classroom.size); //    çœ‹çœ‹ set ä¸­æœ‰å¤šå°‘å…ƒç´ \r\nconsole.log(classroom);\r\n```\r\n\r\n#### é™£åˆ—èˆ‡é›†åˆé–“è½‰æ›\r\n\r\n```javascript\r\n// é›†åˆè½‰æˆé™£åˆ—\r\nlet setToArray = [...classroom]; // Array.from(classroom)\r\n\r\n// é™£åˆ—è½‰æˆé›†åˆ\r\nlet arrayToSet = new Set(setToArray);\r\n```\r\n\r\n#### éæ¿¾é™£åˆ—ä¸­é‡è¤‡çš„å…ƒç´ \r\n\r\nåˆ©ç”¨ set ä¸­å…ƒç´ ä¸æœƒé‡è¤‡çš„ç‰¹æ€§ï¼Œä¾†éæ¿¾æ‰é™£åˆ—ä¸­é‡è¤‡çš„å…ƒç´ ï¼Œç•™ä¸‹å”¯ä¸€\r\n\r\n```javascript\r\nvar mySet = new Set();\r\n\r\nmySet.add(1); // Set { 1 }\r\nmySet.add(5); // Set { 1, 5 }\r\nmySet.add(\"some text\"); // Set { 1, 5, 'some text' }\r\nvar o = { a: 1, b: 2 };\r\nmySet.add(o); // Set { 1, 5, 'some text', { a: 1, b: 2 } }\r\n\r\n// // o is referencing a different object so this is okay\r\nmySet.add({ a: 1, b: 2 }); // Set { 1, 5, 'some text', { a: 1, b: 2 }, { a: 1, b: 2 } }\r\n```\r\n\r\n### JSON è½‰æ›\r\n\r\n- json ç‚ºä¸€çµ„å­—ä¸²\r\n- åœ¨ä½¿ç”¨ {} å»ºç«‹ç‰©ä»¶æ™‚ï¼Œå±¬æ€§åç¨±çš„å¼•è™Ÿå¯ä»¥çœç•¥ï¼Œä½†åœ¨ json æ ¼å¼ä¸­ï¼Œå±¬æ€§åç¨±ä¸€å®šè¦æœ‰å¼•è™Ÿã€‚\r\n- è‹¥ç‰©ä»¶ä¸­çš„å€¼ç‚º function æ™‚ï¼Œç„¡æ³•é€é json å‚³éã€‚\r\n\r\n#### `JSON.stringify` å°‡ç‰©ä»¶è½‰ç‚º json å­—ä¸²\r\n\r\n#### `JSON.parse` å°‡ json å­—ä¸²è½‰æ›ç‚ºç‰©ä»¶\r\n\r\n## å±¬æ€§æè¿°å™¨\r\n\r\nç•¶å°æ–¼å±¬æ€§é™¤äº†æŒ‡å®š key/value ä»¥å¤–æœ‰æ›´é€²ä¸€æ­¥çš„è¦æ±‚æ™‚ï¼Œä¾‹å¦‚è¨­å®šå±¬æ€§ç‚º read-only ç”šè‡³æ˜¯ constant æ™‚ï¼Œå°±å¯ä»¥ä½¿ç”¨å±¬æ€§æè¿°å™¨ã€‚\r\n\r\nå±¬æ€§çš„ç‰¹å¾µï¼š\r\n\r\n- è³‡æ–™æè¿°å™¨\r\n  - writable\r\n  - configurable\r\n  - enumerable\r\n  - value\r\n- å­˜å–å™¨æè¿°å™¨\r\n  - get\r\n  - set\r\n\r\né€™äº›ç‰¹å¾µéƒ½æ˜¯å¯ä»¥é€éå±¬æ€§æè¿°å™¨å»è¨­å®šçš„ `Object.defineProperty` å’Œ `Object.definedProperties`\r\n\r\n### ä½¿ç”¨å­—é¢å€¼å®£å‘Šå±¬æ€§çš„ç‰¹å¾µ\r\n\r\n- writable, configurable, enumerable éƒ½æœƒæ˜¯ true\r\n- value ä»£è¡¨å±¬æ€§çš„å€¼\r\n- get, set å‰‡æ˜¯æ²’æœ‰è¨­å®š\r\n\r\n### å–å¾—å±¬æ€§ç‰¹å¾µ\r\n\r\nè‹¥æƒ³è¦ç­è§£ä¸€å€‹å±¬æ€§çš„ç‰¹å¾µæ™‚ï¼Œå¯ä»¥ä½¿ç”¨ `Object.getOwnPropertyDescriptor(object, 'propertyName')` é€™å€‹å…§å»ºå‡½å¼\r\n\r\n```javascript\r\nvar obj = { prop1: \"prop1\", prop2: \"prop2\" };\r\nObject.getOwnPropertyDescriptor(obj, \"prop1\", \"prop2\");\r\n// {\r\n//    value: \"prop1\",\r\n//    writable: true,\r\n//    enumerable: true,\r\n//    configurable: true\r\n// }\r\n```\r\n\r\nä½¿ç”¨å­—é¢å€¼å‰µå»ºçš„å±¬æ€§ï¼Œå…¶ `writable`, `enumerable`, `configurable` éƒ½æœƒæ˜¯ `true`ï¼Œè€Œ `value` å°±æœƒæ˜¯æ­¤å±¬æ€§çš„å€¼ `prop1`\r\n\r\nå°æ–¼ä¸€æ¬¡å¯Ÿçœ‹å¤šå€‹å±¬æ€§çš„ç‰¹å¾µï¼Œå¯ä»¥ä½¿ç”¨ `Object.getOwnPropertyDescriptors(object, 'propertyName1', 'propertyName2', ...)`\r\n\r\n```javascript\r\nvar obj = { prop1: \"prop1\", prop2: \"prop2\" };\r\nObject.getOwnPropertyDescriptors(obj, \"prop1\", \"prop2\");\r\n// {\r\n//   prop1: { value: \"prop1\", writable: true, enumerable: true, configurable: true },\r\n//   prop2: { value: \"prop2\", writable: true, enumerable: true, configurable: true }\r\n// }\r\n```\r\n\r\n### Object.defineProperty è¨­å®šå–®ä¸€å€‹å±¬æ€§æè¿°å™¨\r\n\r\n```javascript\r\nObject.defineProperty(object, \"propertyName\", descriptor);\r\n// descriptor æ˜¯ä¸€å€‹ objectï¼Œdescriptor è£¡é¢çš„å±¬æ€§å¯ä»¥æ˜¯å‰›å‰›æåˆ°çš„å±¬æ€§ç‰¹å¾µ\r\n```\r\n\r\nåœ¨ `obj` ä¸­æŒ‰éœ€æ±‚è¨­å®š â€µprop` é€™å€‹å±¬æ€§\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop\", {\r\n  writable: false,\r\n  configurable: true,\r\n  enumerable: true,\r\n  value: \"This is prop\",\r\n});\r\nconsole.log(obj.prop); // \"This is prop\"\r\n```\r\n\r\n### Object.defineProperties ä¸€æ¬¡è¨­å®šå¤šå€‹å±¬æ€§\r\n\r\n```javascript\r\nObject.definedProperties(object, properties);\r\n\r\n// properties ä¹Ÿæ˜¯ä¸€å€‹ objectï¼Œå…¶çµæ§‹å¦‚ä¸‹ï¼š\r\n// {\r\n//   'propertyName1': descriptor1,\r\n//   'propertyName2': descriptor1,\r\n//    ...\r\n//   'propertyNamen': descriptorn\r\n// }\r\n```\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperties(obj, {\r\n  prop1: {\r\n    writable: false,\r\n    configurable: true,\r\n    enumerable: true,\r\n    value: \"This is prop1\",\r\n  },\r\n  prop2: {\r\n    writable: false,\r\n    configurable: true,\r\n    enumerable: true,\r\n    value: \"This is prop2\",\r\n  },\r\n});\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\nconsole.log(obj.prop2); // \"This is prop2\"\r\n```\r\n\r\n### è³‡æ–™æè¿°å™¨\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [JavaScript - å±¬æ€§æè¿°å™¨](https://ithelp.ithome.com.tw/articles/10197826)\r\n\r\n#### writable å±¬æ€§æ˜¯å¦å¯ä»¥æ”¹å€¼\r\n\r\nå¯ä»¥å°‡å±¬æ€§è¨­å®šç‚º `read-only`\r\n\r\nç•¶ä½¿ç”¨å±¬æ€§çš„å­—é¢å€¼( `obj.prop` èˆ‡ `obj[prop]`)å®šç¾©å±¬æ€§æ™‚ï¼Œå±¬æ€§çš„ writable ç‚º trueï¼Œä¹Ÿå°±ä»£è¡¨å¯ä»¥å¯«å…¥ã€‚\r\n\r\nç›¸è¼ƒä¹‹ä¸‹ï¼Œç•¶ writable ç‚º false å°±ä»£è¡¨æ­¤å±¬æ€§ç‚º read-only\r\n\r\nåœ¨éåš´æ ¼æ¨¡å¼ä¸‹ï¼Œé‚„æ˜¯å¯ä»¥å° read-only çš„å±¬æ€§é€²è¡Œå¯«å€¼ï¼Œä½†æœƒæ²’æœ‰æ•ˆæœã€‚\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: \"This is prop1\",\r\n  configurable: true,\r\n  enumerable: true,\r\n  writable: false, // å°‡ writable è¨­ç‚º false\r\n});\r\nconsole.log(obj.prop1); // 'This is prop1'\r\nobj.prop1 = \"This is prop2\";\r\nconsole.log(obj.prop1); // 'This is prop1'\r\n```\r\n\r\n#### Configurable æ˜¯å¦å¯ç·¨è¼¯è©²å±¬æ€§\r\n\r\nå±¬æ€§æè¿°å™¨åœ¨ä¸€èˆ¬ç‹€æ³ä¸‹ï¼Œå¯ä»¥åˆ©ç”¨å±¬æ€§æè¿°å™¨é‡æ–°è¨­å®šï¼Œè‹¥æ²’æœ‰é‡æ–°è¨­å®šï¼Œæœƒä¿ç•™åŸæœ‰çš„ç‰¹å¾µã€‚\r\n\r\n```javascript\r\nvar obj = {};\r\nobj.prop1 = \"This is prop1\";\r\n\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: \"This is prop1\",\r\n  configurable: true,\r\n  enumerable: true,\r\n  writable: false,\r\n});\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\nobj.prop1 = \"This is prop2\";\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\n```\r\n\r\nä¸Šé¢å°‡ `writable` è¨­ç‚º `false`ï¼Œå› æ­¤ç„¡æ³•å° `obj.prop1` è³¦å€¼ã€‚\r\n\r\nä¸‹é¢å¯¦ä½œç¦æ­¢å±¬æ€§è¢«é‡æ–°è¨­å®šï¼š\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: \"This is prop1\",\r\n  configurable: false,\r\n  enumerable: true,\r\n  writable: true,\r\n});\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\n\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: \"This is prop1\",\r\n  configurable: true,\r\n  enumerable: true,\r\n  writable: false,\r\n}); // Uncaught TypeError: Cannot redefine property: prop1\r\n\r\ndelete obj.prop1; // false ç¦æ­¢å±¬æ€§è¢«åˆªé™¤\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\n```\r\n\r\nç•¶ `obj.prop1` å·²ç¶“è¢«è¨­å®šç‚º `configurable: false` æ™‚ï¼Œåˆè©¦è‘—é‡æ–°è¨­å®šå±¬æ€§æè¿°å™¨ä¸€æ¬¡æ™‚ï¼Œjavascript æœƒå ±éŒ¯ã€‚\r\n\r\nå³æ˜¯åœ¨éåš´æ ¼æ¨¡å¼ä¸‹ï¼Œéƒ½ä¸å…è¨±é‡æ–°è¨­å®š `configurable: false` çš„å±¬æ€§æè¿°ã€‚\r\n\r\nä½†æœ‰ä¸€å€‹ç‰¹ä¾‹ï¼šåœ¨ `configurable: false`ï¼Œ`writable` ç‰¹å¾µé‚„æ˜¯å¯ä»¥å¾ `true` æ”¹ç‚º `false`\r\n\r\n#### Enumerable å±¬æ€§æ˜¯å¦æœƒåœ¨ç‰©ä»¶çš„å±¬æ€§åˆ—èˆ‰æ™‚è¢«é¡¯ç¤º\r\n\r\nåœ¨ `for...in` çš„å±¬æ€§åˆ—èˆ‰å‹•ä½œä¸­ï¼Œåªæœ‰å¯åˆ—èˆ‰çš„å±¬æ€§æœƒè¢«è¿­ä»£\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: \"This is prop1\",\r\n  configurable: true,\r\n  enumerable: false,\r\n  writable: true,\r\n});\r\nobj.prop2 = \"This is prop2\";\r\n\r\nconsole.log(\"prop1\" in obj); // true\r\nconsole.log(\"prop2\" in obj); // true\r\nfor (var prop in obj) {\r\n  console.log(\"prop: \", prop); // \"prop: This is prop2\"\r\n}\r\n```\r\n\r\né›–ç„¶ `prop1` å’Œ `prop2` éƒ½å­˜åœ¨æ–¼ç‰©ä»¶ä¸­(åˆ©ç”¨ `in` æª¢æŸ¥)ï¼Œä½†å› ç‚º `obj.prop1` è¢«è¨­å®šç‚º `enumerable: false` å› æ­¤åœ¨ `for...in` åˆ—èˆ‰çš„å‹•ä½œä¸­ï¼Œä¸¦ä¸æœƒè¢«è¿­ä»£åˆ°ã€‚\r\n\r\nç›¸è¼ƒä¹‹ä¸‹ï¼Œæ™®é€šå±¬æ€§çš„ `obj.prop2` å¯ä»¥è¢«åˆ—èˆ‰ã€‚\r\n\r\n- `obj.propertyIsEnumerable` æª¢æŸ¥å±¬æ€§æ˜¯å¦å¯åˆ—èˆ‰ä¸”ç‚ºç‰©ä»¶è‡ªæœ‰çš„\r\n\r\n```javascript\r\nvar obj = { prop1: \"prop1\" };\r\nObject.defineProperty(obj, \"prop2\", {\r\n  value: \"prop2\",\r\n  enumerable: false,\r\n  writable: true,\r\n  configurable: true,\r\n});\r\nobj.propertyIsEnumerable(\"prop1\"); // true\r\nobj.propertyIsEnumerable(\"prop2\"); // false\r\n```\r\n\r\nä½¿ç”¨ Object.keys æœƒå°‡æ‰€æœ‰å¯åˆ—èˆ‰çš„å±¬æ€§åˆ—æˆä¸€å€‹é™£åˆ—\r\n\r\n```javascript\r\nvar obj = { prop1: \"prop1\" };\r\nObject.defineProperty(obj, \"prop2\", {\r\n  value: \"prop2\",\r\n  enumerable: false,\r\n  writable: true,\r\n  configurable: true,\r\n});\r\nObject.keys(obj); // [\"prop1\"]\r\n```\r\n\r\n#### value å±¬æ€§çš„å€¼\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: \"This is prop1\",\r\n  writable: true,\r\n  configurable: true,\r\n  enumerable: true,\r\n});\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\n```\r\n\r\nä¸Šé¢ç¨‹å¼ç¢¼ï¼Œç­‰åŒæ–¼ä¸‹é¢\r\n\r\n```javascript\r\nvar obj = {};\r\nobj.prop1 = \"This is prop1\";\r\nconsole.log(obj.prop1); // \"This is prop1\"\r\n```\r\n\r\n#### å±¬æ€§æè¿°å™¨å±¬æ–¼æ·ºå±¤è¨­å®š\r\n\r\næ·ºå±¤è¨­å®šï¼šåªæœ‰ç›®æ¨™ç‰©ä»¶çš„`è‡ªæœ‰å±¬æ€§`æ‰æœƒæ“æœ‰é€™å€‹ç‰¹å¾µï¼Œè‹¥å±¬æ€§åˆæŒ‡å‘äº†å¦ä¸€å€‹ç‰©ä»¶ï¼Œå‰‡å¦ä¸€å€‹ç‰©ä»¶å…§çš„å±¬æ€§ï¼Œå³ä¸ç‚ºè‡ªæœ‰å±¬æ€§ï¼Œäº¦ä¸æœƒæ“æœ‰é€™å€‹ç‰¹å¾µã€‚\r\n\r\n```javascript\r\nvar obj = {};\r\nvar innerObj = { innerProp: \"This is innerProp\" };\r\n\r\nObject.defineProperty(obj, \"prop1\", {\r\n  value: innerObj,\r\n  writable: false,\r\n  configuration: true,\r\n  enumerable: true,\r\n});\r\n\r\nobj.prop1 = {};\r\nconsole.log(obj.prop1); // { innerProp: \"This is innerProp\" }\r\n\r\nobj.prop1.innerProp = \"innerProp changed!\";\r\nconsole.log(obj.prop1); // { innerProp: \"innerProp changed!\" }\r\n```\r\n\r\nå°‡ `obj.prop1` è¨­ç‚º `writable: false`ï¼Œä¸¦è³¦å€¼ç‚º `innerObj`ï¼Œæ¥è‘—è©¦åœ–å°‡`{}` å¯«å…¥ `obj.prop1`ã€‚æ­¤æ™‚å¯«å…¥çš„å‹•ä½œä¸¦æ²’æœ‰æˆåŠŸï¼Œ`obj.prop1` é‚„æ˜¯æŒ‡å‘ `innerObj`\r\n\r\nä½†è‹¥è³¦å€¼çš„æ˜¯ `innerObj` çš„å±¬æ€§ `innerProp` çš„è©±ï¼Œæ˜¯å¯ä»¥å¯«å…¥çš„ï¼Œå› ç‚ºåªæœ‰ `obj` è‡ªèº«çš„å±¬æ€§ `prop1` è¢«æŒ‡å®šç‚º `writable: false`ï¼Œè€Œ `prop1` æŒ‡å‘çš„ `innerObj` å…§éƒ¨å±¬æ€§å‰‡ä¸å— `prop1` çš„ç‰¹å¾µç®¡è½„ï¼Œå› æ­¤è¤‡å¯« `innerProp` æ˜¯å¯è¡Œçš„\r\n\r\n### å­˜å–å™¨æè¿°å™¨\r\n\r\n`get` å’Œ `set` åˆ†åˆ¥ç‚ºå–å€¼å™¨èˆ‡è¨­å€¼å™¨ï¼Œå¯ä»¥å°‡ä»–æƒ³åƒæˆæ˜¯å‡½å¼ã€‚\r\nç•¶æœ‰è¨­å®šé€™å…©å€‹ç‰¹å¾µæ™‚ï¼Œä»–å€‘æœƒè¦†è“‹ javascript åŸæœ‰çš„å–å€¼èˆ‡è¨­å€¼è¡Œç‚º `[[GET]]` å’Œ `[[set]]`\r\n\r\n#### å®£å‘Šæ–¹å¼\r\n\r\n- ä½¿ç”¨ç‰©ä»¶å­—é¢å€¼æ™‚ç›´æ¥å®šç¾©\r\n\r\n  ```javascript\r\n  var obj = {\r\n    get propName() {\r\n      // ... do something\r\n      return \"some value\";\r\n    },\r\n    set propName(val) {\r\n      // ... do something\r\n    },\r\n  };\r\n  ```\r\n\r\n- åˆ©ç”¨å±¬æ€§æè¿°å™¨å®šç¾©\r\n\r\n  ```javascript\r\n  Object.defineProperty(obj, \"prop1\", {\r\n    // ...\r\n    get: function () {\r\n      // ... do something\r\n      return \"some value\";\r\n    },\r\n    set: function (val) {\r\n      // ... do something\r\n    },\r\n  });\r\n  ```\r\n\r\nä»¥ä¸Šçš„å®£å‘Šæ–¹å¼æ˜¯ä¸€æ¨£çš„\r\n\r\n#### Getter\r\n\r\néœ€è¦å›å‚³ä¸€å€‹å€¼ä¾†ç•¶ä½œå–å€¼çµæœ\r\n\r\n```javascript\r\nvar obj = {\r\n  get prop1() {\r\n    return \"This is prop1\";\r\n  },\r\n};\r\nconsole.log(obj.prop1); // 'This is prop1'\r\n\r\nobj.prop1 = \"Change value!\";\r\nconsole.log(obj.prop1); // 'This is prop1'\r\n```\r\n\r\nç„¡è«–æ€éº¼ä¿®æ”¹ prop1 çš„å€¼ï¼Œæœ€å¾Œå›å‚³çš„éƒ½æ˜¯å–å€¼å™¨å›å‚³çš„ \"This is prop1\"\r\n\r\n### setter\r\n\r\nåœ¨æ‹¿åˆ°å€¼ä¹‹å¾Œï¼Œå»åšæŒ‡å®šçš„å‹•ä½œ\r\n\r\n```javascript\r\nvar obj = {\r\n  set prop1(val) {\r\n    console.log(\"prop1 setted: \", val);\r\n  },\r\n};\r\nobj.prop1 = \"This is prop1\"; // \"prop1 setted:  This is prop1\"\r\n\r\nconsole.log(obj.prop1); // undefined\r\n```\r\n\r\nå°‡ \"this is prop1\" å‚³å…¥ prop1 ä¸­ï¼Œæ­¤æ™‚æœƒå°å‡º set è¦æ±‚çš„ logï¼Œç•¶è¦å–å‡º obj.prop1 çš„å€¼æ™‚ï¼Œå› ç‚ºæˆ‘å€‘ä¸¦æ²’æœ‰è¨­ç½® getï¼Œå› æ­¤å‡ºç¾ undefined\r\n\r\n### è³‡æ–™è™•ç†å™¨èˆ‡å­˜å–å™¨è™•ç†å™¨\r\n\r\n- è³‡æ–™æè¿°å™¨ï¼šä»£è¡¨å±¬æ€§æ˜¯æœ‰å€¼ï¼Œæœƒæœ‰ä»¥ä¸‹å…©å€‹ç‰¹å¾µ\r\n  - value\r\n  - writable\r\n- å­˜å–å™¨æè¿°å™¨ï¼šå±¬æ€§çš„å€¼æ˜¯ç”±å–å€¼å™¨èˆ‡è¨­å€¼å™¨æ‰€æ±ºå®šï¼Œæœƒæœ‰ä»¥ä¸‹å…©å€‹ç‰¹å¾µï¼š\r\n  - get\r\n  - set\r\n\r\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè³‡æ–™æè¿°å™¨èˆ‡å­˜å–å™¨æè¿°å™¨ä¸ç›¸å®¹ã€‚\r\n\r\nè‹¥ä»Šå¤©ç‰©ä»¶ä¸­çš„å±¬æ€§å·²ç¶“è¨­å®šäº† get å’Œ setï¼Œä¹Ÿå°±ä»£è¡¨å·²ç¶“å®šç¾©å–å€¼å’Œè¨­å€¼çš„è¡Œç‚ºï¼Œæ­¤æ™‚å†é¡å¤–é€²è¡Œå±¬æ€§å€¼(value)èˆ‡å”¯ç¨(writable)çš„è¨­å®šï¼Œç”¢ç”Ÿè¡Œç‚ºè¡çª\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop1\", {\r\n  get: function () {\r\n    return \"This is prop1\";\r\n  },\r\n  value: \"test\",\r\n  writable: true,\r\n}); // Uncaught TypeError: Invalid property descriptor. Cannot both specify accessors and a value or writable attribute, #<Object>\r\n```\r\n\r\n### å–å€¼å™¨èˆ‡è¨­å€¼å™¨çš„æ‡‰ç”¨\r\n\r\n```javascript\r\nvar obj = {};\r\nObject.defineProperty(obj, \"prop1\", {\r\n  set: function (val) {\r\n    this._prop1_ = val * 2;\r\n  },\r\n  get: function () {\r\n    return this._prop1_;\r\n  },\r\n  configurable: true,\r\n  enumerable: true,\r\n});\r\n\r\nobj.prop1 = 100;\r\nconsole.log(obj.prop1); // 200\r\n```\r\n\r\nä¸Šé¢æˆ‘å€‘å®£å‘Šäº†ä¸€å€‹è®Šæ•¸ obj ä¸¦åŠ å…¥ä¸€å€‹å±¬æ€§ prop1ï¼Œä¸¦ç‚ºé€™å€‹å±¬æ€§åŒæ™‚åŠ å…¥ get å’Œ setï¼Œé€™å…©å€‹å‡½å¼çš„å…±é€šé»ï¼šéƒ½å° obj.prop1 é€²è¡Œå­˜å–ã€‚\r\n\r\n## é¡å¤–è£œå……\r\n\r\n### random å…¬å¼\r\n\r\n```javascript\r\nfunction getRandom(start, end) {\r\n  return Math.floor(Math.random() * (end - start + 1)) + start;\r\n}\r\nvar r = getRandom(0, 255);\r\nvar g = getRandom(0, 255);\r\nvar b = getRandom(0, 255);\r\n```\r\n","date":"2023-08-17T02:56:23.921Z","matchingLines":["## åŸºæœ¬æ¦‚å¿µ\r","## å­˜å–è³‡æ–™çš„æ–¹æ³•\r","## é‹ç®—å¼èˆ‡é‹ç®—å­\r","## æµç¨‹åˆ¤æ–·èˆ‡è¿´åœˆ\r","## å‡½å¼ function\r","## æ–¹æ³•\r","## å±¬æ€§æè¿°å™¨\r","## é¡å¤–è£œå……\r"],"tocContent":"- [Javascript å­¸ç¿’ç­†è¨˜](#javascript-å­¸ç¿’ç­†è¨˜)\r\n  - [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)\r\n    - [å®£å‘Šèˆ‡å‘½å](#å®£å‘Šèˆ‡å‘½å)\r\n      - [let, const ç‰¹æ€§](#let-const-ç‰¹æ€§)\r\n      - [å¦‚ä½•åˆ†è¾¨ä½¿ç”¨ let å’Œ const çš„æ™‚æ©Ÿï¼Ÿ](#å¦‚ä½•åˆ†è¾¨ä½¿ç”¨-let-å’Œ-const-çš„æ™‚æ©Ÿ)\r\n    - [let å’Œ const è§£æ±ºäº†ä»€éº¼å•é¡Œï¼Ÿ](#let-å’Œ-const-è§£æ±ºäº†ä»€éº¼å•é¡Œ)\r\n    - [javascript åƒæ•¸å‚³éæ–¹å¼](#javascript-åƒæ•¸å‚³éæ–¹å¼)\r\n  - [å­˜å–è³‡æ–™çš„æ–¹æ³•](#å­˜å–è³‡æ–™çš„æ–¹æ³•)\r\n    - [åŸºæœ¬å‹åˆ¥](#åŸºæœ¬å‹åˆ¥)\r\n    - [ç‰©ä»¶å‹åˆ¥](#ç‰©ä»¶å‹åˆ¥)\r\n    - [æŠŠåŸºæœ¬å‹åˆ¥ç•¶ä½œåƒæ•¸å‚³å…¥å‡½å¼](#æŠŠåŸºæœ¬å‹åˆ¥ç•¶ä½œåƒæ•¸å‚³å…¥å‡½å¼)\r\n    - [Function](#function)\r\n      - [First-class Object](#first-class-object)\r\n      - [å®£å‘Š function](#å®£å‘Š-function)\r\n      - [å‘¼å« function](#å‘¼å«-function)\r\n      - [IIFF](#iiff)\r\n      - [Scope ä½œç”¨åŸŸ](#scope-ä½œç”¨åŸŸ)\r\n        - [Lexical Scope èªå½™ç¯„ç–‡](#lexical-scope-èªå½™ç¯„ç–‡)\r\n        - [åƒæ•¸ä¹Ÿå±¬æ–¼å…§å±¤ scope](#åƒæ•¸ä¹Ÿå±¬æ–¼å…§å±¤-scope)\r\n        - [å·¢ç‹€ scope](#å·¢ç‹€-scope)\r\n  - [é‹ç®—å¼èˆ‡é‹ç®—å­](#é‹ç®—å¼èˆ‡é‹ç®—å­)\r\n    - [åš´è¬¹æ¨¡å¼](#åš´è¬¹æ¨¡å¼)\r\n    - [è³¦å€¼é‹ç®—å­](#è³¦å€¼é‹ç®—å­)\r\n    - [æ¯”è¼ƒé‹ç®—å­](#æ¯”è¼ƒé‹ç®—å­)\r\n    - [ç®—æ•¸é‹ç®—å­](#ç®—æ•¸é‹ç®—å­)\r\n    - [é‚è¼¯é‹ç®—å­](#é‚è¼¯é‹ç®—å­)\r\n    - [å…¶é¤˜é‹ç®—å­èˆ‡å±•é–‹é‹ç®—å­](#å…¶é¤˜é‹ç®—å­èˆ‡å±•é–‹é‹ç®—å­)\r\n    - [ä¸‰å…ƒé‹ç®—å¼](#ä¸‰å…ƒé‹ç®—å¼)\r\n    - [if else](#if-else)\r\n  - [æµç¨‹åˆ¤æ–·èˆ‡è¿´åœˆ](#æµç¨‹åˆ¤æ–·èˆ‡è¿´åœˆ)\r\n    - [switch](#switch)\r\n    - [while è¿´åœˆ](#while-è¿´åœˆ)\r\n    - [for è¿´åœˆ](#for-è¿´åœˆ)\r\n    - [for of](#for-of)\r\n    - [for in](#for-in)\r\n  - [å‡½å¼ function](#å‡½å¼-function)\r\n    - [å®šç¾©å‡½å¼](#å®šç¾©å‡½å¼)\r\n    - [ç®­é ­å‡½å¼](#ç®­é ­å‡½å¼)\r\n    - [Scope è®Šæ•¸çš„æœ‰æ•ˆç¯„åœ](#scope-è®Šæ•¸çš„æœ‰æ•ˆç¯„åœ)\r\n    - [Hoisting æå‡](#hoisting-æå‡)\r\n      - [è®Šæ•¸æå‡](#è®Šæ•¸æå‡)\r\n      - [å‡½å¼æå‡](#å‡½å¼æå‡)\r\n      - [ç‚ºä½•æœƒæœ‰ Hoisting çš„ç¾è±¡ï¼Ÿ](#ç‚ºä½•æœƒæœ‰-hoisting-çš„ç¾è±¡)\r\n      - [æœ€ä½³å¯¦è¸](#æœ€ä½³å¯¦è¸)\r\n    - [å…¨åŸŸè®Šæ•¸](#å…¨åŸŸè®Šæ•¸)\r\n  - [æ–¹æ³•](#æ–¹æ³•)\r\n    - [å–å¾— base\\_url](#å–å¾—-base_url)\r\n    - [document](#document)\r\n      - [`.querySelector` å…ƒç´ é¸æ“‡å™¨](#queryselector-å…ƒç´ é¸æ“‡å™¨)\r\n      - [`.querySelectorAll` é¸å–æ‰€æœ‰æŒ‡å®šå…ƒç´ ](#queryselectorall-é¸å–æ‰€æœ‰æŒ‡å®šå…ƒç´ )\r\n    - [prototype.forEach](#prototypeforeach)\r\n    - [prototype.map](#prototypemap)\r\n    - [prototype.push](#prototypepush)\r\n    - [`Math.round` å››æ¨äº”å…¥](#mathround-å››æ¨äº”å…¥)\r\n    - [`Array.prototype.filter`](#arrayprototypefilter)\r\n    - [ç‰©ä»¶å–å€¼ã€æ–°å¢èˆ‡åˆªé™¤](#ç‰©ä»¶å–å€¼æ–°å¢èˆ‡åˆªé™¤)\r\n      - [ç‰©ä»¶å–å€¼](#ç‰©ä»¶å–å€¼)\r\n      - [ç‰©ä»¶è½‰ç‚ºé™£åˆ—](#ç‰©ä»¶è½‰ç‚ºé™£åˆ—)\r\n      - [æ–°å¢ç‰©ä»¶å±¬æ€§](#æ–°å¢ç‰©ä»¶å±¬æ€§)\r\n      - [åˆªé™¤ç‰©ä»¶å±¬æ€§](#åˆªé™¤ç‰©ä»¶å±¬æ€§)\r\n    - [SET é›†åˆ](#set-é›†åˆ)\r\n      - [åŸºæœ¬ä½¿ç”¨](#åŸºæœ¬ä½¿ç”¨)\r\n      - [é™£åˆ—èˆ‡é›†åˆé–“è½‰æ›](#é™£åˆ—èˆ‡é›†åˆé–“è½‰æ›)\r\n      - [éæ¿¾é™£åˆ—ä¸­é‡è¤‡çš„å…ƒç´ ](#éæ¿¾é™£åˆ—ä¸­é‡è¤‡çš„å…ƒç´ )\r\n    - [JSON è½‰æ›](#json-è½‰æ›)\r\n      - [`JSON.stringify` å°‡ç‰©ä»¶è½‰ç‚º json å­—ä¸²](#jsonstringify-å°‡ç‰©ä»¶è½‰ç‚º-json-å­—ä¸²)\r\n      - [`JSON.parse` å°‡ json å­—ä¸²è½‰æ›ç‚ºç‰©ä»¶](#jsonparse-å°‡-json-å­—ä¸²è½‰æ›ç‚ºç‰©ä»¶)\r\n  - [å±¬æ€§æè¿°å™¨](#å±¬æ€§æè¿°å™¨)\r\n    - [ä½¿ç”¨å­—é¢å€¼å®£å‘Šå±¬æ€§çš„ç‰¹å¾µ](#ä½¿ç”¨å­—é¢å€¼å®£å‘Šå±¬æ€§çš„ç‰¹å¾µ)\r\n    - [å–å¾—å±¬æ€§ç‰¹å¾µ](#å–å¾—å±¬æ€§ç‰¹å¾µ)\r\n    - [Object.defineProperty è¨­å®šå–®ä¸€å€‹å±¬æ€§æè¿°å™¨](#objectdefineproperty-è¨­å®šå–®ä¸€å€‹å±¬æ€§æè¿°å™¨)\r\n    - [Object.defineProperties ä¸€æ¬¡è¨­å®šå¤šå€‹å±¬æ€§](#objectdefineproperties-ä¸€æ¬¡è¨­å®šå¤šå€‹å±¬æ€§)\r\n    - [è³‡æ–™æè¿°å™¨](#è³‡æ–™æè¿°å™¨)\r\n      - [writable å±¬æ€§æ˜¯å¦å¯ä»¥æ”¹å€¼](#writable-å±¬æ€§æ˜¯å¦å¯ä»¥æ”¹å€¼)\r\n      - [Configurable æ˜¯å¦å¯ç·¨è¼¯è©²å±¬æ€§](#configurable-æ˜¯å¦å¯ç·¨è¼¯è©²å±¬æ€§)\r\n      - [Enumerable å±¬æ€§æ˜¯å¦æœƒåœ¨ç‰©ä»¶çš„å±¬æ€§åˆ—èˆ‰æ™‚è¢«é¡¯ç¤º](#enumerable-å±¬æ€§æ˜¯å¦æœƒåœ¨ç‰©ä»¶çš„å±¬æ€§åˆ—èˆ‰æ™‚è¢«é¡¯ç¤º)\r\n      - [value å±¬æ€§çš„å€¼](#value-å±¬æ€§çš„å€¼)\r\n      - [å±¬æ€§æè¿°å™¨å±¬æ–¼æ·ºå±¤è¨­å®š](#å±¬æ€§æè¿°å™¨å±¬æ–¼æ·ºå±¤è¨­å®š)\r\n    - [å­˜å–å™¨æè¿°å™¨](#å­˜å–å™¨æè¿°å™¨)\r\n      - [å®£å‘Šæ–¹å¼](#å®£å‘Šæ–¹å¼)\r\n      - [Getter](#getter)\r\n    - [setter](#setter)\r\n    - [è³‡æ–™è™•ç†å™¨èˆ‡å­˜å–å™¨è™•ç†å™¨](#è³‡æ–™è™•ç†å™¨èˆ‡å­˜å–å™¨è™•ç†å™¨)\r\n    - [å–å€¼å™¨èˆ‡è¨­å€¼å™¨çš„æ‡‰ç”¨](#å–å€¼å™¨èˆ‡è¨­å€¼å™¨çš„æ‡‰ç”¨)\r\n  - [é¡å¤–è£œå……](#é¡å¤–è£œå……)\r\n    - [random å…¬å¼](#random-å…¬å¼)"},{"name":"Laravel Collections & Helper.md","content":"# Laravel Collections & Helper\r\n\r\n>\r\n\r\n## Collections é›†åˆ\r\n\r\n> åƒè€ƒè³‡æ–™\r\n>\r\n> [Laravel â€” Collection ç”¨é€”å¤§è§£æ](https://medium.com/johnliu-%E7%9A%84%E8%BB%9F%E9%AB%94%E5%B7%A5%E7%A8%8B%E6%80%9D%E7%B6%AD/laravel-collection-%E7%94%A8%E9%80%94%E5%A4%A7%E8%A7%A3%E6%9E%90-1e2dbc6e2c93)\r\n\r\n### é‹ç®—é¡\r\n\r\næ–¹ä¾¿é€²è¡Œæ•¸å­¸é‹ç®—ï¼Œæˆ–æ˜¯åˆ¤æ–·æ˜¯å¦å«æœ‰ç‰¹å®šå€¼ï¼Œä¹Ÿèƒ½æ¯”è¼ƒå…©å€‹ collection ä¹‹é–“çš„ä¸åŒ\r\n\r\n#### Integer\r\n\r\n##### `count` è¨ˆæ•¸\r\n\r\n```php\r\n$collection = collect([1, 2, 3, 4]);\r\n\r\n$collection->count();\r\n\r\n// 4\r\n```\r\n\r\n#### Boolean\r\n\r\n##### `contains` åˆ¤æ–·é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„æ¢ä»¶\r\n\r\nå‚³å…¥å€¼\r\n\r\n```php\r\n$collection = collect(['name' => 'Desk', 'price' => 100]);\r\n\r\n$collection->contains('Desk');\r\n\r\n// true\r\n\r\n$collection->contains('New York');\r\n\r\n// false\r\n```\r\n\r\nå‚³å…¥é™£åˆ—\r\n\r\n```php\r\n$collection = collect([\r\n    ['product' => 'Desk', 'price' => 200],\r\n    ['product' => 'Chair', 'price' => 100],\r\n]);\r\n\r\n$collection->contains('product', 'Bookcase');\r\n\r\n// false\r\n```\r\n\r\nå‚³éåŒ¿åå‡½æ•¸\r\n\r\n```php\r\n$collection = collect([1, 2, 3, 4, 5]);\r\n\r\n$collection->contains(function ($value, $key) {\r\n    return $value > 5;\r\n});\r\n\r\n// false\r\n```\r\n\r\n- `containsStrict()` æ–¹æ³•å’Œ `contains()` é¡ä¼¼ï¼Œä½†ä»–åœ¨æ¯”è¼ƒæ™‚æ›´åš´æ ¼ã€‚\r\n\r\n#### Array\r\n\r\n##### `diff` æ¯”è¼ƒé›†åˆæˆ–é™£åˆ—çš„å€¼\r\n\r\nè¿”å›ä¸å­˜åœ¨æ­¤æ–¹æ³•åƒæ•¸ä¸­çš„å€¼\r\n\r\n```php\r\n$diff = collect([1, 2, 3, 4, 5])->diff([2, 4, 6, 8]);\r\n$diff->all();\r\n\r\n// è¿”å›[1, 3, 5]ï¼ŒåŸé›†åˆå…§èˆ‡diffæ–¹æ³•ä¸­ç›¸åŒçš„æ•¸å€¼è¢«å‰”é™¤ã€‚\r\n```\r\n\r\n### è¿­ä»£é¡\r\n\r\n#### `filter` å‚³å…¥åŒ¿åå‡½å¼ç¯©é¸é›†åˆ\r\n\r\nè¿”å›é€šéç¯©é¸çš„é …ç›®\r\n\r\n```php\r\n$filtered = collect([1, 2, 3, 4])->filter(function (item) {\r\n    return $item > 2\r\n});\r\n\r\n$filtered->all();\r\n\r\n// [3, 4]\r\n```\r\n\r\n#### `map` éæ­·é›†åˆ\r\n\r\nå°‡é›†åˆçš„å€¼é€éå‚³å…¥çš„åŒ¿åå‡½æ•¸ä¿®æ”¹ä¸¦è¿”å›ï¼Œç”Ÿæˆä¿®æ”¹éçš„æ–°é›†åˆ\r\n\r\n```php\r\n$collection = collect([1, 2, 3, 4, 5]);\r\n\r\n$multiplied = $collection->map(function ($item, $key) {\r\n    return $item * 2;\r\n});\r\n\r\n$multiplied->all();\r\n\r\n// [2, 4, 6, 8, 10]\r\n```\r\n\r\n### åˆ†çµ„é¡\r\n\r\n#### `countBy` è¨ˆç®—æŒ‡å®šæ•¸å€¼\r\n\r\n```php\r\n$collection = collect([1, 2, 2, 2, 3]);\r\n\r\n$counted = $collection->countBy();\r\n\r\n$counted->all();\r\n\r\n// [1 => 1, 2 => 3, 3 => 1]\r\n```\r\n\r\nå¯ä»¥å‚³å…¥åŒ¿åå‡½æ•¸ä¾†è‡ªè¨‚è¦è¨ˆæ•¸çš„å€¼\r\n\r\n```php\r\n$collection = collect(['alice@gmail.com', 'bob@yahoo.com', 'carlos@gmail.com']);\r\n\r\n$counted = $collection->countBy(function ($email) {\r\n    return substr(strrchr($email, \"@\"), 1);\r\n});\r\n\r\n$counted->all();\r\n\r\n// ['gmail.com' => 2, 'yahoo.com' => 1]\r\n```\r\n\r\n### è®Šå½¢é¡\r\n\r\nå°‡ collection æ”¹è®Šè³‡æ–™çµæ§‹\r\n\r\n#### ç¶­åº¦èˆ‡é †åº\r\n\r\n##### `collapse` , `flatten`\r\n\r\nå…©è€…éƒ½æ˜¯å°‡ç¶­åº¦å¾å¤šç¶­é™ç‚ºä¸€ç¶­ï¼Œcollapse è¼ƒé©ç”¨ Array å½¢å¼çš„è³‡æ–™ï¼Œflatten æ›´é©åˆæœ‰ Key-Value å½¢å¼çš„è³‡æ–™ã€‚\r\nå…©å€‹å‡½å¼çš„ç”¨é€”ï¼Œéƒ½æ˜¯å°‡ä¾‹å¦‚ [[1,2,3], [4,5,6]] è½‰è®Šæˆ [1,2,3,4,5,6]\r\n\r\n##### `sort` å°‡é™£åˆ—é‡æ–°æ’åˆ—\r\n\r\n```php\r\nuse Illuminate\\Support\\Arr;\r\n\r\n$array = ['Desk', 'Table', 'Chair'];\r\n\r\n$sorted = Arr::sort($array);\r\n\r\n// ['Chair', 'Desk', 'Table']\r\n```\r\n\r\næ ¹æ“šå‚³å…¥åŒ¿åå‡½æ•¸è¿”å›çš„çµæœï¼Œå°é™£åˆ—é€²è¡Œæ’åº\r\n\r\n```php\r\nuse Illuminate\\Support\\Arr;\r\n\r\n$array = [\r\n    ['name' => 'Desk'],\r\n    ['name' => 'Table'],\r\n    ['name' => 'Chair'],\r\n];\r\n\r\n$sorted = array_values(Arr::sort($array, function ($value) {\r\n    return $value['name'];\r\n}));\r\n\r\n/*\r\n    [\r\n        ['name' => 'Chair'],\r\n        ['name' => 'Desk'],\r\n        ['name' => 'Table'],\r\n    ]\r\n*/\r\n```\r\n\r\nåˆ©ç”¨ key å€¼æ›¿é™£åˆ—æ’åº\r\n\r\n```php\r\n$list = [\r\n  5 => 1\r\n  4 => 2\r\n  2 => 4\r\n  1 => 5\r\n  6 => 6\r\n];\r\n\r\nArr::sort($list, function ($value, $key) {\r\n    return $key;\r\n})\r\n```\r\n\r\nè¼¸å‡º\r\n\r\n```txt\r\narray:5 [\r\n  1 => 5\r\n  2 => 4\r\n  4 => 2\r\n  5 => 1\r\n  6 => 6\r\n]\r\n```\r\n\r\n#### çµ„åˆ\r\n\r\n##### `combine` å°‡ä¸€å€‹é›†åˆçš„å€¼ä½œç‚º keyï¼Œç”¨ä¾†å’Œå¦ä¸€é™£åˆ—æˆ–é›†åˆçš„å€¼é€²è¡Œçµ„åˆ\r\n\r\n```php\r\n$collection = collect(['name', 'age']);\r\n\r\n$combined = $collection->combine(['George', 29]);\r\n\r\n$combined->all();\r\n\r\n// ['name' => 'George', 'age' => 29]\r\n```\r\n\r\n##### `merge` åˆä½µæŒ‡å®šçš„é™£åˆ—æˆ–æ˜¯é›†åˆåˆ°åŸé›†åˆ\r\n\r\nè‹¥å‚³å…¥çš„é›†åˆä¸­çš„ key å€¼èˆ‡åŸé›†åˆä¸­çš„ key å€¼ç›¸åŒï¼Œå‰‡å‚³å…¥çš„å€¼å°‡æœƒå°‡åŸé›†åˆä¸­çš„å€¼è¦†è“‹ã€‚\r\n\r\n```php\r\n$collection = collect(['product_id' => 1, 'price' => 100]);\r\n\r\n$merged = $collection->merge(['price' => 200, 'discount' => false]);\r\n\r\n$merged->all();\r\n\r\n// ['product_id' => 1, 'price' => 200, 'discount' => false]\r\n```\r\n\r\nè‹¥å‚³å…¥çš„é›†åˆé …ç‚ºæ•¸å­—ï¼Œå‰‡é€™äº›å€¼å°‡æœƒè¿½åŠ åœ¨é›†åˆçš„æœ€å¾Œé¢ã€‚\r\n\r\n```php\r\n$collection = collect(['Desk', 'Chair']);\r\n\r\n$merged = $collection->merge(['Bookcase', 'Door']);\r\n\r\n$merged->all();\r\n\r\n// ['Desk', 'Chair', 'Bookcase', 'Door']\r\n```\r\n\r\n##### `concat` å°‡å‚³å…¥çš„å€¼è¿½åŠ åˆ°é›†åˆçš„æœ«ç«¯\r\n\r\n```php\r\n$collection = collect(['John Doe']);\r\n\r\n$concatenated = $collection->concat(['Jane Doe'])->concat(['name' => 'Johnny Doe']);\r\n\r\n$concatenated->all();\r\n\r\n// ['John Doe', 'Jane Doe', 'Johnny Doe']\r\n```\r\n\r\n##### `push` æŠŠæŒ‡å®šçš„å€¼åŠ å…¥é›†åˆçš„æœ«ç«¯\r\n\r\n```php\r\n$collection = collect([1, 2, 3, 4]);\r\n$collection->push(5);\r\n$collection->all();\r\n\r\n// [1, 2, 3, 4, 5]\r\n```\r\n\r\n##### `prepend` å°‡æŒ‡å®šçš„å€¼åŠ å…¥é›†åˆçš„é–‹é ­\r\n\r\n```php\r\n$collection = collect([1, 2, 3, 4, 5]);\r\n\r\n$collection->prepend(0);\r\n\r\n$collection->all();\r\n\r\n// [0, 1, 2, 3, 4, 5]\r\n```\r\n\r\n#### æ“·å–\r\n\r\n##### `except` æ“·å–é™¤äº† a, b ä»¥å¤–çš„\r\n\r\n##### `only` åªæ“·å– a, b\r\n\r\n##### `get` å–å¾—ç‰¹å®š key çš„å€¼\r\n\r\n##### `forget` ç›´æ¥åˆªé™¤æŒ‡å®š key å€¼å°æ‡‰çš„ value\r\n\r\n##### `pull` å’Œ `get` é›·åŒï¼Œæœƒä¿®æ”¹åŸæœ¬çš„ collection\r\n\r\n##### `pluck` å–å¾—é›†åˆä¸­æ‰€æœ‰é™£åˆ—çš„ key å€¼\r\n\r\n```php\r\n$collection = collect([\r\n    ['product_id' => 'prod-100', 'name' => 'Desk'],\r\n    ['product_id' => 'prod-200', 'name' => 'Chair'],\r\n])\r\n\r\n$picked = $collection->pluck('name');\r\n\r\n$pluck->all();\r\n\r\n// ['Desk', 'Chair']\r\n```\r\n\r\n##### `intersect` å¾åŸé›†åˆä¸­ç§»é™¤åœ¨æŒ‡å®šé™£åˆ—ä¸­æˆ–é›†åˆä¸­ä¸å­˜åœ¨çš„å€¼\r\n\r\n```php\r\n$collection = collect(['a', 'b', 'c']);\r\n$intersect = $collection->intersect(['a', 'c', 'e', 'f']);\r\n$intersect->all(); // [0 => 'a', 2 => 'c']\r\n```\r\n\r\n##### `keys`, `values` å–å‡ºé›†åˆä¸­çš„ key æˆ– value\r\n\r\n#### è½‰å‹\r\n\r\n##### `toArray`, `toJson` æä¾›è½‰æˆé™£åˆ—æˆ–æ˜¯ json ç­‰å¸¸ç”¨æ ¼å¼\r\n\r\n### Where\r\n\r\ncollection å’Œ laravel æœ¬èº«çš„ ORM ç³»çµ± Eloquent å¯†ä¸å¯åˆ†ï¼Œå› æ­¤ä¹Ÿé…åˆæ”¯æ´è¨±å¤š where èªæ³•ï¼Œä½¿ç”¨æ–¹æ³•é¡ä¼¼ MySQLã€‚\r\n\r\n#### 'first' è¿”å›é™£åˆ—ä¸­æŒ‡ä»¤æ¢ä»¶çš„ç¬¬ä¸€å…ƒç´ \r\n\r\n```php\r\ncollect([1, 2, 3, 4, 5, 6])->first(function ($value, $key) {\r\n    return $value > 2;\r\n});\r\n\r\n// 3\r\n```\r\n\r\nè‹¥ `first` æ–¹æ³•ä¸å‚³å…¥åƒæ•¸ï¼Œå‰‡è¿”å›é›†åˆä¸­ç¬¬ä¸€å…ƒç´ ã€‚è‹¥é›†åˆç‚ºç©ºï¼Œå‰‡è¿”å› `null`\r\n\r\n```php\r\ncollect([1, 2])->first();\r\n\r\n// 1\r\n```\r\n\r\n### è»Ÿé«”æ“ä½œé¡\r\n\r\n#### `collect` è¤‡è£½ä¸€å€‹æ–°çš„ collectionï¼Œè¨˜æ†¶é«”ä½ç½®ä¸è¡çª\r\n\r\n## Helper è¼”åŠ©å‡½æ•¸\r\n\r\n### `Arr::add` å°‡æ•¸å€¼åŠ å…¥é™£åˆ—\r\n\r\n```php\r\nuse Illuminate\\Support\\Arr;\r\n\r\n$array = Arr::add(['name' => 'Desk'], 'price', 100);\r\n\r\n// ['name' => 'Desk', 'price' => 100]\r\n\r\n$array = Arr::add(['name' => 'Desk', 'price' => null], 'price', 100);\r\n\r\n// ['name' => 'Desk', 'price' => 100]\r\n\r\n```\r\n\r\n### `after` è¿”å›å‚³å…¥çš„å­—ä¸²çš„å€¼å¾Œé¢æ‰€æœ‰çš„å…§å®¹\r\n\r\nå¦‚æœå‚³å…¥çš„å€¼ä¸å­˜åœ¨ï¼Œå°‡è¿”å›æ•´å€‹å­—ä¸²\r\n\r\n```php\r\nuse Illuminate\\Support\\Str;\r\n\r\n$slice = Str::of('This is my name')->after('This is');\r\n\r\n// ' my name'\r\n```\r\n","date":"2023-08-17T02:56:23.921Z","matchingLines":["## Collections é›†åˆ\r","## Helper è¼”åŠ©å‡½æ•¸\r"],"tocContent":"- [Laravel Collections \\& Helper](#laravel-collections--helper)\r\n  - [Collections é›†åˆ](#collections-é›†åˆ)\r\n    - [é‹ç®—é¡](#é‹ç®—é¡)\r\n      - [Integer](#integer)\r\n        - [`count` è¨ˆæ•¸](#count-è¨ˆæ•¸)\r\n      - [Boolean](#boolean)\r\n        - [`contains` åˆ¤æ–·é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„æ¢ä»¶](#contains-åˆ¤æ–·é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„æ¢ä»¶)\r\n      - [Array](#array)\r\n        - [`diff` æ¯”è¼ƒé›†åˆæˆ–é™£åˆ—çš„å€¼](#diff-æ¯”è¼ƒé›†åˆæˆ–é™£åˆ—çš„å€¼)\r\n    - [è¿­ä»£é¡](#è¿­ä»£é¡)\r\n      - [`filter` å‚³å…¥åŒ¿åå‡½å¼ç¯©é¸é›†åˆ](#filter-å‚³å…¥åŒ¿åå‡½å¼ç¯©é¸é›†åˆ)\r\n      - [`map` éæ­·é›†åˆ](#map-éæ­·é›†åˆ)\r\n    - [åˆ†çµ„é¡](#åˆ†çµ„é¡)\r\n      - [`countBy` è¨ˆç®—æŒ‡å®šæ•¸å€¼](#countby-è¨ˆç®—æŒ‡å®šæ•¸å€¼)\r\n    - [è®Šå½¢é¡](#è®Šå½¢é¡)\r\n      - [ç¶­åº¦èˆ‡é †åº](#ç¶­åº¦èˆ‡é †åº)\r\n        - [`collapse` , `flatten`](#collapse--flatten)\r\n        - [`sort` å°‡é™£åˆ—é‡æ–°æ’åˆ—](#sort-å°‡é™£åˆ—é‡æ–°æ’åˆ—)\r\n      - [çµ„åˆ](#çµ„åˆ)\r\n        - [`combine` å°‡ä¸€å€‹é›†åˆçš„å€¼ä½œç‚º keyï¼Œç”¨ä¾†å’Œå¦ä¸€é™£åˆ—æˆ–é›†åˆçš„å€¼é€²è¡Œçµ„åˆ](#combine-å°‡ä¸€å€‹é›†åˆçš„å€¼ä½œç‚º-keyç”¨ä¾†å’Œå¦ä¸€é™£åˆ—æˆ–é›†åˆçš„å€¼é€²è¡Œçµ„åˆ)\r\n        - [`merge` åˆä½µæŒ‡å®šçš„é™£åˆ—æˆ–æ˜¯é›†åˆåˆ°åŸé›†åˆ](#merge-åˆä½µæŒ‡å®šçš„é™£åˆ—æˆ–æ˜¯é›†åˆåˆ°åŸé›†åˆ)\r\n        - [`concat` å°‡å‚³å…¥çš„å€¼è¿½åŠ åˆ°é›†åˆçš„æœ«ç«¯](#concat-å°‡å‚³å…¥çš„å€¼è¿½åŠ åˆ°é›†åˆçš„æœ«ç«¯)\r\n        - [`push` æŠŠæŒ‡å®šçš„å€¼åŠ å…¥é›†åˆçš„æœ«ç«¯](#push-æŠŠæŒ‡å®šçš„å€¼åŠ å…¥é›†åˆçš„æœ«ç«¯)\r\n        - [`prepend` å°‡æŒ‡å®šçš„å€¼åŠ å…¥é›†åˆçš„é–‹é ­](#prepend-å°‡æŒ‡å®šçš„å€¼åŠ å…¥é›†åˆçš„é–‹é ­)\r\n      - [æ“·å–](#æ“·å–)\r\n        - [`except` æ“·å–é™¤äº† a, b ä»¥å¤–çš„](#except-æ“·å–é™¤äº†-a-b-ä»¥å¤–çš„)\r\n        - [`only` åªæ“·å– a, b](#only-åªæ“·å–-a-b)\r\n        - [`get` å–å¾—ç‰¹å®š key çš„å€¼](#get-å–å¾—ç‰¹å®š-key-çš„å€¼)\r\n        - [`forget` ç›´æ¥åˆªé™¤æŒ‡å®š key å€¼å°æ‡‰çš„ value](#forget-ç›´æ¥åˆªé™¤æŒ‡å®š-key-å€¼å°æ‡‰çš„-value)\r\n        - [`pull` å’Œ `get` é›·åŒï¼Œæœƒä¿®æ”¹åŸæœ¬çš„ collection](#pull-å’Œ-get-é›·åŒæœƒä¿®æ”¹åŸæœ¬çš„-collection)\r\n        - [`pluck` å–å¾—é›†åˆä¸­æ‰€æœ‰é™£åˆ—çš„ key å€¼](#pluck-å–å¾—é›†åˆä¸­æ‰€æœ‰é™£åˆ—çš„-key-å€¼)\r\n        - [`intersect` å¾åŸé›†åˆä¸­ç§»é™¤åœ¨æŒ‡å®šé™£åˆ—ä¸­æˆ–é›†åˆä¸­ä¸å­˜åœ¨çš„å€¼](#intersect-å¾åŸé›†åˆä¸­ç§»é™¤åœ¨æŒ‡å®šé™£åˆ—ä¸­æˆ–é›†åˆä¸­ä¸å­˜åœ¨çš„å€¼)\r\n        - [`keys`, `values` å–å‡ºé›†åˆä¸­çš„ key æˆ– value](#keys-values-å–å‡ºé›†åˆä¸­çš„-key-æˆ–-value)\r\n      - [è½‰å‹](#è½‰å‹)\r\n        - [`toArray`, `toJson` æä¾›è½‰æˆé™£åˆ—æˆ–æ˜¯ json ç­‰å¸¸ç”¨æ ¼å¼](#toarray-tojson-æä¾›è½‰æˆé™£åˆ—æˆ–æ˜¯-json-ç­‰å¸¸ç”¨æ ¼å¼)\r\n    - [Where](#where)\r\n      - ['first' è¿”å›é™£åˆ—ä¸­æŒ‡ä»¤æ¢ä»¶çš„ç¬¬ä¸€å…ƒç´ ](#first-è¿”å›é™£åˆ—ä¸­æŒ‡ä»¤æ¢ä»¶çš„ç¬¬ä¸€å…ƒç´ )\r\n    - [è»Ÿé«”æ“ä½œé¡](#è»Ÿé«”æ“ä½œé¡)\r\n      - [`collect` è¤‡è£½ä¸€å€‹æ–°çš„ collectionï¼Œè¨˜æ†¶é«”ä½ç½®ä¸è¡çª](#collect-è¤‡è£½ä¸€å€‹æ–°çš„-collectionè¨˜æ†¶é«”ä½ç½®ä¸è¡çª)\r\n  - [Helper è¼”åŠ©å‡½æ•¸](#helper-è¼”åŠ©å‡½æ•¸)\r\n    - [`Arr::add` å°‡æ•¸å€¼åŠ å…¥é™£åˆ—](#arradd-å°‡æ•¸å€¼åŠ å…¥é™£åˆ—)\r\n    - [`after` è¿”å›å‚³å…¥çš„å­—ä¸²çš„å€¼å¾Œé¢æ‰€æœ‰çš„å…§å®¹](#after-è¿”å›å‚³å…¥çš„å­—ä¸²çš„å€¼å¾Œé¢æ‰€æœ‰çš„å…§å®¹)"},{"name":"MQTT å­¸ç¿’ç­†è¨˜.md","content":"# MQTT\r\n\r\n> ç›®å‰æœ€æ–°ç‰ˆæœ¬ç‚º v5.0 (ä½† v3.1 ç‰ˆè¼ƒç‚ºæ™®åŠ)\r\n\r\n>\r\n\r\n## æ¦‚è¿°\r\n\r\né©ç”¨æ–¼ Server èˆ‡ Client è¨Šæ¯å‚³ éçš„é€šè¨Šå”å®š\r\n\r\nåˆ©ç”¨è¨‚é–±(Subscribe)èˆ‡ç™¼ä½ˆ(Public)çš„æ©Ÿåˆ¶ä¾†é€²è¡Œè¨Šæ¯å‚³é\r\n\r\nå› å…¶è¨Šæ¯çµæ§‹ç°¡å–®ä¸”è¼•é‡åŒ–ï¼Œå› æ­¤éå¸¸é©åˆç”¨æ–¼ç¡¬é«”æ•ˆèƒ½è¼ƒä½çš„æ§åˆ¶å™¨ï¼Œæˆ–ä½œç‚ºç‰©è¯ç¶²çš„è¼•é‡è³‡æ–™æ”¶é›†æ‡‰ç”¨ã€‚\r\n\r\nåœ¨æ­¤æ¶æ§‹ä¸‹ï¼Œæœƒæœ‰ä¸‰ç¨®è§’è‰²ï¼š\r\n\r\n- `Broker`: ä»£ç†äºº\r\n- `Publisher`: è¨Šæ¯ç™¼ä½ˆäºº\r\n- `Subscriber`: è¨Šæ¯è¨‚é–±è€…\r\n\r\nè¨Šæ¯ç™¼ä½ˆè€…(Publisher)å¤šç‚ºæ„Ÿæ¸¬å™¨ï¼Œç™¼é€è³‡æ–™ã€‚è¨Šæ¯è¨‚é–±è€…(Subscriber)ç‚ºä½¿ç”¨è€…çš„è£ç½®(pc, æ‰‹æ©Ÿ)ï¼Œä»£ç†äºº(Broker)æ¥æ”¶ä¾†è‡ªæ„Ÿæ¸¬å™¨çš„è³‡æ–™ï¼Œé€é Topic ä¾†è¾¨åˆ¥ç›®æ¨™çš„ä½¿ç”¨è€…è£ç½®ã€‚æœ‰è¨‚é–± Topic çš„è¨Šæ¯è¨‚é–±ï¼Œæœƒæ”¶åˆ°ç›¸å°æ‡‰çš„è³‡æ–™ã€‚\r\n\r\n### MQTT è¨Šæ¯æ ¼å¼\r\n\r\n- `Control Header`(1 byte)\r\n- `Remaining Length`(1 - 4 bytes)\r\n- `Variable Header`\r\n- `Payload`\r\n\r\nControl Header å’Œ Remaining Length ç‚ºå¿…é ˆï¼Œå¾Œé¢çš„ Variable Header å’Œ Payload å‰‡æ˜¯ä¾éœ€æ±‚æ±ºå®šã€‚\r\n\r\nåœ¨å‚³éçš„éç¨‹ä¸­ï¼ŒPublisher ä¸éœ€è¦çŸ¥é“ Subscriber çš„ IP ï¼Œåªéœ€è¦çŸ¥é“ Broker çš„ä½å€å°±å¯ä»¥é€²è¡Œè¨Šæ¯å‚³éã€‚\r\n\r\nTopic æœ‰éšå±¤å¼è¨­è¨ˆï¼Œç”¨`/`åˆ†é–‹ï¼Œä¸¦ä¸”æœ‰å¤§å°å¯«çš„å·®ç•°ã€‚\r\n\r\n### é‡è¦ç‰¹è‰²\r\n\r\nMQTT å¯ä»¥é‡å°ç¶²è·¯å“è³ª(QoS)ï¼Œæ±ºå®šæ“ä½œç­‰ç´š\r\n\r\n- `QoS Level0`: Publisher ä¸Ÿè¨Šæ¯çµ¦ Broker å¾Œä¸ç†\r\n- `QoS Level1`: Publisher ä¸Ÿå‡ºè¨Šæ¯å¾Œï¼ŒBroker å¿…å›å‚³ PUBACK ä»¥ç¢ºå®šè¨Šæ¯æœ‰æ”¶åˆ°ï¼Œå€˜è‹¥æ²’æ”¶åˆ° PUBACKï¼ŒPublisher æœƒå†é‡å‚³ä¸€æ¬¡è³‡æ–™ã€‚(ç¼ºé»ç‚ºè‹¥å›å‚³ PUBACK æ™‚æ–·ç·šï¼ŒPublisher æœƒåˆ¤æ–·å‚³é€å¤±æ•—è€Œå†é‡å‚³ä¸€æ¬¡è³‡æ–™ï¼Œå°‡å°è‡´ Subscriber é‡è¤‡æ”¶åˆ°ç›¸åŒçš„è³‡æ–™)\r\n- `QoS Level2`: åœ¨ Publisher ç¢ºèª Broker æœ‰æ”¶åˆ°è¨Šæ¯å¾Œï¼ŒBroker æ‰å°‡è³‡æ–™å‚³éçµ¦ Subscriberï¼Œä¸” Subscriber æ”¶åˆ°è¨Šæ¯å¾Œï¼Œä¹Ÿé ˆå›å‚³ PUBACK çµ¦ Publisherï¼Œå¯é¿å…æ”¶åˆ°é‡è¤‡çš„è¨Šæ¯ï¼Œä½†è¼ƒä½”é »å¯¬ã€‚\r\n\r\n## åœ¨ windows å»ºç«‹ MQTT æ¸¬è©¦ä¸»æ©Ÿ: Eclipse Mosquitto\r\n\r\n- åœ¨[å®˜ç¶²](https://mosquitto.org/download/)ä¸‹è¼‰ã€‚\r\n- åœ¨ `Choose Components` ä¸­ï¼Œå¦‚æœå‹¾é¸ `service` çš„é¸é …ï¼ŒMQTT Broker å°±æœƒè®Šæˆ windows çš„æœå‹™ï¼Œç•¶é–‹æ©Ÿæ™‚ä¾¿æœƒè¢«åŸ·è¡Œã€‚(è‹¥æ¸¬è©¦ç’°å¢ƒï¼Œå»ºè­°æ‰‹å‹•é–‹å•Ÿå³å¯)\r\n- è¨­å®š windows é˜²ç«ç‰†ï¼šåœ¨ MQTT é è¨­çš„é€šè¨ŠåŸ è™Ÿç‚º 1883 åœ¨ windows æ˜¯é—œé–‰çš„ã€‚\r\n  - é–‹å•Ÿ windows Defender é˜²ç«ç‰†è¨­å®šé é¢ï¼ŒæŒ‰ä¸‹é€²éšè¨­å®šã€‚\r\n  - è¼¸å…¥è¦å‰‡ï¼ŒæŒ‰ä¸‹æ–°å¢è¦å‰‡\r\n  - é¸æ“‡é€£æ¥åŸ \r\n  - é¸æ“‡ TPC é€šè¨Šå”å®šèˆ‡ç‰¹å®šæœ¬æ©Ÿé€£æ¥åŸ  1833\r\n  - é¸æ“‡å…è¨±é€£ç·š\r\n  - é¸æ“‡ç§äººé€£ç·š\r\n  - è¨­å®šåå­—ï¼Œå³å¯å®Œæˆé‡å° TPC é€£ç·šçš„ 1833 port è¼¸å…¥è¦å‰‡\r\n  - æ¥è‘—è¨­å®šè¼¸å‡ºè¦å‰‡ï¼Œæ­¥é©Ÿç›¸åŒï¼Œä¸€æ¨£æŒ‡å®š TPC èˆ‡åŸ è™Ÿ 1833\r\n  - æœ€å¾Œç¢ºèªè¼¸å…¥åŠè¼¸å‡ºæ­£å¸¸å•Ÿç”¨å³å¯\r\n\r\n## åœ¨è™›æ“¬ä¸»æ©Ÿå»ºç«‹ MQTT Broker: Mosquitto\r\n\r\n- ä¸‹è¼‰ mosquitto ç¨‹å¼åº«\r\n\r\n  ```bash\r\n  sudo apt-add-repository ppa:mosquitto-dev/mosquitto-ppa\r\n  ```\r\n\r\n- æ›´æ–°ç¨‹å¼åº«\r\n\r\n  ```bash\r\n  sudo apt-get update\r\n  ```\r\n\r\n- å®‰è£ mosquitto\r\n\r\n  ```bash\r\n  sudo apt-get install mosquitto\r\n  ```\r\n\r\n  - å®‰è£å¥½å¾Œï¼Œbroker æœƒè‡ªå‹•é‹è¡Œ\r\n\r\n- æ§åˆ¶æŒ‡ä»¤\r\n\r\n  ```bash\r\n  # æŸ¥è©¢ mosquitto æœå‹™ç‹€æ…‹\r\n  systemctl status mosquitto\r\n\r\n  # å•Ÿå‹• mosquitto æœå‹™\r\n  sudo systemctl start mosquitto\r\n\r\n  # åœæ­¢ mosquitto æœå‹™\r\n  sudo systemctl stop mosquitto\r\n\r\n  # é‡æ–°å•Ÿå‹• mosquitto æœå‹™\r\n  sudo systemctl restart mosquitto\r\n  ```\r\n\r\n- ç¢ºèªé‹è¡Œ\r\n\r\n  - æŸ¥çœ‹ server ç‹€æ…‹\r\n\r\n  ```bash\r\n  sudo service mosquitto status\r\n  ```\r\n\r\n  - åˆ—èˆ‰ç›®å‰ä½œç”¨ä¸­çš„é€£ç·šï¼šmosquitto server é è¨­é‹ä½œæ–¼ port: 1833\r\n\r\n  ```bash\r\n  rexlite_public@rexlitemqtt:~$ netstat -an\r\n  Active Internet connections (servers and established)\r\n  Proto Recv-Q Send-Q Local Address           Foreign Address         State\r\n  tcp        0      0 0.0.0.0:1833            0.0.0.0:*               LISTEN\r\n  ```\r\n\r\n- æœ¬æ©Ÿæ¸¬è©¦\r\n\r\n  - `-d` debug æ¨¡å¼\r\n  - `-t` è¨‚é–±çš„ä¸»é¡Œ\r\n  - `-h` broker çš„ IP\r\n  - `-m` ç™¼é€çš„å…§å®¹\r\n  - `-v` é¡¯ç¤ºä¸»é¡Œåç¨±\r\n\r\n  - è¨‚é–±\r\n\r\n    ```bash\r\n    mosquitto_sub -v -d -t <topic> -u <user> -P <Password>\r\n    ```\r\n\r\n  - æ¨é€\r\n\r\n    ```bash\r\n    mosquitto_pub -d -t <Topic> -m <Message> -u <User> -P <Password>\r\n    ```\r\n\r\n- é–‹å•Ÿ server é˜²ç«ç‰†çš„ port: 1883\r\n\r\nmosquitto çš„ broker é€šè¨ŠåŸ è™Ÿé è¨­ç‚ºï¼š1833ï¼Œå› æ­¤éœ€è¦åœ¨ server çš„é˜²ç«ç‰†é–‹é€šé“\r\n\r\nè®“å¤–ç•Œå¯ä»¥é€éé€™å€‹é€šé“è·Ÿ MQTT Broker æºé€š\r\n\r\n- æ‰“é–‹è³‡è¨Šæ¬„ => è™›æ“¬ç§æœ‰é›²ç¶²è·¯ => é˜²ç«ç‰† => CREATE FIREWALL rule\r\n- å¡«å…¥\r\n  - åç¨±ï¼šè‡ªè¨‚åç¨±\r\n  - ç›®æ¨™ï¼šé¸æ“‡ç¶²è·¯ä¸­æ‰€æœ‰åŸ·è¡Œå€‹é«”\r\n  - ä¾†æº ip ç¯„åœï¼š0.0.0.0/0\r\n- é€šè¨Šå”å®šå’Œé€šè¨ŠåŸ ï¼š\r\n  - æŒ‡å®šçš„é€šè¨Šå”å®šå’Œé€šè¨ŠåŸ ï¼štcp:1883\r\n- é»æ“Šå»ºç«‹\r\n\r\n## Mosquitto conf è¨­å®šèˆ‡å•Ÿå‹•\r\n\r\nç§»å‹•åˆ°è»Ÿé«”æª”æ¡ˆå®‰è£çš„ç›®éŒ„ä¸‹(linux: /etc/mosquitto)ï¼Œç”¨ç·¨è¼¯å™¨æ‰“é–‹ mosquitto.confã€‚\r\n\r\n### è¨­å®šä½¿ç”¨è€…é ˆä½¿ç”¨å¸³è™Ÿå¯†ç¢¼é€£ç·š\r\n\r\nç”¨ `mosquitto_passwd`ï¼Œä¾†å»ºç«‹å¯†ç¢¼\r\n\r\n```bash\r\nmosquitto_passwd -c <password file> <username>\r\n```\r\n\r\n- åƒæ•¸ `-c` ç‚ºå»ºç«‹å¯†ç¢¼æ–‡ä»¶ï¼Œè‹¥æŒ‡å®šçš„æª”æ¡ˆå·²å­˜åœ¨ï¼Œå°‡æœƒè¢«è¦†è“‹\r\n\r\nè‹¥è¦å°‡æ›´å¤šçš„ä½¿ç”¨è€…æ·»åŠ åˆ°ç¾æœ‰çš„æ–‡ä»¶ä¸­ï¼Œå‰‡çœç•¥ `-c` åƒæ•¸\r\n\r\n```bash\r\nmosquitto_passwd <password file> <username>\r\n```\r\n\r\nè‹¥è¦å¾å¯†ç¢¼æ–‡ä»¶ä¸­åˆªé™¤ç”¨æˆ¶\r\n\r\n```bash\r\nmosquitto_passwd -D <password file> <username>\r\n```\r\n\r\n```txt\r\nallow_anonymous false\r\npassword_file C:\\ä½ çš„è·¯å¾‘\\mosquitto\\usrlist.txt\r\nlistener 1883\r\n```\r\n\r\n- `allow_anonymous false`: ä¸å…è¨±åŒ¿åç™»å…¥\r\n- `password_file` : æŒ‡å®šå¸³è™Ÿæ¸…å–®çš„ç›®éŒ„\r\n- `listener` : æŒ‡å®šé ç«¯ç™»å…¥æ™‚å¯ä»¥ä½¿ç”¨çš„ PORT\r\n\r\n### é‡æ–°å•Ÿå‹• Mosquitto\r\n\r\n```bash\r\nsudo systemctl restart mosquitto\r\n```\r\n\r\n### å•Ÿå‹• MQTT Broker\r\n\r\nåœ¨å®‰è£ç›®éŒ„ä¸‹è¼¸å…¥\r\n\r\n```bash\r\n./mosquitto.exe -c mosquitto.conf -v\r\n```\r\n\r\n- `-c` æŒ‡å®š config æª”\r\n- `-v` verbose mode è©³ç´°æ¨¡å¼\r\n\r\nç•¶å•Ÿå‹•æˆåŠŸæœƒé¡¯ç¤ºæ‰€æœ‰ broker çš„å³æ™‚è³‡è¨Š\r\n\r\n## æ¸¬è©¦ Broker\r\n\r\n- Chrome ç€è¦½å™¨æ“´å……ç¨‹å¼ï¼šMQTTLens\r\n  - [MQTT æ•™å­¸ï¼ˆå››ï¼‰ï¼šä½¿ç”¨ MQTTLens è¨‚é–±èˆ‡ç™¼å¸ƒ MQTT è¨Šæ¯](https://swf.com.tw/?p=1009)\r\n- MQTT Explorer\r\n  - [| ESP32 æ•™å­¸ | Mosquitto conf è¨­å®šèˆ‡ MQTT æ¸¬è©¦](https://jimirobot.tw/esp32-mosquitto-conf-mqtt-tutorial/)\r\n\r\n## å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶: mosquitto-auth-plugin\r\n\r\n> Ubuntu 20\r\n>\r\n> Mosquitto 2.0  \r\n> [mosquitto-auth-plugin](https://github.com/jpmens/mosquitto-auth-plug)  \r\n> MySQL\r\n>\r\n> [Mosquitto 2.0 + mosquitto-auth-plugin + MySQL](https://www.jmeze.net/2021/06/mosquitto-20-mosquitto-auth-plugin-mysql.html)\r\n>\r\n> [Ubuntu 18 ä½¿ç”¨ apt å®‰è£… mosquitto auth plugin ä¸ MySQL](https://www.jianshu.com/p/08b42c170a6a)\r\n>\r\n> [mosquitto æƒé™éªŒè¯](https://tongxinmao.com/Article/Detail/id/166)\r\n\r\n### è¨­ç½® mosquitto\r\n\r\n- å®‰è£æ‰€éœ€å¥—ä»¶\r\n\r\n  ```bash\r\n  apt install gcc g++ make xsltproc docbook-xsl libwebsockets-dev libmysqlclient-dev\r\n  ```\r\n\r\n- å¸è¼‰èˆŠç‰ˆæœ¬çš„ Mosquitto\r\n\r\n  ```bash\r\n  apt purge mosquitto\r\n  ```\r\n\r\n- å¾å®˜æ–¹å®‰è£ mosquitto æºç¢¼\r\n\r\n  ```bash\r\n  wget https://mosquitto.org/files/source/mosquitto-2.0.10.tar.gz\r\n  tar xvf mosquitto-2.0.10.tar.gz\r\n  ```\r\n\r\n- æ›´æ”¹ config.mk è¨­å®š\r\n\r\n  ```config\r\n  WITH_WEBSOCKETS:=yes\r\n  WITH_CJSON:=no\r\n  ```\r\n\r\n  - `WITH_WEBSOCKETS` ç•¶éœ€è¦ä½¿ç”¨ websockets é€£ç·šåˆ° mosquitto æ™‚ï¼Œæ‰å°‡å…¶é–‹å•Ÿã€‚\r\n  - `WITH_CJSON` å°‡æ­¤è¨­å®šé–‹å•Ÿæœƒå ±éŒ¯(æœªçŸ¥åŸå› )\r\n\r\n- å°‡ mosquitto ç·¨è­¯ä¸¦å®‰è£\r\n\r\n  ```bash\r\n  make\r\n  make install\r\n  ```\r\n\r\n- å»ºç«‹ mosquitto ä½¿ç”¨è€…ä¸¦æ”¹è®Šç›®éŒ„æ¬Šé™\r\n\r\n  ```bash\r\n  useradd -r mosquitto\r\n  mkdir /var/log/mosquitto\r\n  chown mosquitto:mosquitto /var/log/mosquitto/\r\n  mkdir /var/lib/mosquitto\r\n  chown mosquitto:mosquitto /var/lib/mosquitto/\r\n  ```\r\n\r\n- å»ºç«‹æ–‡ä»¶ /etc/systemd/system/mosquitto.service\r\n\r\n  ```bash\r\n  touch /etc/systemd/system/mosquitto.service\r\n  ```\r\n\r\n  ```service\r\n  [Unit]\r\n  Description=Mosquitto MQTT v3.1/v3.1.1 server\r\n  Wants=network.target\r\n  Documentation=http://mosquitto.org/documentation/\r\n\r\n  [Service]\r\n  Type=simple\r\n  User=mosquitto\r\n  Group=mosquitto\r\n  ExecStart=/usr/local/sbin/mosquitto -c /etc/mosquitto/mosquitto.conf\r\n  Restart=on-failure\r\n  SyslogIdentifier=Mosquitto\r\n\r\n  [Install]\r\n  WantedBy=multi-user.target\r\n  ```\r\n\r\n### å®‰è£ mosquitto-auth-plug å¥—ä»¶\r\n\r\n- git clone\r\n\r\n```bash\r\ngit clone https://github.com/kmihaylov/mosquitto-auth-plug.git\r\n```\r\n\r\n- åœ¨ mosquitto-auth-plug çš„ç›®éŒ„åº•ä¸‹ç·¨è¼¯ config.mk çš„å‰¯æœ¬\r\n\r\n```bash\r\ncp config.mk.in config.mk\r\nvim config.mk\r\n```\r\n\r\n- æ ¹æ“šå¯¦éš›ç’°å¢ƒï¼Œè¨­å®š config.mk\r\n\r\n```mk\r\n# mosquitto æºç¢¼\r\n# MOSQUITTO_SRC = /etc/mosquitto-2.0.10\r\nMOSQUITTO_SRC = <your path>/mosquitto\r\n\r\n# OPENSSLDIR = /usr/lib/ssl\r\nOPENSSLDIR = <your path>\r\n```\r\n\r\n- å¯ä»¥ä½¿ç”¨ `whereis openssl` æŒ‡ä»¤ä¾†é¡¯ç¤º OpenSSL çš„ç›®éŒ„\r\n\r\n- ç·¨è­¯æ­¤å¥—ä»¶\r\n\r\n```bash\r\nmake\r\n```\r\n\r\n- errors\r\n\r\n```bash\r\n/usr/local/include/mosquitto_plugin.h:167:46: error: unknown type name â€˜mosquitto_plugin_id_tâ€™; did you mean â€˜mosquitto_propertyâ€™?\r\n```\r\n\r\nä¿®æ”¹ `auth-plug.c` èˆ‡ `log.c` æª”\r\n\r\n```c\r\n#include <mosquitto_broker.h>\r\n#include <mosquitto_plugin.h>\r\n#include <mosquitto.h>\r\n```\r\n\r\n- å°‡ç·¨è­¯å®Œæˆå¾Œç”Ÿæˆçš„ `auth-plug.so` è¤‡è£½è‡³ mosquitto çš„ç›®éŒ„ä¸‹(ä¸æ˜¯æºç¢¼ç›®éŒ„ï¼Œæ˜¯å®‰è£å¾Œçš„ç›®éŒ„)\r\n\r\n```bash\r\ncp auth-plug.so /var/lib/mosquitto\r\n```\r\n\r\n- é€²å…¥ mosquitto å®‰è£å¾Œçš„ç›®éŒ„(é è¨­ç‚º etc/mosquitto)ï¼Œè¤‡è£½ mosquitto.conf.example ä¸¦åœ¨æ–‡ä»¶æœ€å¾ŒåŠ å…¥è¨­å®š\r\n\r\n```conf\r\ninclude_dir /etc/mosquitto/conf.d\r\n```\r\n\r\n- åœ¨ mosquitto ç›®éŒ„ä¸‹å»ºç«‹ conf.d è³‡æ–™å¤¾ï¼Œä¸¦æ–°å¢ auth-plug.conf\r\n\r\n```bash\r\nmkdir /etc/mosquitto/conf.d\r\nvim auth-plug.conf\r\n```\r\n\r\n```conf\r\n# auth_plugin /var/lib/mosquitto/auth-plug.so\r\nauth_plugin /<your path>/auth-plug.so\r\nauth_opt_backends mysql\r\nauth_opt_log_quiet false\r\n# auth_opt_host localhost\r\nauth_opt_host <your mysql host>\r\n# auth_opt_port 3306\r\nauth_opt_port <your mysql port>\r\nauth_opt_dbname <your mysql schema>\r\nauth_opt_user <your mysql user>\r\nauth_opt_pass <your mysql password>\r\n\r\nauth_opt_userquery SELECT pw FROM <your_users_table> WHERE username = '%s'\r\nauth_opt_superquery SELECT COUNT(*) FROM <your_users_table> WHERE username = '%s' AND super = 1\r\nauth_opt_aclquery SELECT topic FROM <your_acls_table> WHERE (username = '%s') AND (rw >= %d)\r\n# auth_opt_superusers Sup\r\nauth_opt_superusers S*\r\nauth_opt_ssl_enabled true\r\n```\r\n\r\n- æ›´æ”¹æª”æ¡ˆæ¬Šé™\r\n\r\n  ```bash\r\n  chown mosquitto:mosquitto auth-plug.conf\r\n  chmod go-rwx auth-plug.conf\r\n  ```\r\n\r\n### è‹¥ mosquitto ç„¡æ³•æ­£å¸¸é‹è¡Œ\r\n\r\nä½¿ç”¨ `sudo systemctl start mosquitto -l` å•Ÿå‹• Mosquitto\r\n\r\nä½¿ç”¨ `sudo systemctl status mosquitto -l` æŸ¥çœ‹é‹è¡Œç‹€æ…‹\r\n\r\nè‹¥ç‹€æ…‹ç‚ºå¤±æ•—ï¼Œé‹è¡Œè¼¸å…¥ `sudo /usr/local/sbin/mosquitto -c /etc/mosquitto/mosquitto.conf` (ExecStart=)ï¼ŒæŸ¥çœ‹è©³ç´°çš„å•Ÿå‹•éŒ¯èª¤è³‡è¨Š\r\n\r\n- ç¼ºä¹æ¬Šé™ï¼šå°‡ç¼ºä¹æ¬Šé™çš„ç›®éŒ„æˆ–æ˜¯æª”æ¡ˆï¼Œå…¶æ¬Šé™æ­¸æ–¼ mosquitto\r\n- libmosquitto.so.1:cannot open shard object\r\n  - é‹è¡Œ `sudo /sbin/ldconfig` æ›´æ–°åº«çš„é€£æ¥å™¨ç·©å­˜\r\n\r\n## å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶: mosquitto-go-auth\r\n\r\n> åƒ…æ”¯æ´ Linux (Debian, Ubuntu and Mintus) å’Œ MacOS\r\n>\r\n> [iegomez/mosquitto-go-auth](https://github.com/iegomez/mosquitto-go-auth#build)\r\n>\r\n> [Mosquitto å®‰è£…ä¸éƒ¨ç½²](https://www.cnblogs.com/IC1101/p/14749722.html)\r\n>\r\n> [Uninstalling Go (golang)](https://askubuntu.com/questions/742078/uninstalling-go-golang)\r\n\r\n### è¨­ç½® mosquitto: åŒ mosquitto-auth-plug å¥—ä»¶\r\n\r\n### å®‰è£ mosquitto-go-auth\r\n\r\n- å®‰è£ä¹‹å‰ï¼Œéœ€å…ˆåœ¨ç³»çµ±ä¸Šå®‰è£ golangï¼Œæ‰€éœ€ go æœ€ä½ç‰ˆæœ¬ç‚º 1.13.8ã€‚\r\n\r\n```bash\r\ngo version\r\n```\r\n\r\n- å®‰è£ go (è‹¥è¦æ›´æ–° golangï¼Œéœ€å…ˆå°‡èˆŠç‰ˆæœ¬è§£é™¤å®‰è£ remove golang)\r\n\r\n```bash\r\n# Update the following as per your system configuration\r\nexport GO_VERSION=1.16.4\r\nexport GO_OS=linux\r\nexport GO_ARCH=amd64\r\n\r\nwget https://dl.google.com/go/go${GO_VERSION}.${GO_OS}-${GO_ARCH}.tar.gz -O golang.tar.gz\r\nsudo tar -C /usr/local -xzf golang.tar.gz\r\nexport PATH=$PATH:/usr/local/go/bin\r\nrm golang.tar.gz\r\n\r\n# Prints the Go version\r\ngo version\r\n```\r\n\r\n- å°‡ mosquitto-go-auth å¥—ä»¶ï¼Œgit clone ä¸‹ä¾†ï¼Œä¸¦æ‰“åŒ…\r\n\r\n```bash\r\nmake\r\n```\r\n\r\n- è¨­å®š mosquitto æ–‡ä»¶(mosquitto.conf)\r\n\r\n```conf\r\ninclude_dir /etc/mosquitto/conf.d\r\n```\r\n\r\nvim /mosquitto/conf.d/go-auth.conf\r\n\r\n```conf\r\n# å¥—ä»¶ç·¨è­¯å®Œæˆå¾Œçš„æª”æ¡ˆ\r\nauth_plugin /etc/mosquitto/conf.d/go-auth.so\r\n\r\n# å¾Œç«¯\r\nauth_opt_backends mysql\r\n\r\n# å¯†ç¢¼ç·¨ç¢¼æ–¹å¼\r\nauth_opt_hasher bcrypt\r\nauth_opt_hasher_cost 10\r\n\r\n# è¨­å®š  mosquitto log (ä¸Šç·šå¾Œæ‡‰å°‡ log_level debug é—œé–‰)\r\nauth_opt_log_level debug\r\nauth_opt_log_dest file\r\nauth_opt_log_file /var/log/mosquitto/mosquitto.log\r\n\r\nauth_opt_mysql_protocol tcp\r\n\r\n# å…è¨±ä½¿æœ¬æ©Ÿå¯†ç¢¼\r\nauth_opt_mysql_allow_native_passwords true\r\n\r\n# é€£æ¥è³‡æ–™åº«çš„è¨­å®š\r\nauth_opt_mysql_host localhost\r\nauth_opt_mysql_port 3306\r\nauth_opt_mysql_dbname max_system\r\nauth_opt_mysql_user max_system\r\nauth_opt_mysql_password maxsystem@2021\r\nauth_opt_mysql_connect_tries 5\r\nauth_opt_mysql_userquery SELECT password_hash FROM test_user WHERE username = ? limit 1\r\nauth_opt_mysql_superquery SELECT COUNT(*) FROM test_user WHERE username = ? AND is_admin = 1\r\nauth_opt_mysql_aclquery SELECT topic FROM test_acl WHERE test_user_id = (SELECT id FROM test_user WHERE username = ?) AND (rw >= ?)\r\n```\r\n\r\n### acl æ¬Šé™è¨­å®š\r\n\r\nå…¶å¯¦ä¸€èˆ¬è€Œè¨€åªæœƒä½¿ç”¨åˆ°æ¬Šé™ 2ã€5ã€7\r\n\r\n```txt\r\n0: no access (NULL)\r\n1: read access (r)  // ä¸æœƒå‹•\r\n2: write access (w)\r\n3: read and write access (rw)\r\n4: subscribe access (s)\r\n5: read & subscribe access (rs)\r\n6: write & subscribe access (ws)\r\n7: read, write and subscribe access (rws)\r\n```\r\n\r\n## MQTT Client\r\n\r\n> [php-mqtt/client](https://github.com/php-mqtt/client)\r\n>\r\n> [php-mqtt/client-examples](https://github.com/php-mqtt/client-examples)\r\n\r\n### å®‰è£\r\n\r\n```git\r\ngit clone https://github.com/php-mqtt/client-examples.git\r\n```\r\n\r\nå°‡å°ˆæ¡ˆè¤‡è£½åˆ°æœ¬æ©Ÿï¼Œé€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œå•Ÿå‹• composer\r\n\r\n```bash\r\ncd client-examples\r\ncomposer install\r\n```\r\n\r\n### è¨­å®š mqtt-client é€£ç·š\r\n\r\né€²å…¥ share è³‡æ–™å¤¾ï¼Œç·¨è¼¯ config.php\r\n\r\n```php\r\n<?php\r\n\r\ndeclare(strict_types=1);\r\n\r\ndefine('MQTT_BROKER_HOST', '127.0.0.1');  // host\r\ndefine('MQTT_BROKER_PORT', 1883);         // port\r\ndefine('MQTT_BROKER_TLS_PORT', 8883);     // tls port\r\n\r\ndefine('TLS_SERVER_CA_FILE', '');\r\ndefine('TLS_CLIENT_CERTIFICATE_FILE', '');\r\ndefine('TLS_CLIENT_CERTIFICATE_KEY_FILE', '');\r\ndefine('TLS_CLIENT_CERTIFICATE_KEY_PASSPHRASE', null);\r\n\r\ndefine('AUTHORIZATION_USERNAME', '');     // mqtt broker username\r\ndefine('AUTHORIZATION_PASSWORD', '');     // mqtt broker password\r\n```\r\n","date":"2023-08-17T02:56:23.921Z","matchingLines":["## æ¦‚è¿°\r","## åœ¨ windows å»ºç«‹ MQTT æ¸¬è©¦ä¸»æ©Ÿ: Eclipse Mosquitto\r","## åœ¨è™›æ“¬ä¸»æ©Ÿå»ºç«‹ MQTT Broker: Mosquitto\r","## Mosquitto conf è¨­å®šèˆ‡å•Ÿå‹•\r","## æ¸¬è©¦ Broker\r","## å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶: mosquitto-auth-plugin\r","## å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶: mosquitto-go-auth\r","## MQTT Client\r"],"tocContent":"- [MQTT](#mqtt)\r\n  - [æ¦‚è¿°](#æ¦‚è¿°)\r\n    - [MQTT è¨Šæ¯æ ¼å¼](#mqtt-è¨Šæ¯æ ¼å¼)\r\n    - [é‡è¦ç‰¹è‰²](#é‡è¦ç‰¹è‰²)\r\n  - [åœ¨ windows å»ºç«‹ MQTT æ¸¬è©¦ä¸»æ©Ÿ: Eclipse Mosquitto](#åœ¨-windows-å»ºç«‹-mqtt-æ¸¬è©¦ä¸»æ©Ÿ-eclipse-mosquitto)\r\n  - [åœ¨è™›æ“¬ä¸»æ©Ÿå»ºç«‹ MQTT Broker: Mosquitto](#åœ¨è™›æ“¬ä¸»æ©Ÿå»ºç«‹-mqtt-broker-mosquitto)\r\n  - [Mosquitto conf è¨­å®šèˆ‡å•Ÿå‹•](#mosquitto-conf-è¨­å®šèˆ‡å•Ÿå‹•)\r\n    - [è¨­å®šä½¿ç”¨è€…é ˆä½¿ç”¨å¸³è™Ÿå¯†ç¢¼é€£ç·š](#è¨­å®šä½¿ç”¨è€…é ˆä½¿ç”¨å¸³è™Ÿå¯†ç¢¼é€£ç·š)\r\n    - [é‡æ–°å•Ÿå‹• Mosquitto](#é‡æ–°å•Ÿå‹•-mosquitto)\r\n    - [å•Ÿå‹• MQTT Broker](#å•Ÿå‹•-mqtt-broker)\r\n  - [æ¸¬è©¦ Broker](#æ¸¬è©¦-broker)\r\n  - [å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶: mosquitto-auth-plugin](#å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶-mosquitto-auth-plugin)\r\n    - [è¨­ç½® mosquitto](#è¨­ç½®-mosquitto)\r\n    - [å®‰è£ mosquitto-auth-plug å¥—ä»¶](#å®‰è£-mosquitto-auth-plug-å¥—ä»¶)\r\n    - [è‹¥ mosquitto ç„¡æ³•æ­£å¸¸é‹è¡Œ](#è‹¥-mosquitto-ç„¡æ³•æ­£å¸¸é‹è¡Œ)\r\n  - [å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶: mosquitto-go-auth](#å®‰è£èº«åˆ†é©—è­‰å¥—ä»¶-mosquitto-go-auth)\r\n    - [è¨­ç½® mosquitto: åŒ mosquitto-auth-plug å¥—ä»¶](#è¨­ç½®-mosquitto-åŒ-mosquitto-auth-plug-å¥—ä»¶)\r\n    - [å®‰è£ mosquitto-go-auth](#å®‰è£-mosquitto-go-auth)\r\n    - [acl æ¬Šé™è¨­å®š](#acl-æ¬Šé™è¨­å®š)\r\n  - [MQTT Client](#mqtt-client)\r\n    - [å®‰è£](#å®‰è£)\r\n    - [è¨­å®š mqtt-client é€£ç·š](#è¨­å®š-mqtt-client-é€£ç·š)"},{"name":"PHP namespace.md","content":"# PHP å‘½åç©ºé–“\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [namespace å‘½åç©ºé–“è©³è§£](https://learnku.com/articles/15064/namespace-namespace-detailed-explanation)\r\n\r\n## ä»€éº¼æ˜¯å‘½åç©ºé–“\r\n\r\nåœ¨ php ä¸­ï¼Œèªæ³•è¦å‰‡ä¸å…è¨±`è®Šæ•¸`ã€`é¡åˆ¥åç¨±`ã€`const å¸¸æ•¸`åœ¨ä¸€å€‹è«‹æ±‚ä¸­å‡ºç¾å¤šå€‹ç›¸åŒçš„å‘½åï¼Œè‹¥æœ‰æ‡‰ç”¨ç¨‹åºä¸å¾—ä¸å‡ºç¾å¤šå€‹åŒåçš„`è®Šæ•¸`ã€`é¡åˆ¥åç¨±`ã€`const å¸¸æ•¸`ï¼Œæ­¤æ™‚å¯ä»¥å°‡å…¶æ”¾åˆ°ä¸åŒçš„ç©ºé–“é€²è¡Œè«‹æ±‚ã€‚\r\n\r\né€™å€‹ä¸åŒçš„ç©ºé–“å°±ç¨±ä½œ`å‘½åç©ºé–“ namespace`ã€‚ç©ºé–“å¯ä»¥ä½œç‚ºä¸€å€‹`å®¹å™¨`ã€`å„²å­˜é¡åˆ¥`ã€`å‡½æ•¸`ã€`const å¸¸æ•¸`çš„å®¹å™¨ã€‚\r\n\r\n- åŒåå…ƒç´ åœ¨åŒä¸€ç©ºé–“ï¼š\r\n\r\n  ```php\r\n  function getInfo(){\r\n    echo \"hello\";\r\n  }\r\n\r\n  function getInfo(){\r\n    echo \"hello\";\r\n  }\r\n  getInfo();\r\n  ```\r\n\r\n  åŒåç¨±çš„å…©å€‹ function åœ¨åŒä¸€å€‹ç©ºé–“å­˜å–æœƒå ±éŒ¯ï¼ŒéŒ¯èª¤ç¢¼ï¼š\r\n\r\n  ```txt\r\n  Fatal error: Cannot redeclare getInfo() (previously declared in...)\r\n  ```\r\n\r\n- åŒåå…ƒç´ åœ¨ä¸åŒç©ºé–“\r\n\r\n  ```php\r\n  namespace Test1;\r\n\r\n  function getInfo() {\r\n    echo \"hello from test 1\";\r\n  }\r\n  getInfo();\r\n  echo \"<br>\";\r\n\r\n  namespace Test2;\r\n\r\n  function getInfo() {\r\n    echo \"hello from test 2\";\r\n  }\r\n  getInfo();\r\n  ```\r\n\r\n  ç›¸åŒå‘½åçš„å…©å€‹ function æ”¾åˆ°ä¸åŒç©ºé–“é€²è¡Œå­˜å–ï¼Œæœ€å¾Œè¼¸å‡ºï¼š\r\n\r\n  ```txt\r\n  hello from test 1\r\n  hello from test 2\r\n  ```\r\n\r\n## ä½¿ç”¨å‘½åç©ºé–“\r\n\r\n### å‘½åè¦å‰‡\r\n\r\n- é€é namespace é—œéµå­—å®£å‘Šå‘½åç©ºé–“\r\n\r\n  ```php\r\n  namespace ç©ºé–“åç¨±  // ç©ºé–“åç¨±ä¾ç…§ php æ­£ç¢ºçš„å‘½åæ–¹å¼å®šç¾©å³å¯\r\n  ```\r\n\r\n  namespace é‡å° functionã€é¡åˆ¥åç¨±ã€const å¸¸æ•¸ä¸‰å€‹éƒ¨ä»½èµ·ä½œç”¨ï¼Œä¸¦çµ±ç¨±ç‚ºå…ƒç´ ã€‚\r\n\r\n### å¸¸æ•¸çš„å®£å‘Š\r\n\r\n- define ($name, $value);\r\n\r\n  åœ¨é¡åˆ¥å¤–éƒ¨å®£å‘Šå¸¸æ•¸ï¼Œå’Œå‘½åç©ºé–“æ²’æœ‰é—œä¿‚ã€‚åŒåç¨±çš„å¸¸æ•¸åªèƒ½ define ä¸€æ¬¡\r\n\r\n  ```php\r\n  namespace Test1;\r\n  define ('IVAN', 'hello world');\r\n\r\n  namespace Test2;\r\n  define ('IVAN', 'hello world');\r\n\r\n  // Notice: Constants IVAN already defined in...\r\n  ```\r\n\r\n- const NAME = $value;\r\n  å’Œç©ºé–“å‘½åæœ‰é—œä¿‚ã€‚const å¯ä»¥åœ¨é¡åˆ¥çš„å…§éƒ¨å®£å‘Šå¸¸æ•¸å€¼(é¡åˆ¥å¸¸æ•¸)ï¼Œä¹Ÿå¯ä»¥åœ¨é¡åˆ¥å¤–éƒ¨å®£å‘Š(æ­£å¸¸å¸¸æ•¸)ã€‚\r\n\r\n  ä½¿ç”¨ç©ºé–“å‘½åçš„æ™‚å€™ï¼Œconst å¯ä»¥æ”¾åˆ°é¡åˆ¥å¤–é¢å®£å‘Šã€‚ç›¸åŒåç¨±çš„å¤šå€‹å¸¸æ•¸ï¼Œå¯ä»¥åˆ†åˆ¥å®šç¾©å ±ä¸åŒçš„å‘½åç©ºé–“è£¡é¢ã€‚\r\n\r\n  ```php\r\n  namespace Test1;\r\n  const USER = \"ivan_1\";\r\n  echo USER;\r\n  echo \"<br>\";\r\n\r\n  namespace Test2;\r\n  const USER = \"ivan_2\";\r\n  echo USER;\r\n  ```\r\n\r\n  ```txt\r\n  ivan_1\r\n  ivan_2\r\n  ```\r\n\r\n### å‘½åç©ºé–“ä¸­ const å’Œ define çš„å€åˆ¥\r\n\r\n`const` é‡å°å‘½åç©ºé–“ç”¢ç”Ÿå½±éŸ¿ï¼Œ`define` ä¸ç™¼ç”Ÿå½±éŸ¿ã€‚\r\n\r\n`const` å¯ä»¥å®£å‘Šå¤šå€‹ç›¸åŒåç¨±çš„å¸¸æ•¸ã€‚\r\n\r\n`define` å®£å‘Šçš„åç¨±å…·æœ‰å”¯ä¸€æ€§ã€‚\r\n\r\n## é–“å–®çš„å…ƒç´ å­˜å–\r\n\r\n```php\r\n// ç©ºé–“çš„åç¨±èˆ‡å…·é«”çˆ¶å±¤ç›®éŒ„æ²’æœ‰ç›´æ¥é—œä¿‚\r\n// æŒ‰ç…§ php æ­£ç¢ºçš„å‘½åæ–¹å¼å®šç¾©å³å¯\r\nnamespace Test1;\r\n\r\nfunction getInfo() {\r\n  echo \"test_1\";\r\n}\r\n\r\nconst USER = \"ivan_1\";\r\n\r\nnamespace Test2;\r\n\r\nfunction getInfo(){\r\n  echo \"test_2\";\r\n}\r\nconst USER = \"ivan_2\";\r\n\r\n// å­˜å–å…ƒç´ \r\n// ç•¶å…ƒç´ æ²’æœ‰ä»»ä½•é™åˆ¶çš„æ™‚å€™ï¼Œæœƒå­˜å–\"ç›®å‰ç©ºé–“\"çš„å…ƒç´ \r\n// ç›®å‰ç©ºé–“ï¼šé›¢æ­¤å‘¼å« function æœ€è¿‘çš„å‘½åç©ºé–“\r\ngetInfo(); // test_2\r\necho USER; // ivan_2\r\n\r\n// ç•¶å…ƒç´ æŒ‡å®šå­˜å–çš„å‘½åç©ºé–“\r\n// å­˜å–å…¶ä»–å‘½åç©ºé–“çš„å…ƒç´ ï¼š\\ç©ºé–“\\å…ƒç´ ;\r\n\\Test1\\getInfo(); // test_1\r\necho \\Test1\\USER; // ivan_1\r\n```\r\n\r\n## å­ç´š(å¤šç´š)ç©ºé–“\r\n\r\nå‘½åç©ºé–“å¯ä»¥è®“æˆ‘å€‘å­˜æ”¾è¨±å¤šå…ƒç´ (å‡½æ•¸ã€é¡åˆ¥ã€å¸¸æ•¸)ï¼Œç•¶å…ƒç´ è¼ƒå¤šæ™‚ï¼Œç‚ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œå¯ä»¥å°å…ƒç´ é€²è¡Œåˆ†é¡å„²å­˜ï¼Œå°‡å‘½åç©ºé–“è¨­å®šç‚ºå¤šç´šç©ºé–“ã€‚\r\n\r\nå¤šç´šç©ºé–“çš„æœ€å¾Œä¸€ç´šç©ºé–“å°±ç¨±ç‚ºå­ç´šç©ºé–“ã€‚\r\n\r\n- ç©ºé–“å…ƒç´ å­˜å–çš„ä¸‰ç¨®å‹å¼ï¼š\r\n\r\n  - éé™å®šåç¨±æ–¹å¼\r\n  - å®Œå…¨é™å®šåç¨±æ–¹å¼\r\n  - é™å®šåç¨±\r\n\r\n- å¤šç´šå‘½åç©ºé–“ä½¿ç”¨\r\n\r\n  ```php\r\n  // å¤šç´šå‘½åç©ºé–“ä½¿ç”¨\r\n  namespace AAA\\aaa\\test;\r\n\r\n  class Shop\r\n  {\r\n    public $impression = 'beautiful';\r\n  }\r\n\r\n  namespace BBB\\bbb\\test;\r\n\r\n  class Shop\r\n  {\r\n    public $impression = 'science and technology';\r\n  }\r\n\r\n  // éé™å®šæ–¹å¼å­˜å–å…ƒç´ \r\n  // é è¨­å­˜å–ç•¶å‰çš„ç©ºé–“å…ƒç´ \r\n  $obj = new Shop();\r\n  echo $obj->impression; // science and technology\r\n\r\n  // å®Œå…¨é™å®šåç¨±æ–¹å¼å­˜å–å…ƒç´ \r\n  // å­˜å–å…¶ä»–ç©ºé–“å…ƒç´ \r\n  $obj_1 = new \\AAA\\aaa\\test\\Shop();\r\n  echo $obj_1->impression; // beautiful\r\n  ```\r\n\r\n- å¤šç´šç©ºé–“ä½¿ç”¨\r\n\r\n  ```php\r\n  namespace AAA\\aaa\\test\\library;\r\n  const USER = 'ivan_1';\r\n\r\n  namespace BBB\\bbb\\test;\r\n  const USER = \"ivan_2\";\r\n\r\n  namespace AAA\\aaa\\test;\r\n  const USER = \"ivan_3\";\r\n\r\n  // é™å®šåç¨±å­˜å–å…ƒç´ \r\n  // æ­¤æ–¹æ³•å­˜å–å…ƒç´ è¦å‰‡ï¼šç›®å‰ç©ºé–“ + æœ¬èº«ç©ºé–“\\å…ƒç´ \r\n\r\n  echo library\\USER; // å‘½åç©ºé–“ç‚º \\AAA\\aaa\\test\\library\\USER;\r\n  // ivan_1\r\n  ```\r\n\r\n- éé™å®šåç¨±æ–¹å¼\r\n  `echo Shop::$impression;` å°±è¿‘å­˜å–ä¸Šé¢èˆ‡å…¶æœ€è¿‘çš„ç©ºé–“å…§çš„ Shop() å…ƒç´ ã€‚é¡ä¼¼ php å¼•å…¥æ–‡ä»¶ `include(\"common.php\");` ä½¿ç”¨ç›¸å°è·¯å¾‘å¼•å…¥ç•¶å‰ç›®éŒ„ä¸‹çš„ common.php æ–‡ä»¶ã€‚\r\n- é™å®šåç¨±\r\n  `echo library\\Shop::$impression;` å°‡ç•¶å‰ç©ºé–“å’Œ library ç©ºé–“è¯åˆï¼Œç²å¾— Shop() å…ƒç´ ã€‚é¡ä¼¼ `include(\"Common/Conf/config.php\");` ç›¸å°è·¯å¾‘ã€‚\r\n- å®Œå…¨é™å®šåç¨±æ–¹å¼\r\n  `echo BBB\\Shop::$impression;` å­˜å– BBB ç©ºé–“çš„ Shop å…ƒç´ ã€‚é¡ä¼¼ `include(\"D:/web/1121/Conf/common.php);` ä½¿ç”¨çµ•å°è·¯å¾‘å¼•å…¥æ–‡ä»¶ã€‚\r\n\r\n## å¼•å…¥æ©Ÿåˆ¶\r\n\r\nå‘½åç©ºé–“å¯å®£å‘Šç‚ºå¤šç´šç©ºé–“ï¼Œæ­¤ä¸€å¤šç´šç©ºé–“å…ƒç´ åœ¨å…¶ä»–çš„ç©ºé–“å…§éƒ¨å­˜å–çš„æ™‚å€™ï¼Œä¸å¯ä»¥éœ€è¦é€é`å®Œå…¨é™å®šåç¨±`ï¼Œæ­¤ä¸€æ–¹æ³•ä¸æ–¹ä¾¿ç¶­è­·åŠé–‹ç™¼ã€‚\r\n\r\nç‚ºäº†é™ä½ç¨‹å¼ç¢¼çš„è¤‡é›œåº¦ï¼Œå¯ä»¥åœ¨ç•¶å‰çš„ç©ºé–“å°‡æŒ‡å®šçš„ç©ºé–“å¼•å…¥ï¼Œé€²è€Œé€é`é™å®šåç¨±`çš„å½¢å¼ï¼Œä½¿ç”¨å…¶ä»–ç©ºé–“çš„å…ƒç´ ã€‚\r\n\r\n### ç©ºé–“å¼•å…¥\r\n\r\n- use ç©ºé–“\r\n\r\n  ```php\r\n  // å¼•å…¥æ©Ÿåˆ¶ï¼šç©ºé–“å¼•å…¥\r\n  namespace AAA\\aaa\\test;\r\n\r\n  const USER = 'ivan';\r\n  const HOST = 'localhost:80';\r\n\r\n  function getInfo() {\r\n    echo 'test';\r\n  }\r\n\r\n  namespace BBB\\bbb\\library;\r\n\r\n  const USER = 'cindy';\r\n  const HOST = 'localhost:443';\r\n  function getInfo() {\r\n    echo 'test';\r\n  }\r\n\r\n  /**\r\n   * é …ç›®éœ€è¦é »ç¹å­˜å–å…¶ä»–ç©ºé–“å…ƒç´ \r\n   * ç‚ºäº†é™ä½å­˜å–å…¶ä»–ç©ºé–“çš„è¤‡é›œåº¦ï¼Œå¯ä»¥å°‡é »ç¹å­˜å–çš„ç©ºé–“å¼•å…¥ç•¶å‰çš„ç©ºé–“\r\n   * é€²è€Œé€é\"é™å®šåç¨±\"æ–¹å¼å­˜å–å…ƒç´ \r\n   * é™å®šåç¨±ï¼šè¢«å¼•å…¥é–“çš„æœ€å¾Œä¸€ç´šç©ºé–“çš„åç¨±\r\n   */\r\n\r\n  use AAA\\aaa\\test;\r\n\r\n  echo test\\USER; // ivan\r\n  test\\getInfo(); // test\r\n  echo test\\HOST; // localhost:80\r\n  // è¿”å›æœ€è¿‘çš„ç©ºé–“å…ƒç´ \r\n  echo USER; // cindy\r\n  ```\r\n\r\n- é¡åˆ¥å…ƒç´ å¼•å…¥ï¼š\r\n\r\n`use ç©ºé–“\\ç©ºé–“\\ç©ºé–“\\é¡å…ƒç´ ;`\r\n\r\nç©ºé–“å¼•å…¥å¯ä»¥è§£æ±ºå®Œå…¨é™å®šåç¨±è¨ªå•å…ƒç´ çš„ç¹ç‘£æ€§ï¼Œä½†æ˜¯é‚„éœ€è¦é€éé™å®šåç¨±æ–¹å¼è¨ªå•ç©ºé–“ã€‚\r\n\r\nè‹¥å¼•å…¥ç©ºé–“çš„å…ƒç´ æ˜¯ classï¼Œå°±å¯ä»¥ç›´æ¥å°‡é€™å€‹é¡åˆ¥å¼•å…¥åˆ°ç•¶å‰ç©ºé–“ï¼Œä½¿ç”¨çš„æ™‚å€™ä¹Ÿå°±å¯ä»¥é€ééé™å®šåç¨±çš„æ–¹å¼è¨ªå•ã€‚\r\n\r\nç¨‹å¼ç¢¼ç›¸å°è¼ƒç‚ºç°¡æ½”ã€‚\r\n\r\n- é¡åˆ¥å…ƒç´ å¼•å…¥\r\n\r\n  ```php\r\n  namespace AAA\\aaa\\test;\r\n\r\n  class Shop\r\n  {\r\n    static $name = 'ivan';\r\n  }\r\n\r\n  namespace BBB\\bbb\\test;\r\n  const USER = 'cindy';\r\n\r\n  // å°‡ AAA\\aaa\\test\\Shop é¡åˆ¥å…ƒç´ å¼•å…¥\r\n  use AAA\\aaa\\test\\Shop;\r\n\r\n  // é€ééé™å®šåç¨±åœ¨æ­¤å‘½åç©ºé–“ä¸­å­˜å–å¼•å…¥çš„é¡åˆ¥ä¸­çš„å…ƒç´ \r\n  echo Shop::$name; // ivan\r\n  ```\r\n\r\n- é¡åˆ¥å…ƒç´ åœ¨å¼•å…¥æ™‚çš„ç‰¹æ®Šç‹€æ³\r\n  ç•¶å¼•å…¥é¡åˆ¥çš„å‘½åå’Œç•¶å‰ç©ºé–“çš„é¡åˆ¥åç¨±ç›¸åŒæ™‚ï¼š\r\n\r\n  ```php\r\n  namespace AAA\\aaa\\test;\r\n  class Shop\r\n  {\r\n    static $name = 'ivan';\r\n  }\r\n\r\n  namespace BBB\\bbb\\test;\r\n  const USER = 'cindy';\r\n  class Shop\r\n  {\r\n    static $name = 'jack';\r\n  }\r\n\r\n  // å°‡ AAA\\aaa\\test é¡åˆ¥å…ƒç´ ç›´æ¥å¼•å…¥\r\n  use AAA\\aaa\\test\\Shop;\r\n\r\n  // é€ééé™å®šåç¨±å­˜å–å¼•å…¥çš„é¡åˆ¥\r\n  echo Shop::$name; // error\r\n\r\n  // Fatal error: Cannot use AAA\\aaa\\test\\Shop as Shop because the name is already in use in...\r\n  ```\r\n\r\n  è§£æ±ºæ–¹æ³•ï¼šä½¿ç”¨åˆ¥å\r\n\r\n  `use ç©ºé–“\\å…ƒç´  as åˆ¥å;`\r\n\r\n  æŠŠå…¶ä»–ç©ºé–“çš„ä¸€å€‹é¡åˆ¥å…ƒç´ å¼•å…¥åˆ°ç•¶å‰ç©ºé–“ï¼Œè‹¥ç•¶å‰ç©ºé–“ä¹Ÿå·²æœ‰ä¸€å€‹åŒåçš„é¡åˆ¥å…ƒç´ ï¼Œå‰‡å¼•å…¥å…ƒç´ èˆ‡ç•¶å‰ç©ºé–“çš„å…ƒç´ å°±æœƒç”¢ç”Ÿè¡çªï¼Œç‚ºäº†é¿å…è¡çªï¼Œå¯ä»¥çµ¦å¼•å…¥çš„ç©ºé–“å…ƒç´ å–ä¸€å€‹åˆ¥åã€‚\r\n\r\n  å¼•å…¥çš„ Shop èˆ‡ç•¶å‰ç©ºé–“çš„ Shop æœ‰è¡çªå–åˆ¥åï¼š\r\n\r\n  ```php\r\n    namespace AAA\\aaa\\test;\r\n  class Shop\r\n  {\r\n    static $name = 'ivan';\r\n  }\r\n\r\n  namespace BBB\\bbb\\test;\r\n  const USER = 'cindy';\r\n  class Shop\r\n  {\r\n    static $name = 'jack';\r\n  }\r\n\r\n  // å°‡ AAA\\aaa\\test é¡åˆ¥å…ƒç´ ç›´æ¥å¼•å…¥\r\n  use AAA\\aaa\\test\\Shop as IntShop;\r\n\r\n  // é€éåˆ¥åå­˜å–å¼•å…¥çš„é¡åˆ¥\r\n  echo IntShop::$name; // ivan\r\n  echo Shop::$name; // jack\r\n  ```\r\n\r\n### å…¬å…±ç©ºé–“\r\n\r\nä¸€å€‹ php æ–‡ä»¶è£¡é¢æ²’æœ‰ namespace é—œéµå­—å®£å‘Šï¼Œå‰‡è©²æ–‡ä»¶çš„å…ƒç´ éƒ½å­˜åœ¨æ–¼å…¬å…±ç©ºé–“ã€‚\r\n\r\nå­˜å–å…¬å…±ç©ºé–“çš„å…ƒç´ çµ±ä¸€è¨­ç‚ºï¼š`\\å…ƒç´ `\r\n\r\n### CommonSpace.php include å¼•å…¥ CommonSpace1.php\r\n\r\n- CommonSpace.php\r\n\r\n  ```php\r\n  namespace AAA;\r\n\r\n  function f1() {\r\n    echo \"in good mood\";\r\n  }\r\n\r\n  // åœ¨å…¬å…±ç©ºé–“çš„æª”æ¡ˆæœƒè¢«å¼•å…¥ï¼Œé‡å°ç•¶å‰ç©ºé–“ä¸ç™¼ç”Ÿå½±æƒ³\r\n\r\n  include(\"CommonSpace1.php\"); // å…¬å…±ç©ºé–“\r\n\r\n  // å­˜å–å…ƒç´ \r\n  f1(); // in good mood ç•¶å‰ç©ºé–“å°±æ˜¯ AAA ç©ºé–“\r\n  echo \\NAME; // å­˜å–å…¬å…±ç©ºé–“çš„å…ƒç´ \r\n\r\n  // æœ¬èº«æœ‰å‘½åç©ºé–“ï¼Œå¼•å…¥çš„æª”æ¡ˆæ˜¯å…¬å…±ç©ºé–“ï¼Œæœ¬èº«çš„ç©ºé–“å­˜å–ä¸åˆ°æ™‚ï¼Œæœƒåˆ°åˆ¥çš„ç©ºé–“å»å°‹æ‰¾æ­¤å…ƒç´ \r\n  ```\r\n\r\n- CommonSpace1.php\r\n\r\n  ```php\r\n  const NAME = 'ivan';\r\n\r\n  function f1() {\r\n    echo \"okay\";\r\n  }\r\n\r\n  function f2() {\r\n    echo 'all good';\r\n  }\r\n  ```\r\n\r\nCommonSpace.php æœ‰ namespaceï¼ŒCommonSpace1.php æ²’æœ‰(CommonSpace1.php è™•æ–¼å…¬å…±ç©ºé–“)ã€‚è¢«å¼•å…¥çš„æª”æ¡ˆç©ºé–“ï¼Œæ­¤æ™‚è¢«å¼•å…¥çš„æ–‡ä»¶ CommonSpace1.php å±¬æ–¼å…¬å…±ç©ºé–“ï¼Œé‡å°ç•¶å‰ç©ºé–“ä¸ç™¼ç”Ÿå½±éŸ¿ã€‚\r\n\r\n- é€ééé™å®šåç¨±å‘¼å«ä¸€å€‹å…ƒç´ (functionã€å¸¸æ•¸)\r\n  - é¦–å…ˆå–å¾—æœ¬ç©ºé–“å…ƒç´ \r\n  - å…¶æ¬¡å–å¾—å…¬å…±ç©ºé–“å…ƒç´ \r\n\r\nè‹¥åœ¨ CommonSpace.php ä¸­å°‡ function fi() è¨»è§£ï¼Œæ­¤æ™‚ f1() å‘¼å«çš„ function ç‚ºå…¬å…±ç©ºé–“ function f1()ï¼Œè¼¸å‡ºï¼š\r\n\r\n```txt\r\nokay\r\nivan\r\n```\r\n\r\nå°‡ CommonSpace.php çš„ function f1() å–æ¶ˆè¨»è§£ï¼Œæ­¤æ™‚ f1() å‘¼å«çš„æ˜¯ AAA å‘½åç©ºé–“çš„ function f1()ã€‚\r\n\r\n```txt\r\nin good mood\r\nivan\r\n```\r\n\r\n### ReverseCommonSpace.php include å¼•å…¥ ReverseCommonSpace ï¼‘.php\r\n\r\n- ReverseCommonSpace.php\r\n\r\n  ```php\r\n  function f1() {\r\n    echo \"in good mood\";\r\n  }\r\n\r\n  const NAME = \"cindy\";\r\n\r\n  function f2() {\r\n    echo \"good\";\r\n  }\r\n\r\n  include(\"ReverseCommonSpace1.php\") // æœ‰å‘½åç©ºé–“\r\n\r\n  \\f2(); // good å­˜å–å…¬å…±ç©ºé–“éœ€è¦æœ‰\"åæ–œç·š\"ï¼Œæé«˜ç¨‹å¼ç¢¼å¯è®€æ€§\r\n  echo NAME;\r\n  echo \\AAA\\NAME;\r\n  // f3(); // ç„¡æ³•å­˜å–æœƒå ±éŒ¯ï¼Œæ­£ç¢ºçš„å­˜å–å¯«æ³•ç‚ºï¼š \\AAA\\f3();\r\n  \\AAA\\f3();\r\n\r\n  // æœ¬èº«æ˜¯å…¬å…±ç©ºé–“ï¼Œå¼•å…¥çš„æª”æ¡ˆæ˜¯æœ‰å‘½åç©ºé–“çš„ï¼Œæœ¬èº«çš„ç©ºé–“ç„¡æ³•å­˜å–æ™‚ï¼Œä¸æœƒåˆ°åˆ¥çš„ç©ºé–“å»æ‰¾å°‹å…ƒç´ ã€‚\r\n  ```\r\n\r\n  è‹¥ f3(); æ²’æœ‰è¨»è§£æ‰æœƒå ±éŒ¯ï¼š\r\n\r\n  ```txt\r\n  good\r\n  cindy\r\n  ivan\r\n\r\n  (!) Fatal error: Uncaught Error: Call to undefined function f3() in...\r\n  ```\r\n\r\n  å°‡å…¶è¨»è§£å¾Œè¼¸å‡ºï¼š\r\n\r\n  ```txt\r\n  good\r\n  cindy\r\n  ivan\r\n  buy book\r\n  ```\r\n\r\n- ReverseCommonSpace1.php\r\n\r\n  ```php\r\n  namespace AAA;\r\n\r\n  const NAME = 'ivan';\r\n\r\n  function f2() {\r\n    echo 'good';\r\n  }\r\n\r\n  function f3(){\r\n    echo \"buy book\";\r\n  }\r\n  ```\r\n\r\n## ç¯„ä¾‹èˆ‡ç¸½çµ\r\n\r\n### éŒ¯èª¤ç¯„ä¾‹\r\n\r\n```php\r\nconst USER = 'ivan';\r\n\r\nnamespace AAA;\r\n\r\nfunction getInfo() {\r\n  echo 'OK';\r\n}\r\n\r\n// Fatal error: Namespace declaration statement has to be the very first statement or after any declare call in the script in...\r\n```\r\n\r\næ­£ç¢ºåšæ³•ï¼š\r\n\r\n```php\r\nnamespace AAA;\r\n\r\nconst USER = 'ivan';\r\n\r\nfunction getInfo() {\r\n  echo 'OK';\r\n}\r\n\r\ngetInfo(); // OK\r\n```\r\n\r\nä¸èƒ½å®£å‘Šå¸¸æ•¸åœ¨å…¬å…±ç©ºé–“ï¼Œè€Œ function åœ¨å‘½åç©ºé–“ã€‚\r\n\r\nå®£å‘Šå‘½åç©ºé–“æ™‚ï¼Œåœ¨ namespace é—œéµå­—å‰é¢ä¸èƒ½æœ‰ä»»ä½•ç¨‹å¼ç¢¼ï¼ŒåŒ…åˆ® header ä¹Ÿè¦å¯«åœ¨ä¸‹é¢ã€‚\r\n\r\n### å‘½åç©ºé–“ç¸½çµ\r\n\r\n1. å®£å‘Šå‘½åç©ºé–“æ™‚ï¼Œåœ¨ namespace é—œéµå­—å‰é¢ä¸èƒ½æœ‰ä»»ä½•ç¨‹å¼ç¢¼(å¯ä»¥è¨»è§£)ï¼ŒåŒ…åˆ® header ä¹Ÿè¦å¯«åœ¨ä¸‹é¢ã€‚\r\n2. å‘½åç©ºé–“æ˜¯è™›æ“¬æŠ½è±¡çš„ç©ºé–“ï¼ŒéçœŸå¯¦çš„æª”æ¡ˆè·¯å¾‘ã€‚\r\n3. åŒä¸€è«‹æ±‚å¤šæª”æ¡ˆå¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‘½åç©ºé–“ï¼Œåªè¦é€™äº›æª”æ¡ˆä¸­ä¸æœƒå‡ºç¾å¤šçš„åŒåç¨±ã€åŒé¡å‹çš„å…ƒç´ (function, const)å³å¯ã€‚\r\n","date":"2023-08-17T02:56:23.921Z","matchingLines":["## ä»€éº¼æ˜¯å‘½åç©ºé–“\r","## ä½¿ç”¨å‘½åç©ºé–“\r","## é–“å–®çš„å…ƒç´ å­˜å–\r","## å­ç´š(å¤šç´š)ç©ºé–“\r","## å¼•å…¥æ©Ÿåˆ¶\r","## ç¯„ä¾‹èˆ‡ç¸½çµ\r"],"tocContent":""},{"name":"ç¶²åŸŸè¨­å®š.md","content":"# ç¶²åŸŸè¨­å®šå­¸ç¿’ç­†è¨˜\r\n\r\n## ç¶²å€ URL\r\n\r\nURL å…¶å¯¦å°±æ˜¯ã€Œç¶²å€ã€ç¶²ç«™çš„ä½å€ã€‚\r\n\r\nç¶²å€çš„æ§‹æˆæ˜¯ç”±é€šä¿¡å”å®šèˆ‡ç¶²åŸŸåç¨±æ§‹æˆã€‚\r\n\r\n| é€šä¿¡å”å®š |     ç¶²åŸŸåç¨±      |\r\n| :------: | :---------------: |\r\n|  https   | www.google.com.tw |\r\n\r\n## DNS è·Ÿç¶²åŸŸåç¨±(Domain Name)\r\n\r\nDNS çš„å…¨åå«åš Domain Name Systemï¼Œä¸­æ–‡å«åšã€Œç¶²åŸŸåç¨±ç³»çµ±ã€ã€‚\r\n\r\nä»–æœƒè¨˜éŒ„åŸŸåæŒ‡å‘åˆ°å“ªä¸€å€‹ ip ä½å€ï¼Œè€Œä»–é‹ä½œçš„æ–¹å¼ç‚ºä¾ç…§ URL å€’åºï¼Œå…ˆå•æ ¹ä¸»æ©Ÿ root æ­¤åŸŸåçš„æ‰€å±¬ä½ç½®\r\n\r\nå¦‚ä¸Šé¢çš„ä¾‹å­ google.com.tw ç‚º .tw å› æ­¤çŸ¥é“æ˜¯åœ¨å°ç£ï¼Œæ¥è‘—å• google çš„è¨—ç®¡æœå‹™æä¾›å•†ä½å€ï¼Œæœ€å¾Œå–å¾— ipã€‚\r\n\r\n### å­ç¶²åŸŸ\r\n\r\næœ€é€šç”¨çš„ä¾‹å­å°±æ˜¯åœ¨ä¸»ç¶²åŸŸå‰é¢åŠ ä¸Š wwwï¼Œä¾‹å¦‚ï¼šwww.google.com.tw\r\n\r\nä½†ä¸€èˆ¬è€Œè¨€ï¼Œä¸æœƒå°‡ www.google.com å’Œ google.com è¨­åœ¨ä¸åŒç¶²ç«™ä¸Šé¢ï¼Œé¿å…èª¤å°ã€‚\r\n\r\nè€Œå­ç¶²åŸŸæ˜¯å¯ä»¥è‡ªè¡Œå‘½åçš„ï¼Œä¸€èˆ¬å¤šä»¥æ•¸å­—èˆ‡è‹±æ–‡å°å¯«ä¾†é€²è¡Œå‘½å\r\n\r\n#### ä»¥ Bluehost ç‚ºä¾‹\r\n\r\nåœ¨ bluehost çš„å¾Œå°ï¼Œé»é¸ domain å†é»é¸ manageï¼Œå¯ä»¥çœ‹åˆ°è£¡é¢è¨˜éŒ„çš„æ¸…å–®ï¼Œæ¸…å–®ä¸­çš„åå­—éƒ½æŒ‡å‘ç›¸åŒçš„ ip ä½å€ã€‚\r\n","date":"2023-08-16T00:53:55.694Z","matchingLines":["## ç¶²å€ URL\r","## DNS è·Ÿç¶²åŸŸåç¨±(Domain Name)\r"],"tocContent":""},{"name":"ç‰©è¯ç¶².md","content":"# ç‰©è¯ç¶²\r\n\r\n## ç‰©è¯ç¶²çš„æ¶æ§‹\r\n\r\nä¸»è¦å¯ä»¥åˆ†ç‚ºä¸‰å±¤\r\n\r\n- æ„ŸçŸ¥å±¤\r\n- ç¶²è·¯å±¤\r\n- æ‡‰ç”¨å±¤\r\n\r\n### æ„ŸçŸ¥å±¤ï¼šç‰©è¯ç¶²çš„åŸºç¤\r\n\r\nå„å¼å„æ¨£çš„æ„Ÿæ¸¬å™¨ (Sensor) å°‡æ“·å–åˆ°çš„ä¿¡è™Ÿï¼Œé€é TCP/IPã€RS485ã€RS232ã€USBã€RFIDã€ZigBeeã€Bluetooth ç­‰å‚³è¼¸å”å®šè½‰é€çµ¦ç¶²è·¯å±¤\r\n\r\n- é—œéµæŠ€è¡“\r\n  - ç„¡ç·šæ„Ÿæ¸¬æŠ€è¡“\r\n    - åŠ é€Ÿåº¦æ„Ÿæ¸¬ã€æ¿•åº¦æ„Ÿæ¸¬å™¨ã€å£“åŠ›æ„Ÿæ¸¬å™¨ã€ä½ç§»æ„Ÿæ¸¬å™¨......\r\n  - è¾¨è­˜æŠ€è¡“\r\n    - RFID è¾¨è­˜\r\n    - ä¸€ç¶­æ¢ç¢¼\r\n    - QR code\r\n\r\n### ç¶²è·¯å±¤ï¼šè³‡æ–™è™•ç†é›†é€åœ°\r\n\r\nè™•ç†æ„ŸçŸ¥å±¤è’é›†åˆ°çš„è³‡æ–™é€²è¡ŒåŸºæœ¬çš„è³‡æ–™äº¤æ›ï¼Œåˆ¤æ–·æ˜¯è¦é€å¾€é›²ç«¯æˆ–ä¼ºæœå™¨ï¼Œäº¦æˆ–æ˜¯ç›´æ¥æ¡å–é©ç•¶çš„å‹•ä½œã€‚é€™ä¸€å±¤é€šå¸¸æœƒæœ‰é–˜é“å™¨(gateway)ä¾†å°‡ä¸åŒçš„é€šè¨ŠæŠ€è¡“çµåˆï¼Œä¾‹å¦‚æ„Ÿæ¸¬å™¨é€é zigbee å‚³å‡ºçš„è¨Šè™Ÿï¼Œä½†ä¸€èˆ¬æ‰‹æ©Ÿç„¡æ³•æ¥æ”¶é€™ç¨®è¨Šè™Ÿã€‚æ­¤æ™‚ gateway æœƒå°‡æ¥æ”¶åˆ°çš„è¨Šæ¯ç¿»è­¯å¾Œï¼Œå†é€é wifi å‚³çµ¦æ‰‹æ©Ÿï¼Œç¨±ç‚ºç•°è³ªç¶²è·¯æ•´åˆã€‚æˆ–æä¾›é€²å…¥é›²ç«¯ä¹‹å¾Œï¼Œå¤§çœ¾ç¶“å¸¸æœƒç”¨åˆ°çš„æœå‹™ï¼šæœå°‹å¼•æ“ã€ç¶²è·¯ç¡¬ç¢Ÿã€web mellã€web officeã€GS ç­‰\r\n\r\n- é—œéµæŠ€è¡“\r\n  - æœ‰ç·šç¶²è·¯æŠ€è¡“\r\n    - é›»ä¿¡ç¶²\r\n    - æœ‰ç·šé›»è¦–ç¶²\r\n    - é›»è…¦ç¶²è·¯\r\n  - ç„¡ç·šç¶²è·¯æŠ€è¡“\r\n  - body area networks\r\n    - ä»¥äººç‚ºä¸­å¿ƒï¼Œæœå‹™ç¯„åœä¸è¶…éå…©å…¬å°º\r\n    - æ¨™æº–å”å®šï¼šIEEE 802.15.6\r\n  - Personal Areas Networks\r\n    - çŸ­è·é›¢æ‡‰ç”¨åœ¨å®¶åº­ç’°å¢ƒä¸­ï¼Œæœå‹™ç¯„åœä¸è¶…é 10 å…¬å°º\r\n    - IEEE æ¨™æº–å”å®šï¼š Zigbee, Bluetooth, UWB\r\n  - Wireless Local Areas Networks\r\n    - ä»‹æ–¼å­ç¶²è·¯åŠå¤–éƒ¨ç¶²è·¯ä¹‹é–“\r\n    - æ¨™æº–å”å®šï¼šIEEE 802.11\r\n  - Metropolitan Area Network\r\n    - ä»‹æ–¼ LAN å’Œ WAN ä¹‹é–“èƒ½å‚³è¼¸èªéŸ³èˆ‡è³‡æ–™çš„å…¬ç”¨ç¶²è·¯ï¼Œæœå‹™ç¯„åœ 2 åˆ° 4 å…¬é‡Œ\r\n    - æ¨™æº–å”å®šï¼šIEEE 802.16\r\n  - 3G(3rd-generation)\r\n    - æ˜¯æŒ‡æ”¯æŒé«˜é€Ÿæ•¸æ“šå‚³è¼¸çš„ç´°èƒç§»å‹•é€šè¨ŠæŠ€è¡“ã€‚3G æœå‹™èƒ½å¤ åŒæ™‚å‚³é€è²éŸ³ï¼ˆé€šè©±ï¼‰åŠæ•¸æ“šè³‡è¨Šï¼ˆé›»å­éƒµä»¶ã€å³æ™‚é€šè¨Šç­‰ï¼‰ã€‚3G çš„ ä»£è¡¨ç‰¹å¾µæ˜¯ æä¾›é«˜é€Ÿæ•¸æ“šæ¥­å‹™ï¼Œé€Ÿç‡ä¸€èˆ¬åœ¨å¹¾ç™¾ kpbs ä»¥ä¸Š\r\n  - LTE(Long Term Evolution)\r\n  - è³‡æ–™äº’é€šæ€§\r\n  - é›²ç«¯è™•ç†æŠ€è¡“\r\n\r\n### æ‡‰ç”¨å±¤ï¼šæ•¸æ“šåˆ†æèˆ‡æ‡‰ç”¨\r\n\r\nå°‡å‰é¢æ„ŸçŸ¥å±¤è’é›†åˆ°çš„è³‡æ–™ä¾ç…§ä¸åŒçš„éœ€æ±‚ã€ä¸åŒé ˜åŸŸè½‰åŒ–æˆå¯¦éš›çš„æ‡‰ç”¨ï¼Œç¾åœ¨å¸¸è½åˆ°çš„å¤§æ•¸æ“šã€äººå·¥æ™ºæ…§åœ¨é€™å±¤é¢æ‰®æ¼”å¾ˆé‡è¦çš„è§’è‰²ã€‚\r\n\r\n- å¾å®¶åº­åŠå€‹äººçš„é£Ÿã€è¡£ã€ä½ã€è¡Œã€è‚²ã€æ¨‚ï¼Œä¹ƒè‡³å·¥æ¥­ã€è¾²æ¥­ã€é†«ç™‚ã€å­¸ç¿’ã€åŠä¼æ¥­/æ”¿åºœæ‰€éœ€çš„ç’°å¢ƒç›£æ§ã€äº¤é€šç®¡ç†ã€è³‡æºç®¡ç†ç­‰\r\n- å°‡ç¶²è·¯å±¤è’é›†åˆ°çš„è³‡è¨Šåšå¾Œè£½è™•ç†\r\n","date":"2023-08-14T06:10:24.878Z","matchingLines":["## ç‰©è¯ç¶²çš„æ¶æ§‹\r"],"tocContent":""},{"name":"CSSå­¸ç¿’ç­†è¨˜.md","content":"# CSS å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n> å°‡æ‰€æœ‰ç‰©ä»¶åŠ ä¸Šå¤–æ¡†\r\n>\r\n> ```css\r\n> * {\r\n>   outline: 1px solid #000;\r\n> }\r\n> ```\r\n\r\n## å¾Œè£”é¸æ“‡å™¨\r\n\r\n### åŸºæœ¬é¡å‹\r\n\r\n- æ¨™ç±¤ `#id` `.class`\r\n\r\n- div æ¨™ç±¤å’Œ span æ¨™ç±¤\r\n\r\n  ```css\r\n  div,\r\n  span {\r\n    //\r\n  }\r\n  ```\r\n\r\n### è¤‡åˆå‹\r\n\r\n- div æ¨™ç±¤åº•ä¸‹ï¼Œç‚º span æ¨™ç±¤\r\n\r\n  ```css\r\n  div > span {\r\n    //\r\n  }\r\n  ```\r\n\r\n- div æ¨™ç±¤å…§æ‰€æœ‰çš„ span æ¨™ç±¤\r\n\r\n  ```css\r\n  div span {\r\n    //\r\n  }\r\n  ```\r\n\r\n- div æ¨™ç±¤ä¹‹å¾Œçš„ç¬¬ä¸€å€‹ span æ¨™ç±¤\r\n\r\n  ```css\r\n  div + span {\r\n    //\r\n  }\r\n  ```\r\n\r\n- div æ¨™ç±¤ä¹‹å¾Œçš„æ‰€æœ‰ span æ¨™ç±¤\r\n\r\n  ```css\r\n  div ~ span {\r\n    //\r\n  }\r\n  ```\r\n\r\n## å±¬æ€§é¸æ“‡å™¨`[]`\r\n\r\nå¯ç›´æ¥æŸ¥æ‰¾ä»»ä½•å±¬æ€§å…§å…ƒç´ (ex:`class`, `div`, `title`, `href`,....)ï¼Œäº¦å¯ä½¿ç”¨æ–¼ç›´æ¥æŒ‡å®šå±¬æ€§\r\n\r\n- `|` ç¬¦è™Ÿç‚ºå±¬æ€§ï¼ŒåŒ…å«`[foo]`ä¸”å¿…åœ¨é–‹é ­ï¼Œé ˆç‚ºç¨ç«‹å­—å…ƒã€ç‰¹å®šå–®è©ï¼Œä»¥åŠå­—å…ƒå¾ŒåŠ ä¸Šé€£æ¥ç¬¦è™Ÿ `-`\r\n\r\n  ```css\r\n  p[class|=\"red\"] {\r\n    //\r\n  }\r\n  ```\r\n\r\n- `~` ç¬¦è™Ÿç‚ºå±¬æ€§åªè¦æœ‰åŒ…å«`[foo]`ï¼Œç„¡é †åºå•é¡Œï¼Œéœ€ç‚ºç¨ç«‹å­—å…ƒã€ç‰¹å®šå–®è©\r\n\r\n  ```css\r\n  a[herf~=\"apple\"] {\r\n    //\r\n  }\r\n  ```\r\n\r\n- `^` ç¬¦è™Ÿç‚ºå±¬æ€§ä½¿ç”¨`[foo]`é–‹é ­ï¼Œä¸ç‰¹å®šç¨ç«‹å­—å…ƒ\r\n\r\n  ```css\r\n  a[herf^=\"http\"] {\r\n    //\r\n  }\r\n  ```\r\n\r\n- `$` ç¬¦è™Ÿç‚ºå±¬æ€§ä½¿ç”¨`[foo]`çµå°¾ï¼Œä¸ç‰¹å®šç¨ç«‹å­—å…ƒ\r\n\r\n  ```css\r\n  a[herf$=\"selectors.asp\"] {\r\n    //\r\n  }\r\n  ```\r\n\r\n- `*` ç¬¦è™Ÿç‚ºå±¬æ€§å…§å«æœ‰`[foo]`ï¼Œä¸ç‰¹å®šç¨ç«‹å­—å…ƒ\r\n\r\n  ```css\r\n  a[herf*=\"pseudo\"] {\r\n    //\r\n  }\r\n  ```\r\n\r\n## è¡¨æ ¼\r\n\r\n- å°‡æ¨™ç±¤åšæˆè¡¨æ ¼\r\n\r\n  ```css\r\n  .class {\r\n    display: grid;\r\n    //\r\n  }\r\n  ```\r\n\r\n## å½å…ƒç´ \r\n\r\n- åœ¨åŸæœ¬çš„å…ƒç´ ã€Œä¹‹å‰ã€åŠ å…¥å…§å®¹\r\n\r\n  ```css\r\n  ::before ;\r\n  ```\r\n\r\n- åœ¨åŸæœ¬çš„å…ƒç´ ã€Œä¹‹å¾Œã€åŠ å…¥å…§å®¹\r\n\r\n  ```css\r\n  ::after ;\r\n  ```\r\n\r\n- å…©è€…éƒ½æ˜¯ä»¥ display: inline-block;å±¬æ€§å­˜åœ¨\r\n- å½å…ƒç´ æœƒã€Œç¹¼æ‰¿ã€åŸæœ¬å…ƒç´ çš„å±¬æ€§\r\n- å½å…ƒç´ ä¸€å®šè¦åŠ ä¸Š content çš„å±¬æ€§ï¼Œæ²’æœ‰ content å½å…ƒç´ ä¸æœƒå‡ºç¾åœ¨ç•«é¢ä¸Š\r\n\r\n## `display:none`å’Œ`visibility:hidden`çš„å·®åˆ¥\r\n\r\nç•¶ä½¿ç”¨ `visibility:hidden` æ™‚ï¼Œç‰©ä»¶æ˜¯ç¢ºå¯¦çš„è¢«éš±è—çš„ï¼Œä½†ä¾ç„¶ä¿æœ‰ç‰©ä»¶çš„ä½ç½®\r\n\r\nä¾‹å¦‚ï¼šç•¶è¡¨æ ¼å…§çš„æ¨™ç±¤åŠ ä¸Š `visibility:hidden` æ™‚ï¼Œå…¶å„²å­˜æ ¼ä¸­çš„å€¼æœƒè¢«éš±è—ï¼Œä½†å„²å­˜æ ¼ä¸æœƒæ¶ˆå¤±\r\n\r\nç•¶ä½¿ç”¨ `display:none` æ™‚ï¼Œç‰©ä»¶åŠå…¶åŸæœ¬çš„ä½ç½®éƒ½æœƒè¢«éš±è—\r\n\r\n## Display\r\n\r\n### Display Outside\r\n\r\n#### Block å€å¡Šå…ƒç´ \r\n\r\n- ç¸½æ˜¯ä»¥æ–°çš„ä¸€è¡Œé–‹å§‹ï¼Œæ‰€ä»¥ç„¡è«–è¨­å®šå¤šå°‘å¯¬åº¦ï¼Œä»–åŸºæœ¬å®¹å™¨çš„å¯¬åº¦ï¼Œé‚„æ˜¯æœƒæ’æ»¿æ•´å€‹ç©ºé–“ã€‚\r\n- å³ä½¿å®¹å™¨ä¸­çš„å…ƒç´ å·²ç¶“è¢«èª¿æ•´æˆ 50%ï¼Œä½†ä»–é‚„æ˜¯æœƒå°‡å¾Œé¢çš„å…ƒç´ æ’æ“ åœ¨ä¸‹é¢ã€‚\r\n\r\n#### Inline è¡Œå…§å…ƒç´ \r\n\r\n- åˆç¨±ç·šå…§å…ƒç´ ï¼Œå…ƒç´ æœ¬èº«é«˜åº¦å¤šå°‘ä»–å°±æ˜¯å¤šå°‘ï¼Œç„¡æ³•èª¿æ•´å¯¬é«˜ï¼Œæ­¤å¤–ä»–å¯ä»¥è¨­å®š padding çš„ä¸Šä¸‹å·¦å³ï¼Œè€Œ margin åªèƒ½è¨­å®šä»–çš„å·¦å³ã€‚\r\n- inline å±¬æ€§é è¨­å…ƒç´ çš„æ’åˆ—ç‚ºç”±å·¦åˆ°å³ï¼Œç›´åˆ°è£æ»¿å®¹å™¨ã€‚\r\n\r\n### Display Inside\r\n\r\n#### Table\r\n\r\n- å¯ä»¥å°‡å…ƒç´ ç›´æ¥æ¨¡æ“¬æˆ table ä¾†ä½¿ç”¨ã€‚\r\n\r\n  - Table-Row å°æ‡‰ `<tr>`\r\n  - Table-Row-Group å°æ‡‰ `<tbody>`\r\n  - Table-Cell `<td>`\r\n  - Table-caption `<caption`\r\n  - Table-Column `<col>`\r\n  - Table-Column-Group `<colgroup>`\r\n  - Table-Header-Group `<thead>`\r\n  - Table-Footer-Group `<tfooder>`\r\n\r\n#### Flex\r\n\r\n- è¨­å®š flex å±¬æ€§ä¹‹å‰ï¼Œéœ€å…ˆè¨­å®šçˆ¶å±¤å®¹å™¨ display: flex\r\n\r\n##### Flex-direction æ–¹å‘æ€§\r\n\r\n- æ°´å¹³æ–¹å‘(ç€è¦½å™¨é è¨­)ï¼šrow, row-reverse(æ°´å¹³æ–¹å‘åè½‰)\r\n- å‚ç›´æ–¹å‘ï¼šcolumn, column-reverse(å‚ç›´æ–¹å‘åè½‰)\r\n\r\n##### justify-content èª¿æ•´å…§å®¹\r\n\r\n- æ”¹è®Š flex ç‰©ä»¶åœ¨ä¸»è»¸ä¸Šçš„å°é½Š(é è¨­ç‚ºæ°´å¹³æ–¹å‘)ï¼Œè‹¥ flex-direction ç‚º columnï¼Œå‰‡å°é½Šæ–¹å‘æ”¹ç‚ºå‚ç›´æ–¹å‘(y è»¸)\r\n  - justify-content: flex-start ä»¥èµ·é»ç‚ºåŸºæº–\r\n  - justify-content: flex-end ä»¥å°¾ç«¯ç‚ºåŸºæº–\r\n  - justify-content: center ä»¥ä¸­é–“ç‚ºåŸºæº–\r\n  - justify-content: space-between æœƒå°‡ç‰©ä»¶ä¾å®¹å™¨å¤§å°å‡åˆ†\r\n  - justify-content: space-around æœƒå°‡ç‰©ä»¶ä¾å®¹å™¨å¤§å°å‡åˆ†ï¼Œä¸¦æœƒçµ¦å·¦å³ç©ºé–“\r\n\r\n##### align-items å°é½Šç‰©ä»¶\r\n\r\n- æ”¹è®Šæ©«è»¸ä¸Šæ‰€æœ‰ flex ç‰©ä»¶çš„å°é½Š(é è¨­ç‚ºå‚ç›´æ–¹å‘)ï¼Œè‹¥ flex-direction ç‚º columnï¼Œå‰‡å°å…¶æ–¹å‘æœƒæ”¹ç‚ºæ°´å¹³æ–¹å‘(x è»¸)\r\n  - align-items: flex-start ä»¥èµ·é»ç‚ºåŸºæº–\r\n  - align-items: flex-end ä»¥å°¾ç«¯ç‚ºåŸºæº–\r\n  - align-items: center ä»¥ä¸­é–“ç‚ºåŸºæº–\r\n  - align-items: baseline ä»¥ç‰©ä»¶åŸºæº–ç·šç‚ºåŸºæº–\r\n  - align-items: strrtch ä»¥èµ·é»ç‚ºåŸºæº–ï¼Œä½†æœƒæ’æ»¿å®¹å™¨(ç€è¦½å™¨é è¨­)\r\n\r\n##### align-self è‡ªèº«å°é½Š\r\n\r\n- å–®ç¨æ”¹è®Šç‰©ä»¶åœ¨æ©«è»¸ä¸Šçš„å°é½Š(é è¨­ç‚ºå‚ç›´æ–¹å‘)ï¼Œè‹¥ flex-direction ç‚º columnï¼Œå‰‡å°é½Šæ–¹å‘å‰‡æ”¹ç‚ºæ°´å¹³æ–¹å‘(x è»¸)\r\n  - align-seelf: flex-start ä»¥èµ·é»ç‚ºåŸºæº–\r\n  - align-seelf: flex-end ä»¥å°¾ç«¯ç‚ºåŸºæº–\r\n  - align-seelf: center ä»¥ä¸­é–“ç‚ºåŸºæº–\r\n  - align-seelf: baseline ä»¥ç‰©ä»¶åŸºæº–ç·šç‚ºåŸºæº–\r\n  - align-seelf: strrtch ä»¥èµ·é»ç‚ºåŸºæº–ï¼Œä½†æœƒæ’æ»¿å®¹å™¨(ç€è¦½å™¨é è¨­)\r\n\r\n#### Wrap æ–·è¡Œ\r\n\r\n- Flex-Nowrapï¼šå¼·åˆ¶ä¸æ–·è¡Œã€‚\r\n- Flex-Wrapï¼šè£æ»¿å®¹å™¨æœƒå¼·åˆ¶æ–·è¡Œã€‚\r\n- Flex-Wrap-Reverseï¼šè£æ»¿å®¹å™¨æœƒå¼·åˆ¶æ–·è¡Œï¼Œä½†æ’åˆ—é †åºæ˜¯ç›¸åçš„ã€‚\r\n\r\n### Global å…¨åŸŸå±¬æ€§\r\n\r\n- é™¤äº† display ä»¥å¤–ï¼Œé½Šä»–ä»»æ„å±¬æ€§éƒ½èƒ½ä½¿ç”¨\r\n\r\n#### inherit è·Ÿéš¨çˆ¶å±¤å±¬æ€§\r\n\r\n- ç•¶çˆ¶å±¤å±¬æ€§ç‚º blockï¼Œå­å±¤ä¸‹ Display:Inherit æ™‚ï¼Œå­å±¤å±¬æ€§ä¹Ÿæœƒè®Šæˆ block\r\n\r\n#### initial è®Šå›åŸæœ¬å±¬æ€§\r\n\r\n- å‡å¦‚æˆ‘ div å±¬æ€§åœ¨æŸç¨®æƒ…æ³ä¸‹æ›´æ”¹ç‚º inline å±¬æ€§ï¼Œé‚£æˆ‘å¾Œé¢æœ‰åƒåˆ°åŒæ¨£ CSS çš„ div æƒ³æ”¹å› Blockï¼Œæˆ‘åªè¦ä¸‹ Display:Initialï¼Œå°±æœƒè®Šå› Div åŸæœ¬çš„ Block å±¬æ€§\r\n\r\n### Display-Box å½±éŸ¿ç”¨ç®±å­è£èµ·ä¾†çš„æ‰€æœ‰å…ƒç´ \r\n\r\n#### none\r\n\r\n- è‹¥è¢« display: none; çš„ div è£èµ·ä¾†çš„å…ƒç´ ï¼Œæœƒè¢«éš±è—ã€‚\r\n\r\n### Display-Legacy æ­¤å±¬æ€§ç¹¼æ‰¿å…©è€…çš„ç‰¹æ€§\r\n\r\n#### inline-block\r\n\r\n- è®“è¨±å¤šå€å¡Šè‡ªå‹•æµ®èµ·ä¾†æ°´å¹³æ’åˆ—ï¼Œä¸”ä¸ç”¨é¡å¤–è¨­å®š clear ä¹Ÿä¸æœƒè®“æ¥è‘—çš„å…ƒç´ æµ®ä¸Šä¾†è“‹ä½å€å¡Š\r\n\r\n#### inline-table\r\n\r\n#### inline-flex\r\n\r\n- flex æ™‚çˆ¶å…ƒç´ ç‚º blockï¼Œè€Œ inline-flex å‰‡æ˜¯çˆ¶å…ƒç´ è®Šæˆ inlineï¼Œä»–æœƒæ ¹æ“šå­å…ƒç´ æ‰€æœ‰çš„ div å¤§å°è‡ªé©æ‡‰å¯¬åº¦å’Œé«˜åº¦\r\n\r\n## HTML ä½ˆå±€\r\n\r\n### ç›’å­æ¨¡å‹\r\n\r\nåœ¨ HTML ä¸­å…ƒç´ çš„ç›’å­æ¨¡å‹åˆ†ç‚ºå…©ç¨®ï¼Œå¡Šç‹€å…ƒç´ (block)å’Œè¡Œå…§å…ƒç´ (inline)ã€‚å…¶å…©ç¨®å…ƒç´ å’Œ display å±¬æ€§ä¸­çš„ inline block å…©å€‹å±¬æ€§ä¸ç›¡ç›¸åŒã€‚\r\n\r\nç›’å­æ¨¡å‹ä¸­çš„ inline, block é¡ä¼¼æ–¼ display å±¬æ€§çš„çˆ¶é¡ï¼Œå¦‚ï¼šdisplay å±¬æ€§ä¸­çš„ list-item å±¬æ€§è³ªæ˜¯å±¬æ–¼å¡Šç‹€(block)é¡å‹ã€‚\r\n\r\nå¡Šç‹€(block)å’Œè¡Œå…§(inline)çš„å€åˆ¥:\r\n\r\n- block å¯ä»¥è¨­ç½® width, height å±¬æ€§ã€‚inline è¨­ç½®ç„¡æ•ˆã€‚\r\n- block é¡å‹çš„å…ƒç´ æœƒç¨ä½”ä¸€è¡Œï¼Œè€Œ inline æœƒåœ¨åŒä¸€è¡Œå…§é¡¯ç¤º\r\n- block å…ƒç´ çš„ width é è¨­ç‚º 100%ï¼Œè€Œ inline å‰‡æ˜¯æ ¹æ“šè‡ªèº«çš„ å…§å®¹åŠå­å…ƒç´ ä¾†æ±ºå®šå¯¬åº¦ã€‚\r\n\r\nä¸‹é¢æ˜¯ä¸€äº›å¸¸è¦‹çš„å…ƒç´ åˆ†é¡\r\n\r\n- block: p, div, ul, il, dd, dt......\r\n- inline: a, img, span, strong\r\n\r\n### Position\r\n\r\n> è¨­å®šç‰©ä»¶å®šä½æ™‚æ‰€è¦çš„åƒè€ƒå°è±¡\r\n\r\n- ç›®å‰å¯ä»¥ç”¨çš„\r\n  - static éœæ…‹çš„\r\n  - relative ç›¸å°å®šä½\r\n  - fixed å›ºå®šå®šä½\r\n  - absolute çµ•å°å®šä½\r\n  - sticky é»è²¼å®šä½\r\n\r\n#### Static\r\n\r\néœæ…‹å®šä½ï¼Œå°‡å…¶ä»–å®šä½ç‰¹æ€§å–æ¶ˆï¼Œå›åˆ°æœ€åŸå§‹çš„ç‹€æ…‹ï¼Œç‚ºä¸€èˆ¬ç¶²é æœ€åŸå§‹çš„é è¨­å€¼ã€‚\r\n\r\n#### Relative\r\n\r\nç›¸å°å®šä½ï¼Œå°‡è¨­å®šçš„ç‰©ä»¶å…¶åƒè€ƒç©ºé–“ï¼Œè¨­å®šç‚ºè‡ªèº«åŸå§‹çš„è³‡æ–™æµä½ç½®ï¼Œä¸”æ­¤ç¨®å®šä½å€¼ä¸¦ä¸æœƒå°‡ç‰©ä»¶ç¨ç«‹ä¸€å±¤ï¼Œæ­é…å…¶ä»– css å±¬æ€§å¦‚ï¼š`top`, `bottom`, `left`, `right`å¯ä»¥åšåˆ°é¡¯ç¤ºä½ç½®çš„åç§»ã€‚\r\n\r\n#### Absolute\r\n\r\nçµ•å°å®šä½ï¼Œå°‡è¨­å®šçš„ç‰©ä»¶ï¼Œå…¶åƒè€ƒç©ºé–“è¨­å®šç‚ºã€Œéšå±¤é›¢è‡ªèº«æœ€è¿‘ï¼Œä¸”å…·å‚™å®šä½è¨­å®šçš„çˆ¶å±¤ç©ºé–“ã€ï¼Œè‹¥æ²’æœ‰ä»»ä½•çˆ¶å±¤ç©ºé–“å…·å‚™å®šä½è¨­å®šï¼Œè©²ç‰©ä»¶å°‡æ¡ç”¨è¦–çª—ç©ºé–“åº§ä½åƒè€ƒç©ºé–“ï¼Œè€Œçˆ¶å±¤åªè¦å…·å‚™ä»¥ä¸‹å››ç¨®å®šä½é¡å‹ä¹‹ä¸€ï¼Œå³å¯è¢«çµ•å°å®šä½ç•¶ä½œåƒè€ƒç©ºé–“ï¼š\r\n\r\n- relative\r\n- absolute\r\n- fixed\r\n- sticky\r\n\r\næ­¤å¤–ç•¶ç‰©ä»¶è¨­å®šäº† abstract å¾Œï¼Œå°‡æœƒè‡ªå·±ç¨ç«‹ä¸€å±¤ï¼Œä¸åœ¨å…¶ä»–ç‰©ä»¶é—œé€£ï¼Œå¯ä»¥åˆ©ç”¨æ­¤ä¸€ç‰¹æ€§ï¼Œé€²è¡Œç‰©ä»¶å †ç–Šçš„è¦–è¦ºæ•ˆæœã€‚\r\n\r\n#### Fixed\r\n\r\nå›ºå®šå®šä½ï¼Œå°‡è¨­å®šçš„ç‰©ä»¶ï¼Œå°‡å…¶åƒè€ƒç©ºé–“è¨­å®šç‚ºè¦–çª—ï¼Œå› æ­¤ç„¡è«–å¦‚ä½•æ²å‹•è¦–çª—æ²è»¸ï¼Œé€™å€‹ç‰©ä»¶éƒ½æœƒå›ºå®šåœ¨åŸä½ã€‚å›ºå®šå®šä½å’Œçµ•å°å®šä½ä¸€æ¨£ï¼Œéƒ½æœƒè‡ªå·±ç¨ç«‹ä¸€å±¤ã€‚\r\n\r\n#### sticky\r\n\r\né»è²¼å®šä½ï¼Œçµåˆ relative å’Œ fixed å…©å¤§ç‰¹æ€§\r\n\r\n1. é è¨­å®šä½åœ¨çˆ¶å±¤ç©ºé–“\r\n2. ç•¶è¦–çª—æ²å‹•åˆ°è©²ç‰©ä»¶æ™‚ï¼Œæœƒä¾æ“šå°è©²ç‰©ä»¶è¨­å®šçš„ top å€¼ä¾†è®“è©²ç‰©ä»¶å‘ˆç¾ fixed åœ¨è¦–çª—ä¸­çš„æ•ˆæœã€‚\r\n3. ç•¶ç‰©ä»¶å‘ˆç¾ fixed çš„æ•ˆæœæ™‚ï¼Œå…¶æ‰€èƒ½ fixed çš„ç©ºé–“æ˜¯è©²ç‰©ä»¶çš„çˆ¶å±¤ç©ºé–“ã€‚\r\n4. ç•¶è¦–çª—å‘ä¸‹æ²å‹•è¶…é sticky ç‰©ä»¶çš„çˆ¶å±¤ç©ºé–“æ™‚ï¼Œè©²ç‰©ä»¶ä¸æœƒå†å‘ˆç¾ fixed æ•ˆæœï¼Œè€Œæ˜¯è¢«æ²é›¢è¦–çª—ç¯„åœã€‚\r\n\r\n### float\r\n\r\nfloat çš„å±¬æ€§åªæœ‰ none, left, rightã€‚\r\n\r\n1. åªæœ‰æ©«å‘æµ®å‹•ï¼Œæ²’æœ‰ç¸±å‘æµ®å‹•\r\n2. ç•¶å…ƒç´ æ‡‰ç”¨äº† float æ™‚å°‡æœƒè„«é›¢ä¸€èˆ¬è³‡æ–™æµï¼Œå…¶å®¹å™¨å…ƒç´ å°‡å¾—ä¸åˆ°è„«é›¢åŸå§‹è³‡æ–™æµçš„å­å…ƒç´ é«˜åº¦\r\n3. ä¸€å€‹å…ƒç´ æœƒåœç¹è‘—æµ®å‹•å…ƒç´ (æ–‡ç¹åœ–)ï¼Œèˆ‡æ‡‰ç”¨äº† position çš„å…ƒç´ ç›¸æ¯”ï¼Œæµ®å‹•å…ƒç´ ä¸¦ä¸æœƒé®è“‹å¾Œä¸€å€‹å…ƒç´ ã€‚\r\n4. æµ®å‹•å…ƒç´ å‰ä¸€å€‹å…ƒç´ ä¸æœƒå—åˆ°ä»»ä½•å½±éŸ¿ï¼Œè‹¥æƒ³å°‡å…©å¡Šç‹€å…ƒç´ ä¸¦æ’é¡¯ç¤ºï¼Œå‰‡éœ€å°‡å…©å€‹å¡Šç‹€å…ƒç´ éƒ½æ‡‰ç”¨ floatã€‚\r\n5. æœƒå°‡å…ƒç´ çš„ display å±¬æ€§æ›´è®Šç‚º block\r\n\r\n### float å’Œ position çš„å…¼å®¹å•é¡Œ\r\n\r\nå…ƒç´ è‹¥åŒæ™‚æ‡‰ç”¨ position: relative, float, (top, bottom, right and left) å±¬æ€§æ™‚ï¼Œå‰‡å…ƒç´ æœƒå…ˆæµ®å‹•åˆ°ç›¸å°æ‡‰ä½ç½®ï¼Œå†æ ¹æ“š (top, bottom, right and left)è¨­ç½®çš„è·é›¢ä¾†ç™¼ç”Ÿåç§»ã€‚\r\n\r\nè‹¥ä¸å°‡ float å…ƒç´ çš„ position è¨­ç½®ç‚º relativeï¼Œæ­¤æ™‚è‹¥è¦è¨­ç½® float çš„ z-index ä¾†å¯¦ç¾è¦†è“‹ position: absolute æœƒç„¡æ•ˆã€‚\r\n\r\nåŒç†å¯è­‰ï¼Œfloat å…ƒç´ è‹¥ä¸‹é¢å­˜åœ¨ position: absolute çš„å­å…ƒç´ ï¼Œè‹¥ä¸å°‡ float å…ƒç´ çš„ position è¨­ç‚º relativeï¼Œabsolute å…ƒç´ æ˜¯ç„¡æ³•å®šä½åˆ° float å…ƒç´ çš„ã€‚\r\n\r\n## CSS ç°¡æ˜“æš—é»‘æ¨¡å¼\r\n\r\n```css\r\n@media (prefers-color-scheme: dark) {\r\n  html {\r\n    filter: invert(90%) hue-rotate(180deg);\r\n  }\r\n\r\n  img,\r\n  video,\r\n  svg,\r\n  code[class*=\"language-\"] {\r\n    filter: invert(110%) hue-rotate(180deg);\r\n    opacity: 0.8;\r\n  }\r\n\r\n  img {\r\n    background: #fff;\r\n  }\r\n}\r\n```\r\n\r\n- `invert` å°‡æ‰€æœ‰è‰²å€¼åè½‰ï¼Œhue-rotate å°‡é»‘ç™½ä»¥å¤–çš„å…¶ä»–ä¸»é¡Œè‰²èª¿å†åè½‰éä¾†(é˜²æ­¢é é¢ä¸»é¡Œè‰²å‡ºç¾éå¤§è®ŠåŒ–)\r\n- `code[class*=\"language-\"]` ç‚º markdown èªæ³•ä¸­çš„ç¨‹å¼ç¢¼å€å¡Š\r\n- è‹¥ html åè½‰ 90% å‰‡åœ–ç‰‡ç­‰å…ƒç´ éœ€åè½‰ 110%\r\n- å»èƒŒåœ–ç‰‡åœ¨é»‘æš—æ¨¡å¼ä¸­å› ç‚ºèƒŒæ™¯è®Šæˆé»‘åº•è‰²ï¼Œå¯èƒ½å°±æœƒé€ æˆæ·±è‰²å…§å®¹è¢«æ·±è‰²èƒŒæ™¯åƒæ‰çš„å•é¡Œï¼Œç‚ºäº†é¿å…é€™å€‹å•é¡Œï¼Œå»ºè­° img çš„èƒŒæ™¯ä¸€å¾‹èª¿æˆè·Ÿæ­£å¸¸æ¨¡å¼çš„èƒŒæ™¯è‰²\r\n\r\n## è®Šæ•¸å®£å‘Š\r\n\r\n- å®šç¾©è®Šæ•¸ï¼šå¿…éœ€è¦å®šç¾©åœ¨ css é¸å–å™¨ä¸­ï¼Œå»ºè­°å®šç¾©åœ¨ `:root` æœ€é«˜å±¤åŠçš„é¸å–å™¨ä»¥ä¾¿æ–¼ä½¿ç”¨ï¼Œä½¿ç”¨ `--è‡ªè¨‚åç¨±` ä½œç‚ºå±¬æ€§çš„æ–¹å¼ä¾†å®£å‘Šè®Šæ•¸\r\n- å–ç”¨è®Šæ•¸å€¼ï¼š`var(è®Šæ•¸åç¨±)`\r\n\r\n```css\r\n:root {\r\n  --dangerous-color: red;\r\n}\r\n\r\n.table {\r\n  background-color: var(--dangerous-color);\r\n}\r\n```\r\n","date":"2023-07-27T03:25:43.335Z","matchingLines":["## å¾Œè£”é¸æ“‡å™¨\r","## å±¬æ€§é¸æ“‡å™¨`[]`\r","## è¡¨æ ¼\r","## å½å…ƒç´ \r","## `display:none`å’Œ`visibility:hidden`çš„å·®åˆ¥\r","## Display\r","## HTML ä½ˆå±€\r","## CSS ç°¡æ˜“æš—é»‘æ¨¡å¼\r","## è®Šæ•¸å®£å‘Š\r"],"tocContent":"- [CSS å­¸ç¿’ç­†è¨˜](#css-å­¸ç¿’ç­†è¨˜)\r\n  - [å¾Œè£”é¸æ“‡å™¨](#å¾Œè£”é¸æ“‡å™¨)\r\n    - [åŸºæœ¬é¡å‹](#åŸºæœ¬é¡å‹)\r\n    - [è¤‡åˆå‹](#è¤‡åˆå‹)\r\n  - [å±¬æ€§é¸æ“‡å™¨`[]`](#å±¬æ€§é¸æ“‡å™¨)\r\n  - [è¡¨æ ¼](#è¡¨æ ¼)\r\n  - [å½å…ƒç´ ](#å½å…ƒç´ )\r\n  - [`display:none`å’Œ`visibility:hidden`çš„å·®åˆ¥](#displaynoneå’Œvisibilityhiddençš„å·®åˆ¥)\r\n  - [Display](#display)\r\n    - [Display Outside](#display-outside)\r\n      - [Block å€å¡Šå…ƒç´ ](#block-å€å¡Šå…ƒç´ )\r\n      - [Inline è¡Œå…§å…ƒç´ ](#inline-è¡Œå…§å…ƒç´ )\r\n    - [Display Inside](#display-inside)\r\n      - [Table](#table)\r\n      - [Flex](#flex)\r\n        - [Flex-direction æ–¹å‘æ€§](#flex-direction-æ–¹å‘æ€§)\r\n        - [justify-content èª¿æ•´å…§å®¹](#justify-content-èª¿æ•´å…§å®¹)\r\n        - [align-items å°é½Šç‰©ä»¶](#align-items-å°é½Šç‰©ä»¶)\r\n        - [align-self è‡ªèº«å°é½Š](#align-self-è‡ªèº«å°é½Š)\r\n      - [Wrap æ–·è¡Œ](#wrap-æ–·è¡Œ)\r\n    - [Global å…¨åŸŸå±¬æ€§](#global-å…¨åŸŸå±¬æ€§)\r\n      - [inherit è·Ÿéš¨çˆ¶å±¤å±¬æ€§](#inherit-è·Ÿéš¨çˆ¶å±¤å±¬æ€§)\r\n      - [initial è®Šå›åŸæœ¬å±¬æ€§](#initial-è®Šå›åŸæœ¬å±¬æ€§)\r\n    - [Display-Box å½±éŸ¿ç”¨ç®±å­è£èµ·ä¾†çš„æ‰€æœ‰å…ƒç´ ](#display-box-å½±éŸ¿ç”¨ç®±å­è£èµ·ä¾†çš„æ‰€æœ‰å…ƒç´ )\r\n      - [none](#none)\r\n    - [Display-Legacy æ­¤å±¬æ€§ç¹¼æ‰¿å…©è€…çš„ç‰¹æ€§](#display-legacy-æ­¤å±¬æ€§ç¹¼æ‰¿å…©è€…çš„ç‰¹æ€§)\r\n      - [inline-block](#inline-block)\r\n      - [inline-table](#inline-table)\r\n      - [inline-flex](#inline-flex)\r\n  - [HTML ä½ˆå±€](#html-ä½ˆå±€)\r\n    - [ç›’å­æ¨¡å‹](#ç›’å­æ¨¡å‹)\r\n    - [Position](#position)\r\n      - [Static](#static)\r\n      - [Relative](#relative)\r\n      - [Absolute](#absolute)\r\n      - [Fixed](#fixed)\r\n      - [sticky](#sticky)\r\n    - [float](#float)\r\n    - [float å’Œ position çš„å…¼å®¹å•é¡Œ](#float-å’Œ-position-çš„å…¼å®¹å•é¡Œ)\r\n  - [CSS ç°¡æ˜“æš—é»‘æ¨¡å¼](#css-ç°¡æ˜“æš—é»‘æ¨¡å¼)\r\n  - [è®Šæ•¸å®£å‘Š](#è®Šæ•¸å®£å‘Š)"},{"name":"Git å­¸ç¿’ç­†è¨˜.md","content":"# Git å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n## å¸¸ç”¨æŒ‡ä»¤\r\n\r\n### Git å¸¸ç”¨æŒ‡ä»¤\r\n\r\n- `git init` å°‡ç›®å‰çš„ç›®éŒ„åˆå§‹åŒ–ç‚º Git ç›®éŒ„, å»ºç«‹æœ¬åœ°å„²å­˜åº«\r\n- `git config` è¨­å®šæˆ–æª¢è¦– Git è¨­å®šæª”è³‡è¨Š\r\n- `git add` å°‡æª”æ¡ˆåŠ å…¥ Git æš«å­˜å€\r\n- `git rm` å°‡æª”æ¡ˆç§»å‡º Git æš«å­˜å€\r\n- `git status` é¡¯ç¤º Git ç‹€æ…‹\r\n- `git commit` å°‡æš«å­˜å€çš„æª”æ¡ˆæäº¤è‡³å„²å­˜åº«ç´å…¥ç‰ˆæœ¬æ§åˆ¶\r\n- `git log` é¡¯ç¤ºéå»æ­·æ¬¡çš„ç‰ˆæœ¬ç•°å‹•\r\n- `git reflog` é¡¯ç¤ºå®Œæ•´çš„ç‰ˆæœ¬ç•°å‹•æ­·å²ç´€éŒ„\r\n- `git show` é¡¯ç¤ºæŒ‡å®šç‰ˆæœ¬çš„ç•°å‹•å…§å®¹\r\n- `git branch` å»ºç«‹ä¸€å€‹æ–°åˆ†æ”¯ (branch)\r\n- `git checkout` å–å‡ºåˆ†æ”¯å…§å®¹é‚„åŸç‚ºå·¥ä½œç›®éŒ„\r\n- `git merge` åˆä½µåˆ†æ”¯\r\n- `git reset` é‡è¨­æŸä¸€ç‰ˆæœ¬\r\n- `git clone` å¾é ç«¯å„²å­˜åº« (GitHub æˆ– Bitbucket) è¤‡è£½å‰¯æœ¬è‡³æœ¬åœ°å„²å­˜åº«\r\n- `git push` å°‡æœ¬åœ°å„²å­˜åº«å…§å®¹æ¨é€åˆ°é ç«¯å„²å­˜åº«\r\n- `git pull` å°‡é ç«¯å„²å­˜åº«æ‹‰å›åˆä½µæ›´æ–°åˆ°æœ¬åœ°å„²å­˜åº«\r\n\r\n### Git Bash å¸¸ç”¨æŒ‡ä»¤\r\n\r\n| Linux            | Windows               | èªªæ˜                             |\r\n| ---------------- | --------------------- | -------------------------------- |\r\n| `pwd`            | `cd`                  | é¡¯ç¤ºå¹•å‰ç›®éŒ„                     |\r\n| `ls -al`         | `dir`                 | é¡¯ç¤ºç›®å‰ç›®éŒ„ä¸‹çš„æª”æ¡ˆèˆ‡å­ç›®éŒ„åˆ—è¡¨ |\r\n| `mkdir tmp`      | `md tmp`              | å»ºç«‹å­ç›®éŒ„ tmp                   |\r\n| `rm -r tmp`      | `rd tmp`              | åˆªé™¤å­ç›®éŒ„ tmp                   |\r\n| `cd tmp`         | `cd tmp`              | åˆ‡æ›è‡³å­ç›®éŒ„ tmp                 |\r\n| `cd ..`          | `cd ..`               | åˆ‡æ›è‡³ä¸Šä¸€å±¤ç›®éŒ„                 |\r\n| `touch test.txt` | `copy nul > test.txt` | å»ºç«‹ç©ºç™½æ–‡å­—æª”æ¡ˆ                 |\r\n| `cat file/more`  | `type file`           | é¡¯ç¤ºæª”æ¡ˆå…§å®¹                     |\r\n| `rm file`        | `del file`            | åˆªé™¤æª”æ¡ˆ file                    |\r\n| `mv file1 file2` | `ren file1 file2`     | å°‡æª”æ¡ˆ file1 æ›´åç‚º file2        |\r\n| `cp file1 file2` | `copy file1 file2`    | è¤‡è£½æª”æ¡ˆ file1 ç‚º file2          |\r\n| `date`           | `date`                | é¡¯ç¤ºæ—¥æœŸ (Linux å«æ™‚é–“)          |\r\n| `clear`          | `cls`                 | æ¸…é™¤è¢å¹•                         |\r\n\r\n## Git Flow é–‹ç™¼æµç¨‹è§€å¿µ\r\n\r\n> [åƒè€ƒè³‡æ–™ï¼šGit Flow æ˜¯ä»€éº¼ï¼Ÿç‚ºä»€éº¼éœ€è¦é€™ç¨®æ±è¥¿ï¼Ÿ](https://gitbook.tw/chapters/gitflow/why-need-git-flow)\r\n>\r\n> [åƒè€ƒè³‡æ–™ï¼šGit flow åˆ†æ”¯ç­–ç•¥](https://git-tutorial.readthedocs.io/zh/latest/branchingmodel.html)\r\n\r\n### åˆ†æ”¯ä»‹ç´¹\r\n\r\n#### é•·æœŸåˆ†æ”¯\r\n\r\n- **main**(åŸç‚º master, æ–¼ 2020/10 è®Šæ›´)  \r\n   ä¸»è¦ç‚ºç©©å®šï¼Œä¸Šç·šçš„ç‰ˆæœ¬ã€‚ä¸è©²å…è¨±é–‹ç™¼è€…ç›´æ¥ commit åˆ°æ­¤åˆ†æ”¯ã€‚  \r\n   ä¸€èˆ¬åœ¨å°ˆæ¡ˆåˆæœŸï¼Œç’°å¢ƒå»ºç½®å¥½å°±æœƒæ‹‰ develop åˆ†æ”¯å‡ºå»ï¼Œä»¥ç¶­æŒ main ç¨ç«‹æ€§ã€‚\r\n- **develop**  \r\n   æ‰€æœ‰é–‹ç™¼åˆ†æ”¯çš„åŸºç¤ï¼Œç•¶æ–°å¢/ä¿®æ”¹åŠŸèƒ½æ™‚ï¼Œæœƒå¾æ­¤åˆ†æ”¯åˆ‡å‡ºå»ï¼Œå®Œæˆå¾Œå†åˆä½µå›ä¾†ã€‚\r\n\r\n#### Topic ä»»å‹™åˆ†æ”¯\r\n\r\n##### feature\r\n\r\né–‹ç™¼æ–°åŠŸèƒ½æ™‚ï¼Œæœƒå¾ develop åˆ‡å‡º feature åˆ†æ”¯ï¼Œå…¶å‘½åæ–¹å¼æ¡`feature/åŠŸèƒ½åç¨±`ã€‚åªè¦æ–°åŠŸèƒ½æœªå®Œæˆï¼ŒåŠŸèƒ½åˆ†æ”¯å°±æœƒæŒçºŒå­˜åœ¨ï¼Œç›´åˆ°é–‹ç™¼å®Œæˆä¸¦åˆä½µå›é–‹ç™¼åˆ†æ”¯ï¼Œæˆ–ç›´åˆ°æ”¾æ£„æ­¤æ–°åŠŸèƒ½ã€‚\r\n\r\næ­¤åˆ†æ”¯é€šå¸¸åªæœƒå­˜åœ¨æ–¼è©²åŠŸèƒ½çš„é–‹ç™¼è€…çš„æœ¬æ©Ÿç«¯ repositoryï¼Œä¸æœƒå‡ºç¾åœ¨é ç«¯çš„åº«ä¸­ã€‚\r\n\r\n- åŸå‰‡ï¼š\r\n  - å¾ develop åˆ†æ”¯åˆ†é›¢\r\n  - åˆä½µå› develop åˆ†æ”¯\r\n  - åˆ†æ”¯å‘½ååŸå‰‡ï¼šé™¤äº† master, develop, release-\\*, hotfix ä¹‹å¤–çš„åŠŸèƒ½åç¨±éƒ½å¯ä»¥\r\n\r\nè©³ç´°æ­¥é©Ÿï¼š\r\n\r\n1. é–‹æ–°åŠŸèƒ½åˆ†æ”¯\r\n\r\n   ```bash\r\n   # å¾ develop åˆ†æ”¯é–‹ä¸€å€‹å‘½ç‚º new-feature çš„åˆ†æ”¯\r\n   $ git checkout -b feature/new-feature develop\r\n   ```\r\n\r\n2. å°‡å·²é–‹ç™¼å®Œæˆä¹‹åŠŸèƒ½åˆä½µå› develop åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆ‡æ›è‡³é–‹ç™¼åˆ†æ”¯\r\n   $ git checkout develop\r\n\r\n   # å°‡ new-feature åˆ†æ”¯åˆä½µåˆ°é–‹ç™¼åˆ†æ”¯\r\n   $ git merge --no-ff feature/new-feature\r\n\r\n   # åˆªé™¤ new-feature åˆ†æ”¯\r\n   $ git branch -d feature/new-feature\r\n\r\n   # å°‡é–‹ç™¼åˆ†æ”¯pushåˆ°é ç«¯çš„origin\r\n   $ git push origin develop\r\n   ```\r\n\r\n`--no-ff` å¯ä¿å­˜ feature ä¸Šé¢çš„æ­·å²è³‡è¨Šï¼Œè®“é–‹ç™¼è€…å¯ä»¥æ›´ç­è§£é–‹ç™¼çš„ä¾†é¾å»è„ˆ(No Fast Forward)ã€‚\r\n\r\n##### release\r\n\r\nç”± develop åˆ‡å‡ºä¾†ï¼Œæ­£å¼ä¸Šç·šå‰çš„æœ€çµ‚æ¸¬è©¦åˆ†æ”¯ï¼Œé€šéå¾Œæœƒå°‡ release åˆä½µåˆ° main ä»¥åŠ develop ç¢ºä¿åœ¨ release æ™‚ä¿®æ­£çš„ä¸€äº›å•é¡Œèƒ½åŒæ­¥åˆ° main èˆ‡ developã€‚\r\n\r\nåˆ¶è¨‚ç‰ˆæœ¬è™Ÿç¢¼çš„æœ€ä½³æ™‚æ©Ÿæ˜¯åœ¨ç™¼å¸ƒåˆ†æ”¯æ™‚ã€‚\r\n\r\n- åŸå‰‡\r\n  - å¾ develop åˆ†é›¢\r\n  - åˆä½µå› develop èˆ‡ main åˆ†æ”¯\r\n  - åˆ†æ”¯å‘½åè¦å‰‡ï¼šrelease-\\*(ç‰ˆæœ¬è™Ÿ)\r\n\r\nè©³ç´°æ­¥é©Ÿï¼š\r\n\r\n1. é–‹ç™¼ä½ˆåˆ†æ”¯\r\n\r\n   ```bash\r\n   # å¾é–‹ç™¼åˆ†æ”¯é–‹ä¸€æ”¯åç‚ºã€Œrelease-1.2ã€çš„åˆ†æ”¯ï¼Œé–‹å®Œå¾Œåˆ‡æ›åˆ°release-1.2åˆ†æ”¯ã€‚\r\n   $ git checkout -b release-1.2 develop\r\n   ```\r\n\r\n2. åˆ¶è¨‚ç‰ˆæœ¬è™Ÿ\r\n\r\n   ```bash\r\n   # commit ä¸€å€‹ç‰ˆæœ¬ï¼Œcommmit è¨Šæ¯ç‚ºã€Œç‰ˆæœ¬è·³èºè‡³1.2]\r\n   $ git commit -a -m \"Bump version number to 1.2\"\r\n   ```\r\n\r\n3. å°‡å·²åˆ¶è¨‚å¥½çš„ metadata æˆ–å·²ä¿®å¾©éŒ¯èª¤çš„ç™¼ä½ˆåˆ†æ”¯ï¼Œåˆä½µåˆ°ä¸»åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆ‡æ›è‡³ä¸»è¦åˆ†æ”¯\r\n   $ git checkout master\r\n\r\n   # å°‡release-1.2åˆ†æ”¯åˆä½µåˆ°ä¸»è¦åˆ†æ”¯\r\n   $ git merge --no-ff release-1.2\r\n\r\n   # ä¸Štag\r\n   $ git tag -a 1.2\r\n   ```\r\n\r\n4. å°‡å·²åˆ¶è¨‚å¥½ metadata æˆ–å·²ä¿®å¾©éŒ¯èª¤çš„ç™¼ä½ˆåˆ†æ”¯ï¼Œåˆä½µå›é–‹ç™¼åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆ‡æ›è‡³é–‹ç™¼åˆ†æ”¯\r\n   $ git checkout develop\r\n\r\n   # å°‡release-1.2åˆ†æ”¯åˆä½µå›é–‹ç™¼åˆ†æ”¯\r\n   $ git merge --no-ff release-1.2\r\n   ```\r\n\r\n5. åˆªé™¤ release-1.2 åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆªé™¤åˆ†æ”¯\r\n   $ git branch -d release-1.2\r\n   ```\r\n\r\n##### hotfix\r\n\r\nä¸Šç·šç‰ˆæœ¬éœ€ç·Šæ€¥ä¿®å¾©æ™‚ï¼Œç”± main ç›´æ¥åˆ‡å‡ºçš„ hotfix åˆ†æ”¯ï¼Œä¿®å¾©å®Œæˆä¹Ÿæœƒåˆä½µè‡³ main åˆ†æ”¯ã€‚\r\n\r\nç”±æ–¼ develop åœ¨é–‹ç™¼ä¸­ï¼Œè‹¥å¾ develop åˆ‡ hotfix åˆ†æ”¯ï¼Œå†åˆä½µè‡³ main åˆ†æ”¯æ™‚å¯èƒ½æœƒå‡ºç¾æ›´åš´é‡çš„å•é¡Œã€‚\r\n\r\nç•¶ bug ä¿®å¾©å¾Œï¼Œå¯åˆä½µåˆ°é–‹ç™¼åˆ†æ”¯ï¼Œæˆ–æ˜¯åˆä½µå›ä¸»åˆ†æ”¯ï¼Œä¸¦æ¨™ä¸Šå¦ä¸€ç‰ˆæœ¬è™Ÿçš„ tagã€‚\r\n\r\n- åŸå‰‡ï¼š\r\n  - å¾ä¸»åˆ†æ”¯åˆ†é›¢\r\n  - åˆä½µå›é–‹ç™¼åˆ†æ”¯æˆ–ä¸»åˆ†æ”¯\r\n  - åˆ†æ”¯å‘½åè¦å‰‡ç‚ºï¼šhotfix-\\*\r\n\r\nè©³ç´°æ­¥é©Ÿï¼š\r\n\r\n1. é–‹ä¿®å¾©åˆ†æ”¯\r\n\r\n   ```bash\r\n   # å¾ä¸»è¦åˆ†æ”¯é–‹ä¸€æ”¯åç‚ºã€Œhotfix-1.2.1ã€çš„åˆ†æ”¯ï¼Œé–‹å®Œå¾Œåˆ‡æ›åˆ°hotfix-1.2.1åˆ†æ”¯ã€‚\r\n   $ git checkout -b hotfix-1.2.1 master\r\n   ```\r\n\r\n2. åˆ¶è¨‚ç‰ˆæœ¬è™Ÿ\r\n\r\n   ```bash\r\n   # commit ä¸€å€‹ç‰ˆæœ¬ï¼Œcommit è¨Šæ¯ç‚ºã€Œç‰ˆæœ¬è™Ÿè·³èºè‡³1.2.1ã€\r\n   $ git commit -a -m \"Bumped version number to 1.2.1\"\r\n   ```\r\n\r\n3. ä¿®æ­£ bug ä¸¦ commit ä¸€ç‰ˆ\r\n\r\n   ```bash\r\n   # commit ä¿®æ­£ç‰ˆ\r\n   $ git commit -m \"Fixed severe production problem\"\r\n   ```\r\n\r\n4. å°‡ä¿®å¥½çš„åˆ†æ”¯åˆä½µå›ä¸»åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆ‡æ›è‡³ä¸»è¦åˆ†æ”¯\r\n   $ git checkout master\r\n\r\n   # å°‡hotfix-1.2.1åˆ†æ”¯åˆä½µåˆ°ä¸»è¦åˆ†æ”¯\r\n   $ git merge --no-ff hotfix-1.2.1\r\n\r\n   # ä¸Štag\r\n   $ git tag -a 1.2.1\r\n   ```\r\n\r\n5. å°‡ä¿®å¥½çš„åˆ†æ”¯åˆä½µå› develop åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆ‡æ›è‡³é–‹ç™¼åˆ†æ”¯\r\n   $ git checkout develop\r\n\r\n   # å°‡hotfix-1.2.1åˆ†æ”¯åˆä½µå›é–‹ç™¼åˆ†æ”¯\r\n   $ git merge --no-ff hotfix-1.2.1\r\n   ```\r\n\r\n   **ç‰¹åˆ¥æ³¨æ„** è‹¥ä¿®å¾©åˆ†æ”¯èˆ‡ç™¼ä½ˆåˆ†æ”¯åŒæ™‚å­˜åœ¨ï¼Œå‰‡ç•¶ bug ä¿®æ­£å¾Œï¼Œå°±ä¸æ˜¯åˆä½µå›é–‹ç™¼åˆ†æ”¯è€Œæ˜¯ç™¼ä½ˆåˆ†æ”¯ã€‚ä¿®è£œç¨‹å¼å°±æœƒåœ¨å¾æœªä¾†ç™¼å¸ƒåˆ†æ”¯åˆä½µå›é–‹ç™¼åˆ†æ”¯æ™‚ï¼Œä¸€ä½µå°‡ bug ä¿®è£œå®Œã€‚\r\n\r\n6. åˆªé™¤ hotfix åˆ†æ”¯\r\n\r\n   ```bash\r\n   # åˆªé™¤åˆ†æ”¯\r\n   $ git branch -d hotfix-1.2.1\r\n   ```\r\n\r\n### Git Commit è¦ç¯„\r\n\r\n> [Git Commit Message é€™æ¨£å¯«æœƒæ›´å¥½ï¼Œæ›¿å°ˆæ¡ˆå¼•å…¥è¦ç¯„èˆ‡ç¯„ä¾‹](https://ithelp.ithome.com.tw/articles/10228738)\r\n\r\n#### Commit Message æ ¼å¼\r\n\r\n```bash\r\n\r\n# æ¨™é¡Œ: <type>(<scope>): <subject>\r\n# - type: feat, fix, docs, style, refactor, test, chore\r\n# - scope: å¦‚æœä¿®æ”¹ç¯„åœç‚ºå…¨å±€ä¿®æ”¹æˆ–é›£ä»¥åˆ†é…çµ¦å–®å€‹çµ„ä»¶ï¼Œå¯ç•¥\r\n# - subject: ä»¥å‹•è©é–‹é ­çš„ç°¡çŸ­æè¿°\r\n#\r\n# æ­£æ–‡: å…§æ–‡éœ€åŒ…å«:\r\n# * ç¨‹å¼ç¢¼æ›´è¨‚çš„åŸå› (å•é¡Œã€åŸå› ã€éœ€æ±‚)\r\n# * èª¿æ•´é …ç›®\r\n# * èˆ‡å…ˆå‰è¡Œç‚ºçš„å°æ¯”\r\n#\r\n# çµå°¾:\r\n# - ä»»å‹™ç·¨è™Ÿ(å¦‚æœæœ‰)\r\n# - é‡å¤§è®ŠåŒ–(ç´€éŒ„ä¸å…¼å®¹çš„æ›´å‹•)ï¼Œ\r\n#   ä»¥ BREAKING CHANGE: é–‹é ­ï¼Œå¾Œé¢æ˜¯å°è®Šå‹•çš„æè¿°ã€ä»¥åŠè®Šå‹•åŸå› å’Œé·ç§»æ–¹æ³•ã€‚\r\n#\r\n```\r\n\r\n#### æ¨™é¡Œ\r\n\r\n- Type é¡å‹\r\n  - **feat** - æ–°å¢/ä¿®æ”¹åŠŸèƒ½ (Feature)\r\n  - **fix** - ä¿®æ­£ Bug (bug fix)\r\n  - **docs** - ä¿®æ”¹å…§å®¹/æ–°å¢æ–‡ä»¶ (documentation)\r\n  - **style** - ä¿®æ”¹ç¨‹å¼ç¢¼æ ¼å¼æˆ–é¢¨æ ¼ï¼Œä¸å½±éŸ¿åŸæœ‰é‹ä½œï¼ŒåŒ…å«ä¿®æ”¹ç¸®æ’ã€æ–°å¢ç¸®æ’...ç­‰ç­‰\r\n  - **refactor** - é‡æ§‹ç¨‹å¼ç¢¼ï¼Œä¸å±¬æ–¼ bug ä¿®æ­£ï¼Œä¹Ÿä¸å±¬æ–¼æ–°åŠŸèƒ½\r\n  - **perf** - æ”¹å–„æ•ˆèƒ½ (A code change that improves performance)\r\n  - **test** - å¢åŠ /ä¿®æ”¹æ¸¬è©¦åŠŸèƒ½ (when adding missing tests)\r\n  - **chore** - å¢åŠ æˆ–ä¿®æ”¹ç¬¬ä¸‰æ–¹å¥—ä»¶(è¼”åŠ©å·¥å…·)ç­‰ (maintain)\r\n  - **revert** - æ’¤éŠ·å›è¦†å…ˆå‰çš„ commit ä¾‹å¦‚ï¼šrevert: type(scope): subject (å›è¦†ç‰ˆæœ¬ï¼šxxxx)ã€‚\r\n  - **build** - æ”¹è®Šæ‰“åŒ…æµç¨‹\r\n- scope ç¯„åœ\r\n  - ä»»ä½•å¯ä»¥åŠƒåˆ†ç¨‹å¼ç¢¼æ”¹è®Šçš„ç¯„åœï¼Œä¾‹å¦‚ï¼špage, router, compile, component...ç­‰ç­‰ã€‚\r\n- subject ä¸»é¡Œ\r\n  - å°ç¨‹å¼ç¢¼ä¿®æ”¹åšç°¡å–®æè¿°\r\n\r\n#### æ­£æ–‡\r\n\r\næè¿°æ¸¬æ¬¡ç¨‹å¼ç¢¼è®Šæ›´çš„å‹•æ©Ÿï¼Œä¸¦èªªå‡ºé€™å€‹æäº¤èˆ‡æ”¹è®Šå‰çš„å°æ¯”ã€‚\r\n\r\n1. ç‚ºä»€éº¼é€™å€‹æäº¤æ˜¯å¿…è¦çš„ï¼Ÿ\r\n2. ä»–å¦‚ä½•è§£æ±ºå•é¡Œï¼Ÿ\r\n3. é€™å€‹æäº¤æœƒå°å°ˆæ¡ˆç”¢ç”Ÿä»€éº¼å‰¯ä½œç”¨ï¼Ÿ\r\n   - å¯ä»¥æœ‰æ•ˆè¾¨èªæ¬¡æäº¤æ˜¯åšäº†å¤ªå¤šæ”¹è®Šã€‚è‹¥æœ‰ä¸€å…©å€‹å‰¯ä½œç”¨å°šå¯æ¥å—ï¼Œä½†è‹¥äº”ã€å…­å€‹ä»¥ä¸Šï¼Œå‰‡è¡¨ç¤ºæ”¹è®Šå¹…åº¦å¤ªå¤§ã€‚\r\n\r\n#### Footer\r\n\r\nçµå°¾é€šå¸¸æœƒæœ‰å…©ç¨®ï¼š\r\n\r\n1. æ¨™è¨» Breaking Changes æ‡‰ä»¥å–®è© BREAKING CHANGE é–‹é ­ï¼šç”¨ç©ºæ ¼æˆ–å…©å€‹æ›è¡Œç¬¦ã€‚å¾Œé¢æ˜¯å°è®Šå‹•çš„æè¿°å’Œè®Šå‹•çš„ç†ç”±ã€‚\r\n\r\n```bash\r\nBREAKING CHANGE: isolate scope bindings definition has changed.\r\n\r\n    To migrate the code follow the example below:\r\n\r\n    Before:\r\n\r\n    scope: {\r\n      myAttr: 'attribute',\r\n    }\r\n\r\n    After:\r\n\r\n    scope: {\r\n      myAttr: '@',\r\n    }\r\n\r\n    \"The removed `inject` wasn't generally useful for directives so there should be no code using it.\"\r\n```\r\n\r\nå¦‚æœç•¶å‰ commit é‚„åŸäº†å…ˆå‰çš„ commitï¼Œå‰‡æ‡‰ä»¥ revertï¼šé–‹é ­ï¼Œå¾Œè·Ÿé‚„åŸçš„ commit çš„ headerã€‚åœ¨ body ä¸­å¿…é ˆå¯«æˆï¼šThis reverts commit \\<hash>ã€‚å…¶ä¸­ hash æ˜¯è¦é‚„åŸçš„ commit çš„ SHA æ¨™è­˜ã€‚\r\n\r\n```bash\r\nrevert: feat(pencil): add 'delete' option\r\n\r\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.\r\n```\r\n\r\n#### commit æ¨¡æ¿\r\n\r\nåœ¨~/.gitconfig æ–°å¢\r\n\r\n```config\r\n[commit]\r\ntemplate = ~/.gitmessage\r\n```\r\n\r\næ–°å»º ~/.gitmessage\r\n\r\n```vim\r\n\r\n# æ¨™é¡Œ: <type>(<scope>): <subject>\r\n# - type: feat, fix, docs, style, refactor, test, chore\r\n# - scope: å¦‚æœä¿®æ”¹ç¯„åœç‚ºå…¨å±€ä¿®æ”¹æˆ–é›£ä»¥åˆ†é…çµ¦å–®å€‹çµ„ä»¶ï¼Œå¯ç•¥\r\n# - subject: ä»¥å‹•è©é–‹é ­çš„ç°¡çŸ­æè¿°\r\n#\r\n# æ­£æ–‡: å…§æ–‡éœ€åŒ…å«:\r\n# * ç¨‹å¼ç¢¼æ›´è¨‚çš„åŸå› (å•é¡Œã€åŸå› ã€éœ€æ±‚)\r\n# * èª¿æ•´é …ç›®\r\n# * èˆ‡å…ˆå‰è¡Œç‚ºçš„å°æ¯”\r\n#\r\n# çµå°¾:\r\n# - ä»»å‹™ç·¨è™Ÿ(å¦‚æœæœ‰)\r\n# - é‡å¤§è®ŠåŒ–(ç´€éŒ„ä¸å…¼å®¹çš„æ›´å‹•)ï¼Œ\r\n#   ä»¥ BREAKING CHANGE: é–‹é ­ï¼Œå¾Œé¢æ˜¯å°è®Šå‹•çš„æè¿°ã€ä»¥åŠè®Šå‹•åŸå› å’Œé·ç§»æ–¹æ³•ã€‚\r\n#\r\n```\r\n\r\n## Git æ“ä½œæƒ…å¢ƒ\r\n\r\n### å°‡ git é è¨­çš„ç·¨è¼¯å™¨æ”¹ç‚º vim\r\n\r\n```bash\r\ngit config --global core.editor \"vim\"\r\n```\r\n\r\n### å–æ¶ˆ commitï¼šgit reset\r\n\r\nGit çš„ `reset`æŒ‡ä»¤ï¼Œæ¯”è¼ƒåƒæ˜¯ã€Œå‰å¾€ã€æˆ–æ˜¯ã€Œè®Šæˆã€ï¼Œä¸¦ä¸æœƒçœŸçš„é‡æ–°è¨­å®šã€‚\r\n\r\n`reset`å¾Œçš„æ±è¥¿éƒ½é‚„å¯ä»¥æ’¿çš„å›ä¾†ã€‚\r\n\r\n#### ç¢ºèª git ç´€éŒ„\r\n\r\n```terminal\r\ngit log --oneline\r\naf75a42 (HEAD -> develop) 0327\r\n1baa403 (origin/develop) no message\r\n13fd2dc 0223\r\na640c49 0222æ–°å¢\r\ne09ecae init commit\r\n```\r\n\r\n#### åˆ©ç”¨ç›¸å°ä½ç½®å–æ¶ˆ commit\r\n\r\n```terminal\r\ngit reset af75a42^\r\n```\r\n\r\n`^`ç¬¦è™Ÿè¡¨ç¤ºã€Œå‰ä¸€æ¬¡ã€çš„æ„æ€ï¼Œ`af75a42^`æ˜¯æŒ‡`af75a42`é€™å€‹ commit çš„ã€Œå‰ä¸€æ¬¡ã€ï¼Œ`af75a42^^`å‰‡æ˜¯å¾€å‰å…©æ¬¡ï¼Œä»¥æ­¤é¡æ¨ã€‚\r\n\r\nå¦‚æœè¦å€’é€€äº”æ¬¡å¯ä»¥å¯«æˆ`af75a42~5`ã€‚\r\n\r\nå¦å¤–`HEAD`å’Œ`develop`ä¹Ÿéƒ½æŒ‡å‘`af75a42`é€™å€‹ commitï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å¯«æˆ\r\n\r\n```terminal\r\ngit reset develop^\r\n&\r\ngit reset HEAD^\r\n```\r\n\r\n#### åˆ©ç”¨çµ•å°ä½ç½®å–æ¶ˆ commit\r\n\r\n```terminal\r\ngit reset 1baa403\r\n```\r\n\r\nä»–æœƒåˆ‡æœƒåˆ°`1baa403`é€™å€‹ commitï¼Œå‰›å¥½æ˜¯`af75a42`çš„å‰ä¸€å€‹ commitï¼Œå’Œå–æ¶ˆæœ€å¾Œä¸€æ¬¡ commit çš„æ•ˆæœä¸€æ¨£ã€‚\r\n\r\n### git commit æ‰“éŒ¯å­—\r\n\r\nå…ˆæŠŠå‰ä¸€æ¬¡ add çš„å…§å®¹ï¼Œä¿ç•™åœ¨ changes to be committed å€åŸŸ\r\n\r\n```terminal\r\ngit reset --soft HEAD^\r\n```\r\n\r\næ¥è‘—å†é‡æ–°é€²è¡Œä¸€æ¬¡ git commit å³å¯\r\n\r\n### è½‰ç§»è³‡æ–™åº«ï¼šgit mirror\r\n\r\nå¯ä»¥è½‰ç§»æ•´å€‹ repository çš„è³‡è¨Šï¼ŒåŒ…æ‹¬ branch, tags\r\n\r\nå°‡ repo clone --mirror åˆ°æœ¬åœ°\r\n\r\n```bash\r\ngit clone --mirror gitolite@git.lab317.org:dinos80152/Authentication\r\n```\r\n\r\næ¥è‘—åœ¨ github å»ºç«‹æ–°çš„ repository\r\n\r\né€²åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œè¨­å®šæ–°çš„é ç«¯ git repo ä½ç½®\r\n\r\n```bash\r\ncd your_project.git/\r\ngit remote set-url --push origin https://github.com/your_name/your_project.git\r\n```\r\n\r\nlocal æ›´æ–° remote branch ,æœ€å¾Œå°‡æ•´åŒ… push ä¸Šå»\r\n\r\n```bash\r\ngit push --mirror\r\n```\r\n\r\næˆ–è€…ä¸€å€‹æŒ‡ä»¤ç›´æ¥æŒ‡å‘é ç«¯ repo\r\n\r\n```bash\r\ngit push --mirror https://github.com/your_name/your_project.git\r\n```\r\n\r\n### å°‡æœªå®Œæˆçš„å·¥ä½œæš«å­˜ï¼šgit stash\r\n\r\nå·¥ä½œåšåˆ°ä¸€åŠï¼Œéœ€è¦åˆ‡æ›åˆ°åˆ¥çš„åˆ†æ”¯é€²è¡Œå…¶ä»–ä»»å‹™ã€‚\r\nå…ˆçœ‹ä¸€ä¸‹ç›®å‰çš„ç‹€æ…‹ï¼š\r\n\r\n```bash\r\ngit status\r\nOn branch feature/admin_controller\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n        modified:   app/Http/Controllers/RegionController.php\r\n        modified:   app/Models/Room.php\r\n        modified:   app/Models/User.php\r\n\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\n```\r\n\r\n#### å°‡ç¾éšæ®µå·¥ä½œæš«å­˜\r\n\r\nç›®å‰æ­£åœ¨ä¿®æ”¹ `app/Http/Controllers/RegionController.php` `app/Models/Room.php` `app/Models/User.php`ï¼Œä½¿ç”¨ `git stash` æŠŠä»–å€‘å­˜èµ·ä¾†ã€‚\r\n\r\n```bash\r\ngit stash\r\nSaved working directory and index state WIP on feature/admin_controller: c745ccb style(MemberController): ä¿®æ”¹responseçš„è³‡æ–™èˆ‡å–æ¶ˆè¨»è§£\r\n```\r\n\r\n> **æ³¨æ„**\r\n>\r\n> Untracked ç‹€æ…‹çš„æª”æ¡ˆç„¡æ³•è¢« stashï¼Œéœ€è¦é¡å¤–ä½¿ç”¨ `-u` åƒæ•¸\r\n\r\nçœ‹ä¸€ä¸‹ç›®å‰çš„ç‹€æ…‹\r\n\r\n```bash\r\ngit status\r\nOn branch cat\r\nnothing to commit, working tree clean\r\n```\r\n\r\n`git stash list` å¯ä»¥æŸ¥çœ‹æš«å­˜æª”æ¡ˆ\r\n\r\n```bash\r\ngit stash list\r\nstash@{0}: WIP on cat: b174a5a add cat 2\r\n```\r\n\r\n#### å–å‡ºæš«å­˜\r\n\r\nç•¶ä»»å‹™å®Œæˆï¼Œè¦æŠŠå‰›å‰›æš«å­˜çš„æ±è¥¿æ‹¿å›ä¾†\r\n\r\n```bash\r\ngit stash pop stash@{0}\r\nOn branch feature/add_new_api_route\r\nChanges not staged for commit:\r\n  (use \"git add <file>...\" to update what will be committed)\r\n  (use \"git restore <file>...\" to discard changes in working directory)\r\n        modified:   app/Http/Controllers/RegionController.php\r\n        modified:   app/Models/Room.php\r\n        modified:   app/Models/User.php\r\n\r\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\r\nDropped stash@{0} (8810ecbe89e1c1412c0c47d7fb7ded9f3e29aa53)\r\n```\r\n\r\nä½¿ç”¨ `pop` æŒ‡ä»¤ï¼Œå¯ä»¥å°‡æŸå€‹ `stash` æ‹¿å‡ºä¾†ä¸¦å¥—åˆ°ç›®å‰çš„åˆ†æ”¯ä¸Šã€‚å¥—ç”¨æˆåŠŸä¹‹å¾Œï¼Œå¥—ç”¨éçš„ `stash` å°±æœƒè¢«åˆªé™¤ã€‚  \r\nå¦‚æœæ²’æœ‰æŒ‡å®š `pop` å“ªä¸€å€‹ `stash`ï¼Œå°‡æœƒå¾ç·¨è™Ÿå°çš„ä¹Ÿå°±æ˜¯ `stash@{0}` é–‹å§‹ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯æœ€å¾Œå­˜é€²ä¾†çš„ã€‚\r\n\r\nè¦åˆªé™¤ `stash` å¯ä»¥ç”¨ `drop` æŒ‡ä»¤\r\n\r\n```bash\r\ngit stash drop stash@{0}\r\nDropped stash@{0} (87390c02bbfc8cf7a38fb42f6f3a357e51ce6cd1)\r\n```\r\n\r\nå¦‚æœè¦æŠŠ `stash` æ’¿å›ä¾†ï¼Œä½†ä¸æƒ³åˆªé™¤ï¼Œå¯ä»¥ä½¿ç”¨ `apply`\r\n\r\n```bash\r\ngit stash apply stash@{0}\r\n```\r\n\r\n#### ä¸»è¦æŒ‡ä»¤\r\n\r\n- git stash å°‡ç•¶å‰åˆ†æ”¯çš„ä¿®æ”¹å…§å®¹åŠ å…¥æš«å­˜\r\n- git stash -u å°‡ untracked æª”æ¡ˆåŠ å…¥æš«å­˜\r\n- git stash save -u \"\" å°‡ untracked æª”æ¡ˆåŠ å…¥æš«å­˜ä¸¦æ’°å¯«è¨»è§£\r\n- git stash push å°‡ä¿®æ”¹å…§å®¹åŠ å…¥æš«å­˜(å®Œæ•´æŒ‡ä»¤)\r\n- git stash push -m å°‡ä¿®æ”¹å…§å®¹åŠ å…¥æš«å­˜ï¼Œä¸¦åŠ å…¥è¨»è§£\r\n- git stash list ç€è¦½æ‰€æœ‰æš«å­˜é …ç›®\r\n- git stash pop å°‡æœ€æ–°æš«å­˜å¥—ç”¨è‡³ç•¶å‰åˆ†æ”¯ï¼ŒæˆåŠŸå¾Œåˆªé™¤æš«å­˜\r\n- git stash pop stash@{1} å°‡æŒ‡å®šæš«å­˜å¥—ç”¨è‡³ç•¶å‰åˆ†æ”¯ï¼ŒæˆåŠŸå¾Œåˆªé™¤æš«å­˜\r\n- git stash apply å¥—ç”¨æœ€æ–°æš«å­˜ï¼ŒæˆåŠŸå¾Œä¿ç•™æš«å­˜\r\n- git stash apply stash@{1} å¥—ç”¨æŒ‡å®šæš«å­˜ï¼ŒæˆåŠŸå¾Œä¿ç•™æš«å­˜\r\n- git stash drop æ¸…é™¤æœ€æ–°æš«å­˜\r\n- git stash drop stash@{1} æ¸…é™¤æŒ‡å®šæš«å­˜\r\n- git stash clear æ¸…é™¤å…¨éƒ¨æš«å­˜\r\n\r\n### è§£æ±ºåˆä½µè¡çª\r\n\r\nç•¶åœ¨ä¸åŒåˆ†æ”¯ä¸­ï¼Œä¿®æ”¹åŒä¸€æª”æ¡ˆçš„ä¸åŒè¡Œï¼Œæ­¤æ™‚åˆä½µä¸æœƒç™¼ç”Ÿå•é¡Œã€‚  \r\nå€˜è‹¥ä¿®æ”¹çš„æ˜¯åŒä¸€è¡Œï¼Œå°±æœƒç™¼ç”Ÿåˆä½µè¡çªã€‚\r\n\r\n```bash\r\ngit merge feature/create_device_model\r\nAuto-merging app-src/app/Http/Controllers/UserController.php\r\nCONFLICT (content): Merge conflict in app-src/app/Http/Controllers/UserController.php\r\nAuto-merging app-src/app/Models/Room.php\r\nAuto-merging app-src/app/Models/User.php\r\nCONFLICT (content): Merge conflict in app-src/app/Models/User.php\r\nAutomatic merge failed; fix conflicts and then commit the result.\r\n```\r\n\r\næœ‰å‡ºç¾ CONFLICT (content)æç¤ºçš„æª”æ¡ˆï¼Œç‚ºç™¼ç”Ÿåˆä½µè¡çªçš„æª”æ¡ˆã€‚  \r\næ­¤æ™‚åœ¨æª”æ¡ˆä¸­ï¼ŒGit æœƒå°‡è¡çªä½ç½®æ¨™ç¤ºå‡ºä¾†ã€‚\r\n\r\n```php\r\n<<<<<<< HEAD\r\nç•¶å‰å…§å®¹ã€‚\r\n=======\r\nè¦åˆä½µçš„ç›®æ¨™åˆ†æ”¯ä¸Šæ­§ç•°çš„å…§å®¹ã€‚\r\n>>>>>>> feature/i_am_old_branch\r\n```\r\n\r\nä¿®æ­£è¡çªé»å¾Œï¼Œå°‡ä¿®æ”¹çš„æª”æ¡ˆæš«å­˜ï¼Œæœ€å¾Œé€²è¡Œæäº¤ã€‚\r\n\r\n```bash\r\ngit add --all\r\ngit commit\r\n```\r\n\r\n### æ›´æ”¹ git remote ä½ç½®\r\n\r\nç•¶ä¿®æ”¹ git repo çš„åç¨±æˆ–æ˜¯è·¯å¾‘æ™‚ï¼Œè‹¥è¦åœ¨æœ¬æ©Ÿé€²è¡Œ push æˆ–æ˜¯ pull çš„æŒ‡ä»¤æ™‚ï¼Œæœƒå‡ºç¾ï¼šremote: This repository moved. Please use the new location [new location]\r\n\r\n- è§£æ±ºè¾¦æ³•ï¼šé‡æ–°è¨­å®š remote url\r\n\r\n  ```bash\r\n  git remote set-url origin https://XXX.git\r\n  ```\r\n\r\n  æª¢æŸ¥ remote url æ˜¯å¦ä¿®æ”¹æˆåŠŸ\r\n\r\n  ```bash\r\n  git remote -v\r\n  ```\r\n\r\n### å–æ¶ˆ merge æ¸…é™¤åˆä½µç´€éŒ„\r\n\r\n> [Git å¯¦æˆ°æŠ€å·§ - å–æ¶ˆåˆä½µ](https://blog.darkthread.net/blog/git-undo-merge/)\r\n\r\nç•¶ feature èˆ‡ develop åˆ†æ”¯çš„åˆä½µä½ç½®æœ‰èª¤ï¼Œæƒ³è¦æ‹†æ‰é‡åš\r\n\r\n```bash\r\ndb7915e (HEAD -> dev, feature/mqtt_test) feat: æ¸¬è©¦mqtté€£ç·š\r\nb65d2d2 (tag: release_v2.0.0, origin/dev) no message\r\n0a198be refactor(firmware index page): å„ªåŒ–firmwareå‰ç«¯é é¢\r\n539942f (origin/master, origin/HEAD, master) Merge branch 'feature/fix_firmware_download' into dev\r\n1a4515a fix(firmwareController): ä¿®å¾©firmwareä¸‹è¼‰å•é¡Œ\r\nd1e204f docs(README): ä¿®æ”¹ä¸Šç·šç’°å¢ƒè¨­å®š\r\n```\r\n\r\n`git rebase -i` ï¼šé‡æ•´ç›®æ¨™ commit ä¹‹å¾Œçš„ commitï¼šé‡æ•´æ¸…å–®ä¸­ä¸æœƒæœ‰ä¸‹æŒ‡ä»¤çš„ commit è€Œæ˜¯é¡¯ç¤ºå…¶å¾Œæ‰€æœ‰çš„ commitã€‚\r\n\r\n```bash\r\ngit rebase -i 0a198be\r\n```\r\n\r\nè¼¸å…¥æŒ‡ä»¤ä¹‹å¾Œæœƒé€²å…¥ç·¨è¼¯å™¨\r\n\r\n```vim\r\npick db7915e feat: æ¸¬è©¦mqtté€£ç·š\r\npick b65d2d2 no message\r\n\r\n# Rebase 539942f..879c462 onto 539942f (3 commands)\r\n#\r\n# Commands:\r\n# p, pick <commit> = use commit\r\n# r, reword <commit> = use commit, but edit the commit message\r\n# e, edit <commit> = use commit, but stop for amending\r\n# s, squash <commit> = use commit, but meld into previous commit\r\n# f, fixup [-C | -c] <commit> = like \"squash\" but keep only the previous\r\n#                    commit's log message, unless -C is used, in which case\r\n#                    keep only this commit's message; -c is same as -C but\r\n#                    opens the editor\r\n```\r\n\r\nä¸¦å°‡è¦å–æ¶ˆçš„ commit æ”¹ç‚º drop\r\n\r\n```vim\r\ndrip db7915e feat: æ¸¬è©¦mqtté€£ç·š\r\npick b65d2d2 no message\r\n```\r\n\r\n```bash\r\nb65d2d2 (HEAD -> dev, tag: release_v2.0.0, origin/dev) no message\r\n0a198be refactor(firmware index page): å„ªåŒ–firmwareå‰ç«¯é é¢\r\n539942f (origin/master, origin/HEAD, master) Merge branch 'feature/fix_firmware_download' into dev\r\n1a4515a fix(firmwareController): ä¿®å¾©firmwareä¸‹è¼‰å•é¡Œ\r\n```\r\n\r\n### æ–°å¢é ç«¯å„²å­˜åº«\r\n\r\n```bash\r\ngit init\r\n\r\ngit add .\r\n\r\ngit commit -m \"First commit\"\r\n```\r\n\r\næ·»åŠ é ç«¯å„²å­˜åº«çš„è·¯å¾‘\r\n\r\n```bash\r\n## git remote add origin \"remote repository URL\"\r\ngit remote add origin //fishbone/ç ”ç™¼éƒ¨/è»Ÿé«”å€/GitServer/V5/*.git\r\n```\r\n\r\nå°‡é ç«¯å„²å­˜åº«åˆå§‹åŒ–\r\n\r\n```bash\r\n## git init --bare \"remote repository URL\"\r\ngit init --bare //fishbone/ç ”ç™¼éƒ¨/éŸŒé«”å€/GitServer/V5/*.git\r\n```\r\n\r\nå°‡æœ¬åœ°å„²å­˜åº«å…§å®¹æ¨é€åˆ°é ç«¯\r\n\r\n```bash\r\ngit push --set-upstream origin main\r\n```\r\n\r\n### Git åˆ¥å\r\n\r\nä¿®æ”¹ `~/.gitconfig`\r\n\r\n```vim\r\n[alias]\r\nst = status\r\nptlg = log --color --graph --pretty=format:'%C(yellow)%h%Creset %C(bold brightred)%d%Creset %C()%s%Creset \\n %C(blue italic dim)-- %an%Creset %C(green italic dim)(%cr)%Creset'\r\nadal = add --all\r\n```\r\n\r\n### å»ºç«‹ git é ç«¯ repository\r\n\r\n> ä¸»æ©Ÿæ¶è¨­ ssh server\r\n>\r\n> ä¸»æ©Ÿå®‰è£å¥½ git\r\n\r\n1. åœ¨è¦å»ºç«‹é ç«¯ repository çš„è³‡æ–™å¤¾åº•ä¸‹ï¼Œæ–°å¢å°ˆæ¡ˆè³‡æ–™å¤¾ `<project-name>.git`\r\n2. åˆ‡æ›åˆ°æ–°å»ºçš„è³‡è¦å¤¾åº•ä¸‹ï¼Œåˆå§‹åŒ–é ç«¯å€‰åº«\r\n\r\n   ```shell\r\n    $ git init --bare\r\n   ```\r\n\r\n3. ç¢ºèªè³‡æ–™å¤¾ä¸­ä»¥å»ºç«‹çš„æª”æ¡ˆ\r\n\r\n   ```shell\r\n    $ ls\r\n    branches  config  description  HEAD  hooks  info  objects  refs\r\n   ```\r\n\r\n4. æäº¤æœ¬åœ°å°ˆæ¡ˆæˆ–å°‡æœ¬åœ°å°ˆæ¡ˆçš„é ç«¯æŒ‡å‘æ­¤ repository\r\n\r\n## Git ç®¡ç†\r\n\r\n### ä½¿ç”¨ VSCode ç®¡ç† Git\r\n\r\n> [Visual Studio Code ç„¡éœ€è¼¸å…¥ Git æŒ‡ä»¤ï¼Œé€éç•Œé¢æŒ‰éˆ•å°±å¯è¼•é¬†ç®¡ç† Github ä¸­çš„å°ˆæ¡ˆæª”æ¡ˆ](https://www.minwt.com/webdesign-dev/22926.html)\r\n\r\n## GitHub æ“ä½œ\r\n\r\n### å°‡æœ¬åœ°å°ˆæ¡ˆä¸Šå‚³åˆ° github\r\n\r\n1. git init\r\n2. git add .\r\n3. git commit -m \"init commit\"\r\n4. git remote add origin `https://github.com/<username>/<repo>.git`\r\n5. git push -u origin master\r\n\r\n### Https è¨­å®š Token\r\n\r\nç•¶ä½¿ç”¨æ¨é€ï¼Œè¼¸å…¥ github å¯†ç¢¼æœƒå‡ºç¾éŒ¯èª¤ã€‚\r\n\r\n```terminal\r\nchanggenglu@masenyuandeMacBook-Air ~ % git push -u origin master\r\nremote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.\r\nremote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.\r\nfatal: unable to access 'https://github.com/changgenglu/your_project.git/': The requested URL returned error: 403\r\n```\r\n\r\nå¤§è‡´æ„æ€æ˜¯ï¼Œå¯†ç¢¼é©—è­‰æ–¼ 2021 å¹´ 8 æœˆ 13 æ—¥ä¸å†æ”¯æ´ï¼Œä¹Ÿå°±æ˜¯ä»Šå¤©ä¸èƒ½å†ç”¨å¯†ç¢¼æ–¹å¼å»æäº¤ç¨‹å¼ç¢¼ã€‚è«‹ç”¨ä½¿ç”¨ **personal access token** æ›¿ä»£ã€‚\r\n\r\n#### è¨­å®š personal access token\r\n\r\n- é–‹å•Ÿ GitHub.com -> Setting -> Developer settings -> Personal access tokens\r\n- æŒ‰ä¸‹`Generate new token`\r\n- Note æ¬„ä½å¡«å…¥ token çš„å‚™è¨»\r\n- Expiration è¨­å®š token çš„æ™‚æ•ˆ\r\n- Select scopes è¨­å®šæ¬Šé™ï¼ˆåŸºæœ¬å…¨éƒ¨é–‹å•Ÿï¼‰\r\n- æŒ‰ä¸‹`Generate token`\r\n- è¤‡è£½ token ä»£ç¢¼\r\n\r\nå†æ¬¡ä½¿ç”¨çµ‚ç«¯æ©Ÿæ¨é€\r\n\r\n```terminal\r\ngit push -u origin master\r\n```\r\n\r\nè¼¸å…¥ github å¯†ç¢¼çš„åœ°æ–¹ï¼Œè²¼ä¸Š token ä»£ç¢¼\r\n\r\n### è¨­å®š SSH\r\n\r\n#### è¼¸å…¥æŒ‡ä»¤ç”¢ç”Ÿ SHH\r\n\r\n```terminal\r\nssh-keygen\r\n```\r\n\r\nç”¢ç”Ÿ\r\n\r\n```terminal\r\n$ Enter file in which to save the key (/Users/changgenglu/.ssh/id_rsa):\r\n# é€™è¡Œåªæ˜¯ç¢ºå®šå­˜åœ¨å“ª\r\n$ Overwrite (y/n)?\r\n# å¦‚æœåŸæœ¬å°±æœ‰é‡‘é‘°æœƒè·³å‡ºæ­¤å•é¡Œï¼Œè¦†è“‹å—ï¼Ÿ (æ˜¯)\r\n$ Enter passphrase (empty for no passphrase):\r\n$ Enter same passphrase again:\r\n# è¼¸å…¥å¯†ç¢¼ï¼Œå†æ¬¡ç¢ºèªè¼¸å…¥å¯†ç¢¼\r\n```\r\n\r\næ­¤è™•çš„è¼¸å…¥å¯†ç¢¼ç‚ºä½¿ç”¨è‡³å€‹é‡‘é‘°çš„å¯†ç¢¼ï¼Œå¯ä»¥é¸æ“‡ä¸è¼¸å…¥ã€‚\r\n\r\n#### ç”¢ç”Ÿ SSH é€£ç·šæ‰€éœ€çš„å…¬é‘°å…§å®¹\r\n\r\n```terminal\r\ncat ~/.ssh/id_rsa.pub\r\n```\r\n\r\nè¼¸å‡ºå¯¦ä¾‹\r\n\r\n```terminal\r\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDFp+A3qe4qm1Dkw66LN/vNGlufX5iC9VERfuUiXHNM5L3hQuz6wO8WuzFv+zDIHRPGUl616oLXTHTqommuO0GZavDo+lbUIRkSBM9j/9tr+hlF4LPTT4ggjOgzLCHTrSyzcmcdykgBfnDgX3aYfZbhCEcWdERUxWFNnDf+YYlNd8L6LMKSIce61nhqiSLNbugDCrE0IH+/1hoS3LNoag9V05Qwo5yZ6srLNJT8uISoqvJv5BwSpBL9ImnePx+LzDiVXlJMisKf1GSXdVuWmVWlKrZOsadk4ZkSNH2cL1wgkNvAUbydWKG9Ag4TfI/khKwUXyhT+7V4jWsJusDXZxafylZma4qeOsaLAN4ScSStnOoSm1CxeNqmPsQpAGbtvx49yB2+c4HFsa68VzcwV1oejhh2E67iqqKK53IFN/qQmYYfhUukY6rgLLHlLkmjLqdVpVcULCP0mMzn4xacFWLwDgOtZK1i97vWaLPyG6hYQQ108zK9i/Cg13p0Z+CUTCs= changgenglu@masenyuandeMacBook-Air.local\r\n```\r\n\r\n#### ä¸Šå‚³å…¬é‘°\r\n\r\nåˆ° Github > Settings > SSH and GPG keys çš„è¨­å®šé é¢ï¼Œé¸æ“‡ New SSH Keyã€‚\r\n\r\n### éƒ¨ç½²éœæ…‹é é¢åˆ° github\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [[Vue] å°‡ Vue å°ˆæ¡ˆéƒ¨ç½²è‡³ Github Pages](https://dean34520.medium.com/vue%E7%B3%BB%E5%88%97%E6%96%87-%E5%B0%87vue%E6%AA%94%E6%A1%88%E9%83%A8%E7%BD%B2%E8%87%B3github-334951cadede)\r\n\r\n1. å»ºç«‹èˆ‡æœ¬åœ°å°ˆæ¡ˆç›¸åŒåç¨±çš„ repository\r\n2. åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾ä¸­æ–°å¢ vue.config.jsï¼Œè¨­å®š publishPath\r\n\r\n   ```javascript\r\n   //vue.config.js\r\n   module.exports = {\r\n     publicPath: process.env.NODE_ENV === \"production\" ? \"/eric-project/\" : \"/\",\r\n   };\r\n   ```\r\n\r\n3. å°‡æœ¬åœ°å°ˆæ¡ˆæ¨é€è‡³é›²ç«¯\r\n4. åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹æ–°å¢ deploy.sh è‡ªå‹•åŒ–è…³æœ¬\r\n\r\n   ```sh\r\n    #!/usr/bin/env sh\r\n    # ç•¶ç™¼ç”ŸéŒ¯èª¤æ™‚çµ‚æ­¢è…³æœ¬é‹è¡Œ\r\n    set -e\r\n    # æ‰“åŒ…\r\n    npm run build\r\n    # ç§»å‹•è‡³åˆ°æ‰“åŒ…å¾Œçš„distç›®éŒ„\r\n    cd dist\r\n    # å› ç‚ºdistè³‡æ–™å¤¾é è¨­æ˜¯è¢«ignoreçš„ï¼Œå› æ­¤åœ¨é€²å…¥distè³‡æ–™å¤¾å¾Œåˆå§‹åŒ–git\r\n    git init\r\n    git add -A\r\n    git commit -m 'deploy'\r\n    # éƒ¨ç½²åˆ° https://github.com/<user-name>/<repo-name>.git åˆ†æ”¯ç‚º gh-pages\r\n    git push -f https://github.com/<user-name>/<repo-name>.git master:gh-pages\r\n    # å°‡distè³‡æ–™å¤¾ä¸­çš„å…§å®¹æ¨é€è‡³é ç«¯eric-projectçš„gh-pagesåˆ†æ”¯ä¸­ï¼Œä¸¦å¼·åˆ¶ç„¡æ¢ä»¶å°‡èˆŠæœ‰çš„å…§å®¹å–ä»£æˆç›®å‰çš„å…§å®¹ï¼ˆæŒ‡ä»¤ git push -f)\r\n    cd -\r\n   ```\r\n\r\n   github åœ¨éƒ¨ç½²æ™‚åªå…è¨±ä¸‰ç¨®ä¾†æºï¼š\r\n\r\n   1. master\r\n   2. gh-pages\r\n   3. master/docs\r\n\r\n5. åŸ·è¡Œè…³æœ¬\r\n\r\n   ```shell\r\n   sh ./deploy.sh\r\n   ```\r\n\r\n   å®Œæˆå¾Œï¼Œæ­¤æ™‚ github ä¸Šçš„ gh-pages åˆ†æ”¯æœƒå’Œ vue å°ˆæ¡ˆä¸­çš„ /dist è³‡æ–™å¤¾å…§ä¸€æ¨£\r\n\r\n6. é€²å…¥ setting é é¢çš„ pagesï¼Œå°‡ Source æ”¹ç‚º gh-pages\r\n7. å¾…éƒ¨ç½²å®Œæˆï¼Œé é¢ä¸Šæ–¹æœƒå‡ºç¾å°ˆæ¡ˆé é¢çš„é€£çµ\r\n","date":"2023-07-20T05:48:23.168Z","matchingLines":["## å¸¸ç”¨æŒ‡ä»¤\r","## Git Flow é–‹ç™¼æµç¨‹è§€å¿µ\r","## Git æ“ä½œæƒ…å¢ƒ\r","## git remote add origin \"remote repository URL\"\r","## git init --bare \"remote repository URL\"\r","## Git ç®¡ç†\r","## GitHub æ“ä½œ\r"],"tocContent":"- [Git å­¸ç¿’ç­†è¨˜](#git-å­¸ç¿’ç­†è¨˜)\r\n  - [å¸¸ç”¨æŒ‡ä»¤](#å¸¸ç”¨æŒ‡ä»¤)\r\n    - [Git å¸¸ç”¨æŒ‡ä»¤](#git-å¸¸ç”¨æŒ‡ä»¤)\r\n    - [Git Bash å¸¸ç”¨æŒ‡ä»¤](#git-bash-å¸¸ç”¨æŒ‡ä»¤)\r\n  - [Git Flow é–‹ç™¼æµç¨‹è§€å¿µ](#git-flow-é–‹ç™¼æµç¨‹è§€å¿µ)\r\n    - [åˆ†æ”¯ä»‹ç´¹](#åˆ†æ”¯ä»‹ç´¹)\r\n      - [é•·æœŸåˆ†æ”¯](#é•·æœŸåˆ†æ”¯)\r\n      - [Topic ä»»å‹™åˆ†æ”¯](#topic-ä»»å‹™åˆ†æ”¯)\r\n        - [feature](#feature)\r\n        - [release](#release)\r\n        - [hotfix](#hotfix)\r\n    - [Git Commit è¦ç¯„](#git-commit-è¦ç¯„)\r\n      - [Commit Message æ ¼å¼](#commit-message-æ ¼å¼)\r\n      - [æ¨™é¡Œ](#æ¨™é¡Œ)\r\n      - [æ­£æ–‡](#æ­£æ–‡)\r\n      - [Footer](#footer)\r\n      - [commit æ¨¡æ¿](#commit-æ¨¡æ¿)\r\n  - [Git æ“ä½œæƒ…å¢ƒ](#git-æ“ä½œæƒ…å¢ƒ)\r\n    - [å°‡ git é è¨­çš„ç·¨è¼¯å™¨æ”¹ç‚º vim](#å°‡-git-é è¨­çš„ç·¨è¼¯å™¨æ”¹ç‚º-vim)\r\n    - [å–æ¶ˆ commitï¼šgit reset](#å–æ¶ˆ-commitgit-reset)\r\n      - [ç¢ºèª git ç´€éŒ„](#ç¢ºèª-git-ç´€éŒ„)\r\n      - [åˆ©ç”¨ç›¸å°ä½ç½®å–æ¶ˆ commit](#åˆ©ç”¨ç›¸å°ä½ç½®å–æ¶ˆ-commit)\r\n      - [åˆ©ç”¨çµ•å°ä½ç½®å–æ¶ˆ commit](#åˆ©ç”¨çµ•å°ä½ç½®å–æ¶ˆ-commit)\r\n    - [git commit æ‰“éŒ¯å­—](#git-commit-æ‰“éŒ¯å­—)\r\n    - [è½‰ç§»è³‡æ–™åº«ï¼šgit mirror](#è½‰ç§»è³‡æ–™åº«git-mirror)\r\n    - [å°‡æœªå®Œæˆçš„å·¥ä½œæš«å­˜ï¼šgit stash](#å°‡æœªå®Œæˆçš„å·¥ä½œæš«å­˜git-stash)\r\n      - [å°‡ç¾éšæ®µå·¥ä½œæš«å­˜](#å°‡ç¾éšæ®µå·¥ä½œæš«å­˜)\r\n      - [å–å‡ºæš«å­˜](#å–å‡ºæš«å­˜)\r\n      - [ä¸»è¦æŒ‡ä»¤](#ä¸»è¦æŒ‡ä»¤)\r\n    - [è§£æ±ºåˆä½µè¡çª](#è§£æ±ºåˆä½µè¡çª)\r\n    - [æ›´æ”¹ git remote ä½ç½®](#æ›´æ”¹-git-remote-ä½ç½®)\r\n    - [å–æ¶ˆ merge æ¸…é™¤åˆä½µç´€éŒ„](#å–æ¶ˆ-merge-æ¸…é™¤åˆä½µç´€éŒ„)\r\n    - [æ–°å¢é ç«¯å„²å­˜åº«](#æ–°å¢é ç«¯å„²å­˜åº«)\r\n    - [Git åˆ¥å](#git-åˆ¥å)\r\n    - [å»ºç«‹ git é ç«¯ repository](#å»ºç«‹-git-é ç«¯-repository)\r\n  - [Git ç®¡ç†](#git-ç®¡ç†)\r\n    - [ä½¿ç”¨ VSCode ç®¡ç† Git](#ä½¿ç”¨-vscode-ç®¡ç†-git)\r\n  - [GitHub æ“ä½œ](#github-æ“ä½œ)\r\n    - [å°‡æœ¬åœ°å°ˆæ¡ˆä¸Šå‚³åˆ° github](#å°‡æœ¬åœ°å°ˆæ¡ˆä¸Šå‚³åˆ°-github)\r\n    - [Https è¨­å®š Token](#https-è¨­å®š-token)\r\n      - [è¨­å®š personal access token](#è¨­å®š-personal-access-token)\r\n    - [è¨­å®š SSH](#è¨­å®š-ssh)\r\n      - [è¼¸å…¥æŒ‡ä»¤ç”¢ç”Ÿ SHH](#è¼¸å…¥æŒ‡ä»¤ç”¢ç”Ÿ-shh)\r\n      - [ç”¢ç”Ÿ SSH é€£ç·šæ‰€éœ€çš„å…¬é‘°å…§å®¹](#ç”¢ç”Ÿ-ssh-é€£ç·šæ‰€éœ€çš„å…¬é‘°å…§å®¹)\r\n      - [ä¸Šå‚³å…¬é‘°](#ä¸Šå‚³å…¬é‘°)\r\n    - [éƒ¨ç½²éœæ…‹é é¢åˆ° github](#éƒ¨ç½²éœæ…‹é é¢åˆ°-github)"},{"name":"VueX å­¸ç¿’ç­†è¨˜.md","content":"# VueX å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [Vuex æ˜¯ä»€éº¼? æ€éº¼ç”¨?](https://medium.com/itsems-frontend/vue-vuex5-sumup-c170d4bd6c42)\r\n>\r\n> å¯¦ä½œï¼š\r\n>\r\n> [github-repo](https://github.com/changgenglu/vuex-note)\r\n>\r\n> [github-pages](https://changgenglu.github.io/vuex-note/)\r\n\r\n## ä»€éº¼æ˜¯ VueX\r\n\r\nä¸€å€‹å°ˆé–€ç‚º vue å°ˆæ¡ˆé–‹ç™¼çš„è³‡æ–™ç®¡ç†å¥—ä»¶ï¼Œå¯ä»¥ç‚ºç¶²ç«™åšå…¨åŸŸçš„è³‡æ–™ç®¡ç†ã€‚\r\n\r\nåœ¨å°ˆæ¡ˆçµæ§‹ä¸‹é¢å¯èƒ½æœƒæœ‰å¤šå€‹çµ„ä»¶ï¼Œçµ„ä»¶ä¸­åˆæœƒæœ‰çµ„ä»¶ï¼Œçµ„ä»¶çš„æºé€šï¼Œé€šå¸¸æœƒæœƒé€é emit å’Œ propï¼Œè€Œç‚ºäº†è™•ç†å¤§å‹å°ˆæ¡ˆçš„å…„å¼Ÿçµ„ä»¶é–“çš„æºé€šï¼ŒVueX å°±é€™æ¨£èª•ç”Ÿäº†ã€‚\r\n\r\nVueX æœ‰ä¸€é»åƒæ˜¯å…¨åŸŸçš„ componentsï¼Œå¤§å®¶å¯ä»¥æ‹¿ä»–è³‡æ–™ï¼Œå‘¼å«ä»–å‡ºä¾†ç”¨ã€‚\r\n\r\nstate å°±åƒæ˜¯ dataï¼Œaction + Mutation å°±åƒæ˜¯ methodsï¼Œgetters å°±åƒ computed\r\n\r\nåœ¨ VueX ä¸­ï¼Œå„²å­˜çš„ç‹€æ…‹ç‚º Stateï¼ŒComponent ä½¿ç”¨ Dispatch å‘¼å« Actionsï¼Œè®“ Actions ç™¼å‡º commit è§¸ç™¼ Mutations å»ä¿®æ”¹ State çš„è³‡æ–™ã€‚æ•´å€‹ VueX çš„æ–¹æ³•ä¹Ÿç¨±ç‚º storeã€‚\r\n\r\n## å¸¶å…¥åƒæ•¸åŠå‘¼å«æ–¹æ³•\r\n\r\n### State\r\n\r\n- å®šç¾©ï¼š/store.js\r\n\r\n  ```javascript\r\n  import Vue from \"vue\";\r\n  import Vuex from \"vuex\";\r\n  Vue.use(Vuex);\r\n\r\n  const store = new Vuex.Store({\r\n    state: {\r\n      isLoading: false,\r\n    },\r\n  });\r\n  export default store;\r\n  ```\r\n\r\n- ä½¿ç”¨ï¼š/app.vue\r\n\r\n  ```html\r\n  <template>\r\n    <div id=\"app\">\r\n      <p>isLoading: {{ ifLoading }}</p>\r\n    </div>\r\n  </template>\r\n\r\n  <script>\r\n    export default {\r\n      name: \"app\",\r\n      computed: {\r\n        // æ³¨æ„: é€™é‚Šçš„ifLoadingè·Ÿstoreçš„stateçš„isLoadingåå­—ä¸åŒï¼Œæ˜¯å¯ä»¥è‡ªå®šç¾©çš„å–”\r\n        ifLoading() {\r\n          return this.$store.state.isLoading;\r\n        },\r\n      },\r\n    };\r\n  </script>\r\n  ```\r\n\r\n### mapState\r\n\r\n- å®šç¾©ï¼š/store.js\r\n\r\n  ```javascript\r\n  import Vue from \"vue\";\r\n  import Vuex from \"vuex\";\r\n  Vue.use(Vuex);\r\n\r\n  const store = new Vuex.Store({\r\n    state: {\r\n      myName: \"Emma\",\r\n      isLoading: false,\r\n    },\r\n  });\r\n\r\n  export default store;\r\n  ```\r\n\r\n- ä½¿ç”¨ï¼š/app.vue\r\n\r\n  ```html\r\n  <template>\r\n    <div id=\"app\">\r\n      <p>My Name is {{ myName }}</p>\r\n      <p>isLoading: {{ isLoading }}</p>\r\n    </div>\r\n  </template>\r\n\r\n  <script>\r\n    import { mapState } from \"vuex\";\r\n    export default {\r\n      name: \"app\",\r\n      computed: {\r\n        // é™£åˆ—å¯«æ³•\r\n        ...mapState([\"isLoading\", \"myName\"])\r\n        // ç‰©ä»¶å¯«æ³•\r\n        ...mapState({\r\n          isLoading: state => state.isLoading,\r\n          myName:  state => state.myName,\r\n        })\r\n      }\r\n    };\r\n  </script>\r\n  ```\r\n\r\n### Getters\r\n\r\n- å¯å¸¶åƒæ•¸ï¼šstate, getters\r\n- å®šç¾©ï¼š/store.js\r\n\r\n  ```javascript\r\n  import Vue from \"vue\";\r\n  import Vuex from \"vuex\";\r\n  Vue.use(Vuex);\r\n\r\n  const store = new Vuex.Store({\r\n    state: {\r\n      myName: \"Emma\",\r\n    },\r\n    getters: {\r\n      // åªæœ‰ä¸€å€‹åƒæ•¸çš„ç®­é ­å‡½å¼å¯«æ³•\r\n      newName: (state) => {\r\n        return state.myName + \" lin\";\r\n      },\r\n    },\r\n  });\r\n\r\n  export default store;\r\n  ```\r\n\r\n- ä½¿ç”¨ï¼š/app.vue\r\n\r\n  ```html\r\n  <template>\r\n    <div id=\"app\">\r\n      <p>My New Name is {{ newName }}</p>\r\n    </div>\r\n  </template>\r\n\r\n  <script>\r\n    export default {\r\n      name: \"app\",\r\n      computed: {\r\n        newName() {\r\n          return this.$store.getters.newName;\r\n        },\r\n      },\r\n    };\r\n  </script>\r\n  ```\r\n\r\nåŠ ä¸Šåƒæ•¸ getters è¡¨ç¤ºå¯ä»¥å‘¼å«åˆ¥çš„ getters ä¾†ç”¨\r\n\r\n- å®šç¾©ï¼š/store.js\r\n\r\n  ```javascript\r\n  import Vue from \"vue\";\r\n  import Vuex from \"vuex\";\r\n  Vue.use(Vuex);\r\n\r\n  const store = new Vuex.Store({\r\n    state: {\r\n      myName: \"Emma\",\r\n    },\r\n    getters: {\r\n      newName: (state) => {\r\n        return state.myName + \" lin\";\r\n      },\r\n      // é€™é‚Šå‘¼å«ä¸‹é¢é‚£å€‹getters\r\n      anotherName: (state, getters) => {\r\n        return getters.nickName;\r\n      },\r\n      nickName: (state) => {\r\n        return state.myName + \" Watson\";\r\n      },\r\n    },\r\n  });\r\n\r\n  export default store;\r\n  ```\r\n\r\n- ä½¿ç”¨ï¼š/app.vue\r\n\r\n  ```html\r\n  <template>\r\n    <div id=\"app\">\r\n      <p>My New Name is {{ newName }}</p>\r\n      <p>or you can call me {{ anotherName }}</p>\r\n    </div>\r\n  </template>\r\n\r\n  <script>\r\n    export default {\r\n      name: \"app\",\r\n      computed: {\r\n        newName() {\r\n          return this.$store.getters.newName;\r\n        },\r\n        anotherName() {\r\n          return this.$store.getters.anotherName;\r\n        },\r\n      },\r\n    };\r\n  </script>\r\n  ```\r\n\r\n### mapGetters\r\n\r\nå®šç¾©å’Œä¸Šé¢çš„ store.js ç›¸åŒï¼Œå·®ç•°åœ¨ components å‘¼å«çš„æ™‚å€™\r\n\r\n- ä½¿ç”¨ï¼š\r\n\r\n  ```javascript\r\n  <script>\r\n    import { mapGetters } from \"vuex\";\r\n    export default {\r\n      name: \"app\",\r\n      computed: {\r\n        // é™£åˆ—å¯«æ³•\r\n        ...mapGetters([\"newName\", \"anotherName\"])\r\n        // ç‰©ä»¶å¯«æ³•\r\n        ...mapGetters({\r\n          newName: \"newName\",\r\n          anotherName: \"anotherName\"\r\n        })\r\n      }\r\n    };\r\n  </script>\r\n  ```\r\n\r\n### mutations\r\n\r\nå¯å¸¶åƒæ•¸ï¼šstate, payload\r\n\r\n- ä½¿ç”¨ï¼š/app.vue\r\n\r\n  ```javascript\r\n  methods: {\r\n    reverse() {\r\n      this.$store.commit(\"Loaded\");\r\n    },\r\n  }\r\n  ```\r\n\r\n- with payload:\r\n  é€šå¸¸ payload å¯ä»¥ç”¨ç‰©ä»¶è¡¨ç¤ºï¼Œå°±èƒ½æ›´å…·æè¿°æ€§ï¼Œä½†æ˜¯è¦è¨˜å¾—åœ¨ mutations é‹ç®—æ™‚ï¼Œå¸¶å…¥çš„åƒæ•¸ payload è¦åŠ ä¸Šåƒæ•¸ç‰©ä»¶çš„ key\r\n\r\n  - /app.vue\r\n\r\n    ```javascript\r\n    store.commit(\"addCounts\", {\r\n      amount: 10,\r\n    });\r\n    ```\r\n\r\n  - /store.js\r\n\r\n    ```javascript\r\n    mutations: {\r\n      addCounts (state, payload) {\r\n        state.count += payload.amount\r\n      }\r\n    }\r\n    ```\r\n\r\n  - æ‰€ä»¥å¸¶ä¸Š payload çš„å‘¼å«å¯ä»¥é€™æ¨£ä½¿ç”¨ï¼š\r\n\r\n    ```javascript\r\n    this.$store.commit(\"addTimes\", 10);\r\n    // æˆ–\r\n    this.$store.commit({\r\n      type: \"addTimes\",\r\n      count: 2,\r\n    });\r\n    ```\r\n\r\n    ç‰©ä»¶ type æ˜¯å¿…è¦çš„ï¼Œå…¶ä»–å¯ä»¥éš¨æ„\r\n\r\n### mapMutations\r\n\r\n```javascript\r\n<script>\r\n  import { mapMutations } from \"vuex\";\r\n  export default {\r\n    name: \"app\",\r\n    computed: {\r\n      // é™£åˆ—å¯«æ³•\r\n      ...mapMutations([\"Loaded\", \"addTimes\"])\r\n      // ç‰©ä»¶å¯«æ³•\r\n      ...mapMutations({\r\n        // addæ˜¯componentè‡ªå®šç¾©çš„äº‹ä»¶åç¨±ï¼ŒaddTimesæ˜¯mutationsåœ¨storeçš„åç¨±\r\n        add: 'addTimes'\r\n      })\r\n    }\r\n  };\r\n</script>\r\n```\r\n\r\nä½¿ç”¨ mapMutationsï¼Œå°±è¦æŠŠ payload ç›´æ¥å¸¶å…¥ templateï¼š\r\n\r\n```html\r\n<button @click=\"addTimes(2)\">addTimes</button>\r\n```\r\n\r\n**æ³¨æ„**ï¼šmutations ä¸€å®šåªèƒ½åŒæ­¥åŸ·è¡Œï¼Œaction æ‰èƒ½åŸ·è¡ŒéåŒæ­¥\r\n\r\n### actions\r\n\r\n- å¯å¸¶åƒæ•¸ï¼š\r\n  - context: {commit, dispatch, state, getters, rootState, rootGetters}, payload\r\n\r\nä¸Šé¢æè¿° mutations åªèƒ½åŒæ­¥åŸ·è¡Œï¼Œaction åŸ·è¡ŒéåŒæ­¥ï¼Œæ„æ—¨ axios è¦åœ¨ Actions è£¡é¢åšï¼Œä¸å¯ä»¥åœ¨ mutations è£¡é¢åšã€‚\r\n\r\n- å®šç¾©ï¼š/app.vue\r\n\r\n  ```javascript\r\n  ClickedActions({ commit }, payload) {\r\n  commit('addTimes', payload)\r\n  }\r\n  ```\r\n\r\n- ä½¿ç”¨ï¼š/app.vue\r\n\r\n  ```javascript\r\n  methods: {\r\n    add() {\r\n      this.$store.dispatch(\"ClickedActions\",2);\r\n    }\r\n  }\r\n  ```\r\n\r\n## å°ˆæ¡ˆçµæ§‹\r\n\r\n1. App å±¤ç´šçš„ç‹€æ…‹è¦åœ¨ state é›†ä¸­ç®¡ç†\r\n   > app å±¤ç´šçš„æ„æ€æ˜¯æŒ‡ï¼šä¸æœƒå› ç‚ºè·¨çµ„ä»¶æ”¹è®Šçš„ç‹€æ…‹ï¼Œå¦‚ï¼šç™»å…¥è³‡è¨Šã€è³¼ç‰©è»Šæ¸…å–®...ç­‰ã€‚\r\n   >\r\n   > æœƒå› ç‚ºè·¨çµ„ä»¶æ”¹è®Šçš„ç‹€æ…‹ï¼Œå¦‚ï¼šä¸‹æ‹‰å¼é¸å–®çš„é–‹é—œç‹€æ…‹ã€å•†å“åˆ—è¡¨...ç­‰ã€‚\r\n2. å”¯ä¸€æ”¹è®Š state çš„æ–¹å¼åªæœ‰ mutationsï¼Œè€Œä¸”æ˜¯åŒæ­¥åŸ·è¡Œ\r\n3. actions æ‰å¯ä»¥éåŒæ­¥åŸ·è¡Œ\r\n\r\n```txt\r\n|--index.js\r\n|--main.js\r\n|--api\r\n|  |--...             // å¾Œç«¯ api\r\n|--components         // é é¢\r\n|  |--App.vue\r\n|  |--...\r\n|--store\r\n   |--index.js        // è¨»å†Š modules ä¸¦ export store\r\n   |--actions.js      // è·¨çµ„ä»¶çš„ action\r\n   |--mutations.js    // è·¨çµ„ä»¶çš„ mutations\r\n   |--modules\r\n      |--cart.js      // è³¼ç‰©è»Š model\r\n      |--products.js  // å•†å“ model\r\n```\r\n","date":"2023-07-18T06:50:04.867Z","matchingLines":["## ä»€éº¼æ˜¯ VueX\r","## å¸¶å…¥åƒæ•¸åŠå‘¼å«æ–¹æ³•\r","## å°ˆæ¡ˆçµæ§‹\r"],"tocContent":"- [VueX å­¸ç¿’ç­†è¨˜](#vuex-å­¸ç¿’ç­†è¨˜)\r\n  - [ä»€éº¼æ˜¯ VueX](#ä»€éº¼æ˜¯-vuex)\r\n  - [å¸¶å…¥åƒæ•¸åŠå‘¼å«æ–¹æ³•](#å¸¶å…¥åƒæ•¸åŠå‘¼å«æ–¹æ³•)\r\n    - [State](#state)\r\n    - [mapState](#mapstate)\r\n    - [Getters](#getters)\r\n    - [mapGetters](#mapgetters)\r\n    - [mutations](#mutations)\r\n    - [mapMutations](#mapmutations)\r\n    - [actions](#actions)\r\n  - [å°ˆæ¡ˆçµæ§‹](#å°ˆæ¡ˆçµæ§‹)"},{"name":"PHP å­¸ç¿’ç­†è¨˜.md","content":"# PHP å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n## é‹ç®—å­ã€åˆ¤æ–·\r\n\r\n- `+`: ç®—è¡“ç›¸åŠ \r\n\r\n- `.`: å­—ä¸²ç›¸åŠ \r\n\r\n- `gettype()`: åˆ¤æ–·è®Šæ•¸çš„å‹æ…‹\r\n\r\n- `(int)($var1 + $var2)`: åªå–å•†\r\n\r\n- `isset($var)`: æª¢æŸ¥è®Šæ•¸æ˜¯å¦æœ‰è¨­ç½®\r\n\r\n- `empty($var)`: æª¢æŸ¥è®Šæ•¸æ˜¯å¦ç‚ºç©ºå€¼\r\n\r\n- `is_null($var)`: æª¢æŸ¥è®Šæ•¸æ˜¯å¦ç‚º null\r\n\r\n  |                 | gettype() |   isset()   |   empty()   |  is_null()  |\r\n  | :-------------: | :-------: | :---------: | :---------: | :---------: |\r\n  | $x is undefined |   null    | **_false_** |  [true](#)  |  [true](#)  |\r\n  |    $x = null    |   null    | **_false_** |  [true](#)  |  [true](#)  |\r\n  |     $x = 0      |    int    |  [true](#)  |  [true](#)  | **_false_** |\r\n  |    $x = \"0\"     |    str    |  [true](#)  |  [true](#)  | **_false_** |\r\n  |     $x = 1      |    int    |  [true](#)  | **_false_** | **_false_** |\r\n  |     $x = \"\"     |    str    |  [true](#)  |  [true](#)  | **_false_** |\r\n  |   $x = \"PHP\"    |    str    |  [true](#)  | **_false_** | **_false_** |\r\n\r\n- `var_dump($var);`: å°‡è®Šæ•¸çš„è¨Šæ¯å°å‡ºæ–¼è¢å¹•ä¸Š\r\n\r\n- `instanceof` å‹æ…‹é‹ç®—å­\r\n\r\n- ç”¨æ–¼ç¢ºå®šä¸€å€‹ php ç‰©ä»¶æ˜¯å¦å±¬æ–¼æŸä¸€é¡åˆ¥\r\n\r\n  ```php\r\n  class MyClass\r\n  {\r\n  }\r\n  class NotMyClass\r\n  {\r\n  }\r\n\r\n  $a = new MyClass;\r\n  var_dump($a instanceof MyClass);\r\n  var_dump($a instanceof NotMyClass);\r\n  ```\r\n\r\n  ```php\r\n  bool(true)\r\n  bool(false)\r\n  ```\r\n\r\n- ä¹Ÿå¯ä»¥ç”¨ä¾†ç¢ºå®šä¸€å€‹ç‰©ä»¶æ˜¯ä¸æ˜¯ç¹¼æ‰¿è‡ªæŸä¸€çˆ¶é¡åˆ¥çš„å­é¡åˆ¥\r\n\r\n  ```php\r\n  class ParentClass\r\n  {\r\n  }\r\n  class MyClass extends ParentClass\r\n  {\r\n  }\r\n\r\n  $a = new MyClass;\r\n  var_dump($a instanceof MyClass);\r\n  var_dump($a instanceof ParentClass);\r\n  ```\r\n\r\n  ```php\r\n  bool(true)\r\n  bool(true)\r\n  ```\r\n\r\n- ä¹Ÿå¯ä»¥ç”¨æ–¼ç¢ºå®šä¸€å€‹è®Šæ•¸æ˜¯ä¸æ˜¯å¯¦ç¾äº†æŸå€‹æ¥å£çš„ç‰©ä»¶å¯¦ä¾‹\r\n\r\n  ```php\r\n  interface A\r\n  {\r\n  }\r\n  class B implements A\r\n  {\r\n  }\r\n  $obj = new B;\r\n\r\n  var_dump($obj instanceof A);\r\n  echo \"<br>\";\r\n  var_dump($obj instanceof B);\r\n  ```\r\n\r\n  ```php\r\n  bool(true)\r\n  bool(true)\r\n  ```\r\n\r\n  é›–ç„¶ instanceof é€šå¸¸æ˜¯ç›´æ¥èˆ‡ class åç¨±ä¸€èµ·ä½¿ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ä¸²ä¾†ä»£æ›¿\r\n\r\n  ```php\r\n  interface A\r\n  {\r\n  }\r\n  class B implements A\r\n  {\r\n  }\r\n  $obj = new B;\r\n  $str1 = 'A';\r\n  $str2 = 'B';\r\n\r\n  var_dump($obj instanceof A);\r\n  echo \"<br>\";\r\n  var_dump($obj instanceof B);\r\n  echo \"<br>\";\r\n  var_dump($obj instanceof $str1);\r\n  echo \"<br>\";\r\n  var_dump($obj instanceof $str2);\r\n  ```\r\n\r\n  ```php\r\n  bool(true)\r\n  bool(true)\r\n  bool(true)\r\n  bool(true)\r\n  ```\r\n\r\n  è‹¥è¢«æª¢æ¸¬çš„è®Šæ•¸ä¸æ˜¯ç‰©ä»¶ï¼Œinstanceof ä¸¦ä¸æœƒå ±éŒ¯ï¼Œè€Œæ˜¯ç›´æ¥è¿”å› falseã€‚å¦å¤–ï¼Œä¸èƒ½ä½¿ç”¨ instanceof ä¾†æª¢æ¸¬å¸¸æ•¸\r\n\r\n  ```php\r\n  $a = 1;\r\n  $b = NULL;\r\n  $c = imagecreate(5, 5);\r\n  var_dump($a instanceof stdClass);\r\n  echo '<br>';\r\n  var_dump($b instanceof stdClass);\r\n  echo '<br>';\r\n  var_dump($c instanceof stdClass);\r\n  echo '<br>';\r\n  var_dump(FALSE instanceof stdClass);\r\n  ```\r\n\r\n  ```php\r\n  bool(false)\r\n  bool(false)\r\n  bool(false)\r\n  bool(false)\r\n  ```\r\n\r\n## Autoload è‡ªå‹•è¼‰å…¥\r\n\r\nä¸€èˆ¬å¯ä»¥é€é `include`, `include_once`, `require`, `require_once`ï¼Œä¾†å°‡æª”æ¡ˆå¼•å…¥åˆ°æˆ‘å€‘ç›®å‰æ­£åœ¨ç·¨å¯«çš„é€™å€‹æª”æ¡ˆã€‚\r\n\r\nç¿’æ…£ä¸Šæˆ‘å€‘æœƒå°‡ä¸€å€‹ class å­˜æ”¾åœ¨å–®ä¸€çš„ php æª”æ¡ˆä¸­ï¼Œä¾‹å¦‚ Member.php ç›¸å°æ–¼ Member classã€‚\r\n\r\nä½†ç•¶ç¨‹å¼éœ€è¦å¼•ç”¨åˆ°é€™å€‹ classï¼Œå°±å¯ä»¥ç”¨ä¸Šé¢çš„æ–¹æ³•ä¾†å¼•ç”¨æ­¤ class ä»¥ä¾›å¾ŒçºŒæ“ä½œã€‚\r\n\r\nè€Œ php autoload æ©Ÿåˆ¶å¯ä»¥è®“æˆ‘å€‘åœ¨éœ€è¦é€™å€‹ç‰©ä»¶çš„æ™‚å€™ï¼Œæ‰å»çœŸæ­£çš„å¼•å…¥é€™å€‹ classï¼Œé€™å€‹å‹•ä½œå°±æ˜¯å¸¸è½åˆ°çš„ lazyload å»¶é²è¼‰å…¥ã€‚\r\n\r\n- `__autoload`\r\n  php5 æä¾›äº† `__autoload()` é€™å€‹é­”è¡“æ–¹æ³•å¯¦ç¾ä¸Šè¿° Autoload æ©Ÿåˆ¶ï¼Œé›–ç„¶é€™å€‹æ–¹æ³•æ•ˆèƒ½åŠæ–¹ä¾¿æ€§ä¸¦ä¸æ˜¯éå¸¸ç†æƒ³ã€‚\r\n\r\n## é­”è¡“å¸¸æ•¸\r\n\r\n- ä¸åˆ†å¤§å°å¯«ï¼Œä½†ä¸€èˆ¬è€Œè¨€éƒ½æœƒä»¥å¤§å¯«å‘ˆç¾\r\n\r\n### `__LINE__` æª”æ¡ˆä¸­çš„ç•¶å‰è¡Œè™Ÿ\r\n\r\n```php\r\necho __LINE__ . PHP_EOL; // 1\r\necho __LINE__ . PHP_EOL; // 2\r\necho __LINE__ . PHP_EOL; // 3\r\n```\r\n\r\n### `__FILE__` æª”æ¡ˆçš„å®Œæ•´è·¯å¾‘å’Œæª”å\r\n\r\n- è‹¥å°‡å…¶ä½¿ç”¨åœ¨ `include` ä¸­ï¼Œå‰‡è¿”å›åŒ…å«æª”æ¡ˆçš„åç¨±ã€‚\r\n- `__FILE__`ç¸½æ˜¯åŒ…å«ä¸€å€‹çµ•å°è·¯å¾‘(å¦‚æœæ˜¯ç¬¦è™Ÿé€£ç·šï¼Œå‰‡æ˜¯è§£æå¾Œçš„çµ•å°è·¯å¾‘)ã€‚\r\n\r\n  ```php\r\n  echo __FILE__ . PHP_EOL; // D:\\phpproject\\php\\newblog\\php-magic-constant.php\r\n  ```\r\n\r\n### `__DIR__` æª”æ¡ˆæ‰€åœ¨çš„ç›®éŒ„\r\n\r\n- å¦‚æœç”¨åœ¨è¢«åŒ…æ‹¬æª”æ¡ˆä¸­ï¼Œå‰‡è¿”å›è¢«åŒ…æ‹¬çš„æª”æ¡ˆæ‰€åœ¨ç›®éŒ„ã€‚\r\n- å…¶ç­‰åŒæ–¼ `dirname(__FILE__)`ã€‚\r\n- é™¤éæ˜¯æ ¹ç›®éŒ„ï¼Œå¦å‰‡ç›®éŒ„ä¸­åä¸åŒ…æ‹¬æœ«å°¾çš„æ–œç·šã€‚\r\n\r\n  ```php\r\n  echo __DIR__ . PHP_EOL; // D:\\phpproject\\php\\newblog\r\n  ```\r\n\r\n### `__FUNCTION__` è¿”å›è©²å‡½æ•¸è¢«å®šç¾©æ™‚çš„åå­—\r\n\r\n```php\r\necho __FUNCTION__ . PHP_EOL; // å‡½æ•¸å°šæœªè¢«å®šç¾©\r\n\r\nfunction testFunction()\r\n{\r\n  echo __FUNCTION__ . PHP_EOL; //  testFunction\r\n}\r\n\r\nclass TestClass\r\n{\r\n  function testFunctionButInClass()\r\n  {\r\n    echo __FUNCTION__ . PHP_EOL; // testFunctionButInClass\r\n  }\r\n}\r\n\r\ntestFunction();\r\n$test = new TestClass();\r\n$test->testFunctionButInClass();\r\n```\r\n\r\n### `__CLASS__` è¿”å›é¡åˆ¥åç¨±\r\n\r\n```php\r\necho __CLASS__ . PHP_EOL; // é¡åˆ¥å°šæœªè¢«å®£\r\n\r\nfunction testClass()\r\n{\r\n    echo __CLASS__ . PHP_EOL; // é¡åˆ¥å°šæœªè¢«å®£å‘Š\r\n}\r\n\r\ntrait TestClassTrait\r\n{\r\n    function testClass2()\r\n    {\r\n        echo __CLASS__ . PHP_EOL; // TestClassClass\r\n    }\r\n}\r\n\r\nclass TestClassClass\r\n{\r\n    use TestClassTrait;\r\n    function testClass1()\r\n    {\r\n        echo __CLASS__ . PHP_EOL; // TestClassClass\r\n    }\r\n}\r\n\r\ntestClass();\r\n$test = new TestClassClass();\r\n$test->testClass1();\r\n$test->testClass2();\r\n```\r\n\r\n### `__TRAIT__` Trait çš„åå­—\r\n\r\n```php\r\necho __TRAIT__ . PHP_EOL; // ä»€éº¼ä¹Ÿæ²’æœ‰\r\nfunction testTrait()\r\n{\r\n    echo __TRAIT__ . PHP_EOL; // ä»€éº¼ä¹Ÿæ²’æœ‰\r\n}\r\n\r\ntrait TestTrait\r\n{\r\n    function testTrait2()\r\n    {\r\n        echo __TRAIT__ . PHP_EOL; // TestTrait\r\n    }\r\n}\r\n\r\nclass TestTraitClass\r\n{\r\n    use TestTrait;\r\n\r\n    function testTrait1()\r\n    {\r\n        echo __TRAIT__ . PHP_EOL; // ä»€éº¼ä¹Ÿæ²’æœ‰\r\n    }\r\n}\r\n\r\ntestTrait();\r\n$test = new TestTraitClass();\r\n$test->testTrait1();\r\n$test->testTrait2();\r\n```\r\n\r\n### `__METHOD__` é¡åˆ¥çš„æ–¹æ³•åç¨±ï¼Œè¿”å›è©²æ–¹æ³•è¢«å®šç¾©æ™‚çš„åå­—\r\n\r\n```php\r\necho __METHOD__ . PHP_EOL; // å°šç„¡æ–¹æ³•\r\n\r\nfunction testMethod() {\r\n  echo __METHOD__ . PHP_EOL; // testMethod\r\n}\r\n\r\nclass TestMethodClass\r\n{\r\n  function testMethodButinClass() {\r\n    echo __METHOD__ . PHP_EOL; // TestMethodClass::testMethodButinClass\r\n  }\r\n}\r\n\r\ntestMethod();\r\n$test = new TestClassClass();\r\n$test->testMethodButinClass();\r\n```\r\n\r\n### `__NAMESPACE__` ç•¶å‰å‘½åç©ºé–“çš„åç¨±\r\n\r\n- æ­¤å¸¸æ•¸æ˜¯åœ¨ç·¨è­¯æ™‚å®šç¾©çš„\r\n\r\n  ```php\r\n  echo __NAMESPACE__ . PHP_EOL; // test\\magic\\constant\r\n\r\n  class TestNameSpaceClass\r\n  {\r\n      function testNamespace() {\r\n          echo __NAMESPACE__ . PHP_EOL; // test\\magic\\constant\r\n      }\r\n  }\r\n\r\n  $test = new TestNameSpaceClass();\r\n  $test->testNamespace();\r\n  ```\r\n\r\n## é­”è¡“æ–¹æ³•\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [PHP ä¹‹åå…­å€‹é­”è¡“æ–¹æ³•è©³è§£](https://segmentfault.com/a/1190000007250604)\r\n\r\n### `__construct` é¡åˆ¥çš„æ§‹é€ å‡½æ•¸\r\n\r\nphp ä¸­æ§‹é€ æ–¹æ³•æ˜¯ç‰©ä»¶å‰µå»ºå®Œæˆå¾Œï¼Œç¬¬ä¸€å€‹è¢«ç‰©ä»¶è‡ªå‹•å‘¼å«çš„æ–¹æ³•ã€‚åœ¨æ¯å€‹é¡åˆ¥ä¸­ï¼Œéƒ½æœ‰ä¸€å€‹æ§‹é€ æ–¹æ³•ï¼Œå¦‚æœæ²’æœ‰å®£å‘Šï¼Œé‚£éº¼é¡åˆ¥ä¸­æœƒé è¨­å­˜åœ¨ä¸€å€‹æ²’æœ‰åƒæ•¸ä¸”å…§å®¹ç‚ºç©ºçš„æ§‹é€ æ–¹æ³•ã€‚\r\n\r\n1. ä½œç”¨ï¼šé€šå¸¸æ§‹é€ æ–¹æ³•è¢«ç”¨ä¾†åŸ·è¡Œä¸€äº›åˆå§‹åŒ–ä»»å‹™ï¼Œå¦‚å°æˆå“¡å±¬æ€§åœ¨å‰µå»ºå°è±¡æ™‚ï¼Œè³¦äºˆåˆå§‹å€¼\r\n2. åœ¨é¡åˆ¥ä¸­çš„è²æ˜æ ¼å¼ï¼š\r\n\r\n   ```php\r\n   function __construct (params) {\r\n    // code\r\n    // é€šå¸¸ç”¨ä¾†å°æˆå“¡å±¬æ€§é€²è¡Œåˆå§‹åŒ–è³¦å€¼\r\n   }\r\n   ```\r\n\r\n3. åœ¨é¡åˆ¥ä¸­è²æ˜æ§‹é€ æ–¹æ³•éœ€è¦æ³¨æ„çš„äº‹é …\r\n\r\n   1. åœ¨åŒä¸€å€‹é¡åˆ¥ä¸­åªèƒ½å®£å‘Šä¸€å€‹æ§‹é€ æ–¹æ³•\r\n   2. å¿…å®šæ˜¯ä»¥é›™åº•ç·šé–‹å§‹\r\n\r\n      ```php\r\n      class Person\r\n      {\r\n        public $name;\r\n        public $age;\r\n        public $sex;\r\n        /**\r\n         * é¡¯ç¤ºå®£å‘Šä¸€å€‹æ§‹é€ å‡½æ•¸ä¸”å¸¶åƒæ•¸\r\n         */\r\n        public function __construct($name = \"\", $age = 22, $sex = \"man\") {\r\n          $this->name = $name;\r\n          $this->sex = $sex;\r\n          $this->age = $age;\r\n        }\r\n        /**\r\n         * say æ–¹æ³•\r\n         */\r\n        public function say()\r\n        {\r\n          echo \"æˆ‘å«ï¼š\" . $this->name . \"ï¼Œæ€§åˆ¥ï¼š\" . $this->sex . \"ï¼Œå¹´é½¡ï¼š\" . $this->age;\r\n        }\r\n      }\r\n\r\n      /**\r\n       * $person1\r\n       */\r\n      $person1 = new Person()\r\n      echo $person1->say(); // æˆ‘å«ï¼šï¼Œæ€§åˆ¥ï¼šç”·ï¼Œå¹´é½¡ï¼š27\r\n      /**\r\n       * $person2\r\n       *\r\n       * @param $name å°æ˜\r\n       */\r\n      $person2 = new Person('å°æ˜');\r\n      echo $person2->say(); // æˆ‘å«ï¼šå°æ˜ï¼Œæ€§åˆ¥ï¼šç”·ï¼Œå¹´é½¡ï¼š27\r\n      /**\r\n       * $person3\r\n       *\r\n       * @param $name æå››\r\n       * @param $sex ç”·\r\n       * @param $age 25\r\n       */\r\n      $person3 = new Person('æå››', 'ç”·', '25')\r\n      echo $person3->say(); // æˆ‘å«ï¼šæå››ï¼Œæ€§åˆ¥ï¼šç”·ï¼Œå¹´é½¡ï¼š25\r\n      ```\r\n\r\n### `__destruct` é¡åˆ¥çš„è§£æ§‹å‡½æ•¸\r\n\r\nå…è¨±åœ¨éŠ·æ¯€ä¸€å€‹é¡åˆ¥ä¹‹å‰ï¼ŒåŸ·è¡Œä¸€äº›æ“ä½œæˆ–å®Œæˆä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚é—œé–‰æ–‡ä»¶ï¼Œé‡‹æ”¾çµæœé›†ç­‰\r\n\r\n1. å®£å‘Šæ ¼å¼\r\n\r\n   ```php\r\n   function __destruct()\r\n   {\r\n     // code\r\n   }\r\n   ```\r\n\r\n2. è§£æ§‹å‡½æ•¸çš„ä½œç”¨\r\n\r\n   ```php\r\n   class Person{\r\n       public $name;\r\n\r\n       public $age;\r\n\r\n       public $sex;\r\n\r\n       public function __construct($name=\"\", $sex=\"ç”·\", $age=22)\r\n       {\r\n           $this->name = $name;\r\n           $this->sex  = $sex;\r\n           $this->age  = $age;\r\n       }\r\n\r\n       /**\r\n        * say è¯´è¯æ–¹æ³•\r\n        */\r\n       public function say()\r\n       {\r\n           echo \"æˆ‘å«ï¼š\".$this->name.\"ï¼Œæ€§åˆ«ï¼š\".$this->sex.\"ï¼Œå¹´é½¡ï¼š\".$this->age;\r\n       }\r\n\r\n       /**\r\n        * å£°æ˜ä¸€ä¸ªææ„æ–¹æ³•\r\n        */\r\n       public function __destruct()\r\n       {\r\n           echo \"æˆ‘è¦ºå¾—æˆ‘é‚„å¯ä»¥æ¶æ•‘ä¸€ä¸‹ï¼Œæˆ‘çš„åå­—å«\".$this->name;\r\n       }\r\n   }\r\n\r\n   $Person = new Person(\"å°æ˜\");\r\n   unset($Person); // éŠ·æ¯€ä¸Šé¢å»ºç«‹çš„ç‰©ä»¶\r\n   ```\r\n\r\n### `__call` åœ¨ç‰©ä»¶ä¸­å‘¼å«ä¸€å€‹ä¸å¯è¨ªå•çš„æ–¹æ³•æ™‚ï¼Œå‘¼å«æ­¤æ–¹æ³•\r\n\r\næ­¤æ–¹æ³•æ¥å—å…©åƒæ•¸ï¼Œ`$function_name` æœƒè‡ªå‹•æ¥æ”¶ä¸å­˜åœ¨çš„æ–¹æ³•åï¼Œ`$arguments` å‰‡ä»¥é™£åˆ—çš„æ–¹å¼æ¥æ”¶ä¸å­˜åœ¨æ–¹æ³•çš„å¤šå€‹åƒæ•¸ã€‚\r\n\r\n1. å®£å‘Šæ­¤æ–¹æ³•çš„æ ¼å¼\r\n\r\n   ```php\r\n   function __call(string $function_nama, array $arguments){\r\n     // code\r\n   }\r\n   ```\r\n\r\n2. æ­¤æ–¹æ³•çš„ä½œç”¨ï¼šç‚ºé¿å…ç•¶å‘¼å«çš„æ–¹æ³•ä¸å­˜åœ¨è€Œç”¢ç”ŸéŒ¯èª¤ï¼Œå°è‡´æ„å¤–çš„ç¨‹åºä¸­æ­¢ï¼Œå¯ä»¥ä½¿ç”¨ `__call()` æ–¹æ³•ä¾†é¿å…ã€‚å‰›æ–¹æ³•åœ¨å‘¼å«çš„æ–¹æ³•ä¸å­˜åœ¨æ™‚ï¼Œæœƒè‡ªå‹•å‘¼å«ï¼Œç¨‹å¼ä»æœƒç¹¼çºŒåŸ·è¡Œä¸‹å»ã€‚\r\n\r\n   ```php\r\n   class Person\r\n   {\r\n       function say()\r\n       {\r\n\r\n              echo \"Hello, world!<br>\";\r\n       }\r\n\r\n       /**\r\n        * å®£å‘Šæ­¤æ–¹æ³•ç”¨ä¾†è™•ç†ï¼Œç•¶å‘¼å«äº†æ­¤ç‰©ä»¶ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•\r\n        */\r\n       function __call($funName, $arguments)\r\n       {\r\n             echo \"ä½ æ‰€å‘¼å«çš„å‡½æ•°ï¼š\" . $funName . \"(åƒæ•¸ï¼š\" ;  // è¼¸å‡ºå‘¼å«çš„ä¸å­˜åœ¨æ–¹æ³•åç¨±\r\n             print_r($arguments); // è¾“å‡ºå‘¼å«ä¸å­˜åœ¨æ–¹æ³•çš„åƒæ•¸åˆ—è¡¨\r\n             echo \")ä¸å­˜åœ¨ï¼<br>\\n\"; // çµæŸæ›è¡Œ\r\n       }\r\n   }\r\n\r\n   $Person = new Person();\r\n   $Person->run(\"teacher\"); // å‘¼å«ç‰©ä»¶ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•ï¼Œæ­¤æ™‚æœƒè‡ªå‹•å‘¼å«ç‰©ä»¶ä¸­çš„ __call() æ–¹æ³•\r\n   $Person->eat(\"å°æ˜\", \"è˜‹æœ\");\r\n   $Person->say();\r\n   ```\r\n\r\n   è¼¸å‡º\r\n\r\n   ```php\r\n   ä½ æ‰€è°ƒç”¨çš„å‡½æ•°ï¼šrun(å‚æ•°ï¼šArray ( [0] => teacher ) )ä¸å­˜åœ¨ï¼\r\n\r\n   ä½ æ‰€è°ƒç”¨çš„å‡½æ•°ï¼šeat(å‚æ•°ï¼šArray ( [0] => å°æ˜ [1] => è‹¹æœ ) )ä¸å­˜åœ¨ï¼\r\n\r\n   Hello, world!\r\n   ```\r\n\r\n### `__callStatic` ç”¨éœæ…‹æ–¹å¼å‘¼å«ä¸€å€‹ä¸å¯è¨ªå•çš„æ–¹æ³•æ™‚ï¼Œå‘¼å«æ­¤æ–¹æ³•\r\n\r\n```php\r\n<?php\r\nclass Person\r\n{\r\n    function say()\r\n    {\r\n        echo \"Hello, world!<br>\";\r\n    }\r\n\r\n    /**\r\n     * å®£å‘Šæ­¤æ–¹æ³•ç”¨ä¾†è™•ç†ç•¶éœæ…‹å‘¼å«äº†ä¸å­˜åœ¨çš„æ–¹æ³•æ™‚\r\n     */\r\n    public static function __callStatic($funName, $arguments)\r\n    {\r\n        echo \"ä½ æ‰€å‘¼å«çš„éœæ…‹æ–¹æ³•ï¼š\" . $funName . \"(åƒæ•¸ï¼š\" ;  // è¼¸å‡ºå‘¼å«ä¸å­˜åœ¨çš„æ–¹æ³•åç¨±\r\n        print_r($arguments); // è¾“å‡ºå‘¼å«ä¸å­˜åœ¨æ–¹æ³•æ™‚å‚³å…¥çš„åƒæ•¸\r\n        echo \")ä¸å­˜åœ¨ï¼<br>\\n\"; // ç»“æŸæ¢è¡Œ\r\n    }\r\n}\r\n\r\n$Person = new Person();\r\n$Person::run(\"teacher\"); // ç”¨æ–¼å‘¼å«ç‰©ä»¶ä¸­ä¸å­˜åœ¨çš„éœæ…‹æ–¹æ³•æ™‚ï¼Œæœƒè‡ªå‹•å‘¼å«ç‰©ä»¶ä¸­çš„__callStatic()æ–¹æ³•\r\n$Person::eat(\"å°æ˜\", \"è˜‹æœ\");\r\n$Person->say();\r\n```\r\n\r\n### `__get` ç²å–ä¸€å€‹é¡åˆ¥çš„æˆå“¡è®Šæ•¸æ™‚å‘¼å«\r\n\r\nåœ¨ php ç‰©ä»¶å°å‘ä¸­ï¼Œè‹¥é¡åˆ¥æˆå“¡è¢«è¨­å®šç‚º private æ™‚ï¼Œè‹¥æˆ‘å€‘åœ¨å¤–é¢å‘¼å«ä»–å‰‡æœƒå‡ºç¾\"ç„¡æ³•è¨ªå•æŸå€‹ç§æœ‰å±¬æ€§\"çš„éŒ¯èª¤ã€‚\r\n\r\n- æ­¤æ–¹æ³•çš„ä½œç”¨ï¼šåœ¨ç¨‹å¼é‹è¡Œä¸­ï¼Œé€éä»–å¯ä»¥åœ¨ç‰©ä»¶å¤–é¢ç²å–ç§æœ‰å±¬æ€§æˆå“¡çš„å€¼\r\n\r\n  ```php\r\n  class Person\r\n  {\r\n      private $name;\r\n      private $age;\r\n\r\n      function __construct($name=\"\", $age=1)\r\n      {\r\n          $this->name = $name;\r\n          $this->age = $age;\r\n      }\r\n\r\n      /**\r\n       * åœ¨é¡åˆ¥ä¸­æ·»åŠ __get()æ–¹æ³•ï¼Œåœ¨ç›´æ¥ç²å–å±¬æ€§æ™‚ï¼Œè‡ªå‹•å‘¼å«ä¸€æ¬¡ï¼Œä»¥å±¬æ€§åä½œç‚ºåƒæ•¸å‚³å…¥ä¸¦è™•ç†\r\n       * @param $propertyName\r\n       *\r\n       * @return int\r\n       */\r\n      public function __get($propertyName)\r\n      {\r\n          if ($propertyName == \"age\") {\r\n              if ($this->age > 30) {\r\n                  return $this->age - 10;\r\n              } else {\r\n                  return $this->$propertyName;\r\n              }\r\n          } else {\r\n              return $this->$propertyName;\r\n          }\r\n      }\r\n  }\r\n\r\n  $Person = new Person(\"å°æ˜\", 60);   // é€éå°‡ Persian é¡åˆ¥å¯¦ä¾‹åŒ–çš„ç‰©ä»¶ï¼Œä¸¦é€éå»ºæ§‹å‡½ç¤ºç‚ºå±¬æ€§æ·»åŠ é è¨­å€¼\r\n  echo \"å§“åï¼š\" . $Person->name . \"<br>\";   // ç›´æ¥å‘¼å«ç§æœ‰å±¬æ€§ $nameï¼Œè‡ªå‹•å‘¼å«äº†__get()æ–¹æ³•å¯ä»¥é–“æ¥ç²å–\r\n  echo \"å¹´é¾„ï¼š\" . $Person->age . \"<br>\";    // è‡ªå‹•å‘¼å« __get()æ–¹æ³•ï¼Œæ ¹æ“šç‰©ä»¶æœ¬èº«çš„æƒ…æ³æœƒè¿”å›ä¸åŒçš„å€¼\r\n  ```\r\n\r\n  ```php\r\n  å§“åï¼šå°æ˜\r\n  å¹´é½¡ï¼š50\r\n  ```\r\n\r\n### `__set` è¨­ç½®ä¸€å€‹é¡åˆ¥çš„æˆå“¡è®Šæ•¸æ™‚å‘¼å«\r\n\r\n- ä½œç”¨ï¼šè¨­ç½®ç§æœ‰å±¬æ€§ï¼Œçµ¦ä¸€å€‹æœªå®šç¾©çš„å±¬æ€§è³¦å€¼ï¼Œæ­¤æ–¹æ³•æœƒè¢«è§¸ç™¼ï¼Œå‚³å…¥çš„åƒæ•¸æ˜¯è¢«è¨­ç½®çš„å±¬æ€§åå’Œå€¼\r\n\r\n  ```php\r\n  class Person\r\n  {\r\n      private $name;\r\n\r\n      private $age;\r\n\r\n      public function __construct($name=\"\",  $age=25)\r\n      {\r\n          $this->name = $name;\r\n          $this->age  = $age;\r\n      }\r\n\r\n      /**\r\n       * å®£å‘Šæ­¤æ–¹æ³•éœ€å…©å€‹åƒæ•¸ï¼Œç›´æ¥ç‚ºç§æœ‰å±¬æ€§è³¦å€¼æ™‚è‡ªå‹•å‘¼å«ï¼Œä¸¦å¯ä»¥æ’é™¤éæ³•è³¦å€¼\r\n       *\r\n       * @param $property\r\n       * @param $value\r\n       */\r\n      public function __set($property, $value) {\r\n          if ($property==\"age\")\r\n          {\r\n              if ($value > 150 || $value < 0) {\r\n                  return;\r\n              }\r\n          }\r\n          $this->$property = $value;\r\n      }\r\n\r\n      /**\r\n       * åœ¨é¡åˆ¥ä¸­å®£å‘Š say()ï¼Œå°‡æ‰€æœ‰çš„ç§æœ‰å±¬æ€§è¼¸å‡º\r\n       */\r\n      public function say(){\r\n          echo \"æˆ‘å«\".$this->name.\"ï¼Œä»Šå¹´\".$this->age.\"æ­²äº†\";\r\n      }\r\n  }\r\n\r\n  $Person= new Person(\"å°æ˜\", 25); // æ³¨æ„ï¼Œåˆå§‹å€¼å°‡è¢«ä¸‹é¢æ‰€æ›´æ”¹\r\n  // è‡ªå‹•å‘¼å« __set()ï¼Œå°‡æ•¸ç³»åç¨±nameå‚³éçµ¦ç¬¬ä¸€å€‹åƒæ•¸ï¼Œå°‡å±¬æ€§å€¼\"å°æ˜\"å‚³éçµ¦ç¬¬äºŒåƒæ•¸\r\n  $Person->name = \"å°çº¢\";     // èµ‹å€¼æˆåŠŸã€‚å¦‚æœæ²¡æœ‰__set()ï¼Œå‰‡å‡ºéŒ¯ã€‚\r\n  // è‡ªå‹•å‘¼å« __set() å‡½æ•°ï¼Œå°‡å±¬æ€§åç¨± age å‚³çµ¦ç¬¬ä¸€å€‹åƒæ•¸ï¼Œå°‡å±¬æ€§å€¼ 26 å‚³çµ¦ç¬¬äºŒå€‹åƒæ•¸\r\n  $Person->age = 16; //èµ‹å€¼æˆåŠŸ\r\n  $Person->age = 160; //160æ˜¯ä¸€ä¸ªéæ³•å€¼ï¼Œèµ‹å€¼å¤±æ•ˆ\r\n  $Person->say();  //è¾“å‡ºï¼šæˆ‘å«å°çº¢ï¼Œä»Šå¹´ 16 æ­²äº†\r\n  ```\r\n\r\n### `__isset()` ç•¶ç§æœ‰å±¬æ€§å‘¼å« isset() æˆ– empty() æ™‚å‘¼å«æ­¤æ–¹æ³•\r\n\r\n## æ–¹æ³•\r\n\r\n### `foreach`\r\n\r\n- `foreach()` å°‹è¨ªé™£åˆ—\r\n\r\n  ```php\r\n  foreach ($array as $value) {\r\n    // æ¯æ¬¡å°‹è¨ªæœƒå°‡é™£åˆ—çš„å€¼å­˜åˆ°valueä¸­ï¼Œç›´åˆ°é™£åˆ—çµæŸ\r\n  }\r\n  foreach ($array as $key => $value) {\r\n   // æ¯æ¬¡å°‹è¨ªæœƒå°‡é™£åˆ—çš„å€¼ä»¥åŠkeyï¼Œå­˜åˆ°valueä¸­  key => æµæ°´è™Ÿ\r\n  }\r\n  ```\r\n\r\n- `continue` è·³å‡ºæœ¬æ¬¡å¾ªç’°ï¼Œç¹¼çºŒåŸ·è¡Œä¸‹å‘åŸ·è¡Œ\r\n\r\n- `array_key_first()` å–å¾—é™£åˆ—ä¸­ç¬¬ä¸€å€‹ key å€¼\r\n- `array_key_last()` å–å¾—é™£åˆ—ä¸­æœ€å¾Œä¸€å€‹ key å€¼\r\n\r\n  ```php\r\n  $array  = array(\"dog\", \"rabbit\", \"horse\", \"rat\", \"cat\");\r\n  foreach($array as $index => $animal) {\r\n      if ($index === array_key_first($array))\r\n          echo $animal; // output: dog\r\n      if ($index === array_key_last($array))\r\n          echo $animal; // output: cat\r\n  }\r\n  ```\r\n\r\n- `break` è·³å‡ºè¿´åœˆ\r\n\r\n  ```php\r\n  <?php\r\n  foreach (array('1','2','3') as $first) {\r\n      echo \"$first \";\r\n      foreach (array('3','2','1') as $second) {\r\n          echo \"$second \";\r\n          if ($first == $second) {\r\n              break;  // this will break both foreach loops\r\n          }\r\n      }\r\n      echo \". \";  // never reached!\r\n  }\r\n  echo \"Loop Ended\";\r\n  ?>\r\n  ```\r\n\r\n- è¼¸å‡º\r\n\r\n  ```php\r\n  1 3 2 1 . 2 3 2 . 3 3 . Loop Ended\r\n  ```\r\n\r\n### `scandir` æƒææŒ‡å®šçš„ç›®éŒ„ï¼Œä¸¦è¿”å›ç‚ºé™£åˆ—\r\n\r\n- `scandir()` æƒææŒ‡å®šçš„ç›®éŒ„ï¼Œä¸¦è¿”å›ç‚ºé™£åˆ—\r\n\r\n### `list` å®£å‘Šé™£åˆ—ä¸­çš„å€¼ï¼Œä½¿å…¶æˆç‚ºè®Šæ•¸\r\n\r\n- `list(var1, var2...)` å®£å‘Šé™£åˆ—ä¸­çš„å€¼ï¼Œä½¿å…¶æˆç‚ºè®Šæ•¸\r\n\r\n  ```php\r\n  $my_array = array('dog', 'cat', 'horse');\r\n  list($a, $b, $c) = $my_array;\r\n  echo \"i have several animals, a $a, a $b, a $c. \";\r\n  // i have several animals, a dog, a cat and a horse.\r\n  ```\r\n\r\n### `append` å°‡å‚³å…¥çš„å€¼é™„åŠ é€²é™£åˆ—\r\n\r\n- `append(var1, var2)`\r\n\r\n  ```php\r\n  // PHP function to illustrate the\r\n  // append() method\r\n  $arrObj = new ArrayObject(array('Geeks', 'for', 'Geeks'));\r\n  // Appending an array\r\n  $arrObj->append(array('welcomes', 'you'));\r\n  var_dump($arrObj);\r\n  ```\r\n\r\n- è¼¸å‡º\r\n\r\n  ```php\r\n  object(ArrayObject)#1 (1) {\r\n    [\"storage\":\"ArrayObject\":private]=>\r\n    array(4) {\r\n      [0]=>\r\n      string(5) \"Geeks\"\r\n      [1]=>\r\n      string(3) \"for\"\r\n      [2]=>\r\n      string(5) \"Geeks\"\r\n      [3]=>\r\n      array(2) {\r\n        [0]=>\r\n        string(8) \"welcomes\"\r\n        [1]=>\r\n        string(3) \"you\"\r\n      }\r\n    }\r\n  }\r\n  ```\r\n\r\n### åœ¨é™£åˆ—ä¸­æ–°å¢å…ƒç´ \r\n\r\n#### ç›´æ¥è³¦å€¼\r\n\r\n```php\r\n$array[] = $array;\r\n```\r\n\r\n```php\r\n$flower = array();\r\necho(\"The array is empty, as you can see. \\n\");\r\nprint_r($flowers);\r\necho(\"Now, we have added the values. \\n\");\r\n$flowers[] = \"Rose\";\r\n$flowers[] = \"Jasmine\";\r\n$flowers[] = \"Lili\";\r\n$flowers[] = \"Hibiscus\";\r\n$flowers[] = \"Tulip\";\r\nprint_r($flowers);\r\n```\r\n\r\n```php\r\nThe array is empty, as you can see.\r\nArray\r\n(\r\n)\r\nNow, we have added the values.\r\nArray\r\n(\r\n    [0] => Rose\r\n    [1] => Jasmine\r\n    [2] => Lili\r\n    [3] => Hibiscus\r\n    [4] => Tulip\r\n)\r\n```\r\n\r\n#### `array_push` åœ¨é™£åˆ—æœ€å¾Œæ–°å¢å…ƒç´ \r\n\r\n- `array_push($array, $value1, $value2, ..., $valueN);`\r\n- `$array` å¿…é ˆï¼Œç›®æ¨™æ–°å¢å…ƒç´ çš„é™£åˆ—\r\n- `$value1`, `$value2` å¿…é ˆï¼Œæ¬²æ–°å¢è‡³é™£åˆ—çš„å…ƒç´ ï¼Œå¯ä»¥ç‚ºå­—ä¸²ã€æ•´æ•¸ã€æµ®é»æ•¸ç­‰\r\n\r\n  ```php\r\n  $flowers = array();\r\n  echo(\"The array is empty, as you can see. \\n\");\r\n  print_r($flowers);\r\n  echo(\"Now, we have added the values. \\n\");\r\n  array_push($flowers, \"Rose\", \"Jasmine\", \"Lili\", \"Hibiscus\", \"Tulip\");\r\n  print_r($flowers);\r\n  ```\r\n\r\n  ```php\r\n  The array is empty, as you can see.\r\n  Array\r\n  (\r\n  )\r\n  Now, we have added the values.\r\n  Array\r\n  (\r\n      [0] => Rose\r\n      [1] => Jasmine\r\n      [2] => Lili\r\n      [3] => Hibiscus\r\n      [4] => Tulip\r\n  )\r\n  ```\r\n\r\n#### `array_unshift` åœ¨é™£åˆ—å‰ç«¯æ’å…¥\r\n\r\n- `array_unshift($array, $value1, $value2, ..., $valueN)`\r\n- `$array` å¿…é ˆï¼Œç›®æ¨™æ–°å¢å…ƒç´ çš„é™£åˆ—\r\n- `$value1`, `$value2` å¿…é ˆï¼Œæ¬²æ–°å¢è‡³é™£åˆ—çš„å…ƒç´ ï¼Œå¯ä»¥ç‚ºå­—ä¸²ã€æ•´æ•¸ã€æµ®é»æ•¸ç­‰\r\n\r\n  ```php\r\n  $flowers = ['first', 'second'];\r\n  print_r($flowers);\r\n  echo(\"Now we have added the values. \\n\");\r\n  echo(array_unshift($flowers, \"Rose\", \"Jasmine\", \"Lili\", \"Hibiscus\", \"Tulip\"));\r\n  echo(\"\\n\");\r\n  print_r($flowers);\r\n  ```\r\n\r\n  ```php\r\n  Array\r\n  (\r\n    [0] => first\r\n    [1] => second\r\n  )\r\n  Now we have added the values.\r\n  7\r\n  Array\r\n  (\r\n    [0] => Rose\r\n    [1] => Jasmine\r\n    [2] => Lili\r\n    [3] => Hibiscus\r\n    [4] => Tulip\r\n    [5] => first\r\n    [6] => second\r\n  )\r\n  ```\r\n\r\n### `array_fill` ä»¥å¡«å……æ•¸å€¼çš„æ–¹å¼ï¼Œå»ºç«‹æ–°é™£åˆ—\r\n\r\n- `array_fill(int $start_index, int $count, mixed $value): array` å°‡å‚³å…¥çš„`$value`ï¼ŒåŠ å…¥`$count` å€‹å€¼åˆ°é™£åˆ—ï¼Œé–‹å§‹çš„ key å€¼ç”±`$start_index` æŒ‡å®š\r\n\r\n- `$start_index` å›å‚³é™£åˆ—çš„ç¬¬ä¸€å€‹ key å€¼ï¼Œå¦‚ç‚ºè² æ•¸ï¼Œè¿”å›çš„ç¬¬ä¸€å€‹ key å°‡æœƒæ˜¯ start_index çš„å€¼ï¼Œè€Œå¾Œé¢çš„ key å€¼ç”± 0 é–‹å§‹ã€‚\r\n\r\n- `$count` æ’å…¥å€¼çš„æ•¸é‡ï¼Œéœ€å¤§æ–¼ç­‰æ–¼ 0 ï¼Œå¦å‰‡æ‹‹å‡º E_WARNINGã€‚\r\n\r\n- `$value` å‚³å…¥é™£åˆ—çš„å€¼ã€‚\r\n\r\n  ```php\r\n  $a = array_fill(5, 6, 'banana');\r\n  $b = array_fill(-2, 4, 'pear');\r\n  print_r($a);\r\n  print_r($b);\r\n  ```\r\n\r\n  ```php\r\n  Array\r\n  (\r\n    [5]  => banana\r\n    [6]  => banana\r\n    [7]  => banana\r\n    [8]  => banana\r\n    [9]  => banana\r\n    [10] => banana\r\n  )\r\n  Array\r\n  (\r\n    [-2] => pear\r\n    [0] => pear\r\n    [1] => pear\r\n    [2] => pear\r\n  )\r\n  ```\r\n\r\n### `array_combine` å°‡å‚³å…¥çš„åƒæ•¸åˆä½µç‚ºé™£åˆ—\r\n\r\n- `array_combine(array $keys, array $values): array` `$key`ç‚º key å€¼ï¼Œ`$value` ç‚ºç›¸å°æ‡‰çš„å€¼ã€‚\r\n\r\n  ```php\r\n  $a = array('green', 'red', 'yellow');\r\n  $b = array('avocado', 'apple', 'banana');\r\n  $c = array_combine($a, $b);\r\n  print_r($c);\r\n  ```\r\n\r\n  ```PHP\r\n  Array\r\n  (\r\n    [green]  => avocado\r\n    [red]    => apple\r\n    [yellow] => banana\r\n  )\r\n  ```\r\n\r\n### `array_unique` å¾é™£åˆ—ä¸­åˆªé™¤é‡è¤‡çš„å€¼\r\n\r\n- `array_unique($array, $flags)`\r\n\r\n- `$array` è¦åˆªé™¤é‡è¤‡å€¼çš„é™£åˆ—\r\n- `$flags` æŒ‡å®šé™£åˆ—çš„æ’åºæ¨¡å¼ï¼Œæœ‰äº”ç¨®å‹åˆ¥\r\n- `SORT_REGULAR` æ­£å¸¸å¸¸æ¯”è¼ƒå…ƒç´ \r\n- `SORT_NUMERIC` ä»¥æ•¸å­—æ–¹å¼æ¯”è¼ƒå…ƒç´ \r\n- `SORT_STRING` ä»¥å­—ä¸²æ–¹å¼æ¯”è¼ƒå…ƒç´ \r\n- `SORT_LOCALE_STRING` åŸºæ–¼ç•¶å‰çš„èªè¨€ç’°å¢ƒï¼Œä»¥å­—ä¸²æ–¹å¼æ¯”è¼ƒå…ƒç´ ã€‚\r\n\r\n### `array_diff` åˆ¤æ–·é™£åˆ—ä¹‹é–“å·®ç•°\r\n\r\n- `array_diff( $array1 , $array2 , $array3 , ... ):array` å¾Œé¢æ¯å€‹é™£åˆ—éƒ½è·Ÿç¬¬ä¸€å€‹é™£åˆ—åšæ¯”è¼ƒï¼Œæ­¤æ–¹æ³•æœƒå›å‚³åœ¨ç¬¬ä¸€é™£åˆ—ä¸­æœ‰å‡ºç¾ï¼Œä½†æœªå‡ºç¾åœ¨å…¶ä»–é™£ä¸­çš„å€¼ï¼Œä¸¦æœƒä¿ç•™éµå\r\n\r\n  ```php\r\n  $array1 = array('A','B','C','D');\r\n  $array2 = array('C','D','E','F');\r\n  $array3 = array('A','B','E','F');\r\n  $newArray1 = array_diff($array1,$array2);\r\n  print_r($newArray1);\r\n  $newArray2 = array_diff($array1,$array3);\r\n  print_r($newArray2);\r\n  ```\r\n\r\n  ```PHP\r\n  Array\r\n  (\r\n    [0] => A,\r\n    [1] => B\r\n  )\r\n  Array\r\n  (\r\n    [2] => C,\r\n    [3] => D\r\n  )\r\n  ```\r\n\r\n- é€²éšç”¨æ³•\r\n\r\nè—‰ç”±å…¶æŸ¥è©¢å…©å€‹ä»¥ä¸Šé™£åˆ—ä¹‹é–“çš„å·®ç•°ï¼Œä¸¦è¿”å›ä¸å­˜åœ¨é™£åˆ—ä¸­çš„å€¼ä¹‹ç‰¹æ€§ã€‚\r\n\r\nå› æ­¤å¯ç”¨ä¾†åˆªé™¤é™£åˆ—ä¸­å¤šå€‹å€¼ï¼Œè€Œä¸å½±éŸ¿å…¶ç´¢å¼•å€¼ã€‚\r\n\r\n```php\r\n//Declare the array\r\n$flowers = [\r\n  \"Rose\",\r\n  \"Lili\",\r\n  \"Jasmine\",\r\n  \"Hibiscus\",\r\n  \"Tulip\",\r\n  \"Sun Flower\",\r\n  \"Daffodil\",\r\n  \"Daisy\"\r\n];\r\n\r\n$flowers = array_diff($flowers, array(\"Rose\",\"Lili\"));\r\necho \"The array is:\\n\";\r\nprint_r($flowers);\r\n```\r\n\r\n```php\r\nArray\r\n(\r\n[2] => Jasmine\r\n[3] => Hibiscus\r\n[4] => Tulip\r\n[5] => Sun Flower\r\n[6] => Daffodil\r\n[7] => Daisy\r\n)\r\n```\r\n\r\n### æ—¥æœŸ/æ™‚é–“\r\n\r\n#### `date` æ ¼å¼åŒ– Unix timestamps\r\n\r\n- `date(string $format, ?int $timestamp = null)`\r\n\r\n- `$format` æŒ‡å®šçš„æ ¼å¼\r\n  - `Y` å¹´ä»½ï¼Œå››ä½æ•¸\r\n  - `y` å¹´ä»½äºŒä½æ•¸\r\n  - `F` æœˆä»½è‹±æ–‡å…¨åï¼›å¦‚ 'March'\r\n  - `M` æœˆä»½è‹±æ–‡ç¸®å¯«ï¼›å¦‚ 'Mar'\r\n  - `m` æœˆä»½æ•¸å­—ï¼Œä¸è¶³äºŒä½å‰é¢è£œ 0\r\n  - `n` æœˆä»½æ•¸å­—\r\n  - `D` æ˜ŸæœŸè‹±æ–‡ç¸®å¯«ï¼›å¦‚ï¼š'Fri'\r\n  - `l` æ˜ŸæœŸè‹±æ–‡å…¨ç¨±ï¼›å¦‚ï¼š'Friday'\r\n  - `w` æ˜ŸæœŸæ•¸å­—\r\n  - `d` å¹¾æ—¥æ•¸å­—ï¼Œä¸è¶³äºŒä½å‰é¢è£œ 0\r\n  - `j` å¹¾æ—¥æ•¸å­—\r\n  - `H` 24 å°æ™‚åˆ¶ï¼Œä¸è¶³äºŒä½å‰é¢è£œ 0\r\n  - `h` 12 å°æ™‚åˆ¶ï¼Œä¸è¶³äºŒä½å‰é¢è£œ 0\r\n  - `G` 24 å°æ™‚åˆ¶\r\n  - `g` 12 å°æ™‚åˆ¶\r\n  - `i` åˆ†é˜\r\n  - `A` Am æˆ– Pm\r\n  - `a` am æˆ– pm\r\n  - `s` ç§’\r\n  - `U` ç¸½ç§’æ•¸\r\n  - `t` æŒ‡å®šæœˆä»½çš„å¤©æ•¸ï¼›å¦‚\"28\", \"31\"\r\n  - `z` ä¸€å¹´ä¸­çš„ç¬¬å¹¾å¤©\r\n- `$timestamp` æ™‚é–“æˆ³(å¯é¸)\r\n\r\n#### `mktime` å–å¾—æŒ‡å®šæ—¥æœŸçš„æ™‚é–“æˆ³\r\n\r\n- `mktime($hour, $minute = null, $second = null, $month = null, $day = null, $year = null)`\r\n- ä»»ä½•çœç•¥çš„è®Šæ•¸ï¼Œå°‡ä¾æ“šæœ¬åœ°æ™‚é–“è¨­ç½®\r\n\r\n#### `date_diff` ç²å–ä»¥åˆ†é˜ç‚ºå–®ä½çš„æ™‚é–“å·®\r\n\r\n- `date_diff($StartDateTimeObject, $EndDateTimeObject)`\r\n  - `$StartDateTimeObject1` å¿…é ˆï¼Œç‚ºä¸€å€‹ DataTime ç‰©ä»¶ï¼Œè¡¨ç¤ºé–‹å§‹æ—¥æœŸã€‚\r\n  - `$EndDateTimeObject1` å¿…é ˆï¼Œç‚ºä¸€å€‹ DataTime ç‰©ä»¶ï¼Œè¡¨ç¤ºçµæŸæ—¥æœŸã€‚\r\n  - è‹¥å¤±æ•—è¿”å› false\r\n\r\n```php\r\n$date_time_start = date_create('2019-06-19')\r\n$date_time_end = date_create('2020-06-19')\r\n\r\n$difference = date_diff($date_time_start, $date_time_end);\r\n```\r\n\r\n### `sort` é™£åˆ—æ’åº\r\n\r\n#### ä¾ value æ’åº\r\n\r\n- ç”±å°åˆ°å¤§æ’åºå€¼\r\n- `sort` åˆªé™¤ key\r\n- `asort` ä¿ç•™ key\r\n- ç”±å¤§åˆ°å°æ’åºå€¼\r\n- `rsort` åˆªé™¤ key\r\n- `arsort` ä¿ç•™ key\r\n\r\n#### ä¾ key æ’åº\r\n\r\n- `ksort` ç”±å°åˆ°å¤§æ’ç´¢å¼•å€¼\r\n- `krsort` ç”±å¤§åˆ°å°æ’ç´¢å¼•å€¼\r\n\r\n#### è‡ªè¨‚æ’åº\r\n\r\nåŠ ä¸Šä¸€å€‹å‰ç¶´ `u` åœ¨ç›¸å°æ‡‰çš„æ–¹æ³•\r\n\r\n- ç¯„ä¾‹ä¸€ï¼š\r\n  ä»Šå¤©æœ‰ä¸€å€‹é™£åˆ—å¦‚ä¸‹\r\n\r\n  ```php\r\n  $unsorted = [\r\n      ['name'   => 'good',\r\n       'sorter' => '1',],\r\n\r\n      ['name'   => 'bad',\r\n       'sorter' => '3',],\r\n\r\n      ['name'   => 'normal',\r\n       'sorter' => '2',],\r\n  ];\r\n  ```\r\n\r\n  æˆ‘è¦é€é sorter é€™å€‹ key çš„ value ä¾†åšæ’åº\r\n\r\n  ```php\r\n  usort($unsorted, function ($a, $b) {\r\n      return $a['sorter'] > $b['sorter'];\r\n      // å¦‚æœ a > b çš„è©± å°±æœƒè¼¸å‡º 1ï¼Œè€Œå› ç‚º usort çš„ æ ¹åŸºæ˜¯ sort\r\n      // æ„å³æ˜¯ç…§ value ç”±å°åˆ°å¤§æ’åºï¼Œæ‰€ä»¥è¼¸å‡º 1 çš„å°±æœƒå¾€å¾Œæ’ï¼Œé€²è€Œé”åˆ°ç›®çš„\r\n  });\r\n  ```\r\n\r\n  ```php\r\n  array(3) {\r\n   [0]=>\r\n   array(2) {\r\n     [\"name\"]=>\r\n     string(4) \"good\"\r\n     [\"sorter\"]=>\r\n     string(1) \"1\"\r\n   }\r\n   [1]=>\r\n   array(2) {\r\n     [\"name\"]=>\r\n     string(6) \"normal\"\r\n     [\"sorter\"]=>\r\n     string(1) \"2\"\r\n   }\r\n   [2]=>\r\n   array(2) {\r\n     [\"name\"]=>\r\n     string(3) \"bad\"\r\n     [\"sorter\"]=>\r\n     string(1) \"3\"\r\n   }\r\n  }\r\n  ```\r\n\r\n- ç¯„ä¾‹äºŒï¼š\r\n\r\n  å¦‚æœä¸€æ¨£çš„é™£åˆ—ï¼Œä½†è¦ç”¨ä¾†æ¯”å°çš„æ•¸å€¼æ˜¯é‡è¤‡çš„\r\n\r\n  ```php\r\n  $unsorted = [\r\n      ['name'   => 'good', 'sorter' => '1',],\r\n      ['name'   => 'bad', 'sorter' => '3',],\r\n      ['name'   => 'normal', 'sorter' => '3',],\r\n  ];\r\n  ```\r\n\r\n  å¯ä»¥å¢åŠ ä¸€å€‹æ¯”å°æ¢ä»¶\r\n\r\n  ```php\r\n  $unsorted = [\r\n      [\r\n        'name'   => 'good',\r\n        'sorter' => '1',\r\n        'newSorter'=> '2'\r\n      ],\r\n      [\r\n        'name'   => 'bad',\r\n        'sorter' => '3',\r\n        'newSorter'=> '3'\r\n      ],\r\n      [\r\n        'name'   => 'normal',\r\n        'sorter' => '3',\r\n        'newSorter' => '1'\r\n      ],\r\n      [\r\n        'name'   => 'hahaha',\r\n        'sorter' => '2',\r\n        'newSorter' => '1'\r\n      ],\r\n  ];\r\n  ```\r\n\r\n  ä¾ç…§ sorter ä¾†é€²è¡Œæ’åºï¼Œä½†å¦‚æœ sorter æ•¸å€¼ç›¸åŒï¼Œå‰‡ä½¿ç”¨ newSorter ä¾†é€²è¡Œæ’åº\r\n\r\n  ```php\r\n  usort($unsorted, function ($a, $b)) {\r\n      return $a['sorter'] > $b['sorter'] || ($a['sorter'] == $b['sorter'] && $a['newSorter'] > $b['newSorter']);\r\n  }\r\n\r\n  // æˆ–é€™æ¨£å¯«\r\n  if ($a['sorter'] > $b['sorter'] || ($a['sorter'] == $b['sorter'] && $a['newSorter'] > $b['newSorter'])) {\r\n      return 1;\r\n  } elseif ($a['sorter'] < $b['sorter']) {\r\n      return -1;\r\n  } else {\r\n      return 0;\r\n  }\r\n  ```\r\n\r\n  ```php\r\n  array(4) {\r\n    [0]=>\r\n    array(3) {\r\n      [\"name\"]=>\r\n      string(4) \"good\"\r\n      [\"sorter\"]=>\r\n      string(1) \"1\"\r\n      [\"newSorter\"]=>\r\n      string(1) \"2\"\r\n    }\r\n    [1]=>\r\n    array(3) {\r\n      [\"name\"]=>\r\n      string(6) \"hahaha\"\r\n      [\"sorter\"]=>\r\n      string(1) \"2\"\r\n      [\"newSorter\"]=>\r\n      string(1) \"1\"\r\n    }\r\n    [2]=>\r\n    array(3) {\r\n      [\"name\"]=>\r\n      string(6) \"normal\"\r\n      [\"sorter\"]=>\r\n      string(1) \"3\"\r\n      [\"newSorter\"]=>\r\n      string(1) \"1\"\r\n    }\r\n    [3]=>\r\n    array(3) {\r\n      [\"name\"]=>\r\n      string(3) \"bad\"\r\n      [\"sorter\"]=>\r\n      string(1) \"3\"\r\n      [\"newSorter\"]=>\r\n      string(1) \"3\"\r\n    }\r\n  }\r\n  ```\r\n\r\n### åˆ†å‰²å­—ä¸²\r\n\r\n#### `explode`\r\n\r\n- `explode( string $delimiter , string $string , int $limit )`\r\n\r\n- `$delimiter` - å­—ä¸²çš„åˆ‡å‰²éƒ¨ä½ï¼Œè«‹è‡ªè¡Œè¨­å®šï¼Œå­—ä¸²å½¢æ…‹ï¼Œå¿…å¡«\r\n- `$string` - è¢«è¦è™•ç†çš„å­—ä¸²ï¼Œå­—ä¸²å½¢æ…‹ï¼Œå¿…å¡«é …ç›®ã€‚\r\n- `$limit` - è¨­å®šå­—ä¸²åˆ‡å‰²å¾Œæœ€å¤šå¯è¼¸å‡ºçš„æ•¸é‡ï¼Œæ•¸å­—å½¢æ…‹ï¼Œå¯ç‚ºæ­£æ•´æ•¸æˆ–è² æ•´æ•¸ï¼Œå¦‚æœå¡«å¯«æ­£æ•´æ•¸ï¼Œæœ€å¾Œçš„çš„éƒ¨ä»½åŒ…å«åˆ‡å‰²å®Œå‰©ä¸‹çš„æ‰€æœ‰éƒ¨ä»½ï¼Œï¼Œå¦‚æœå¡«å¯«è² æ•´æ•¸ï¼Œå‰‡å€’æ•¸çš„éƒ¨ä»½è‹¥åœ¨è² æ•´æ•¸ç¯„åœ å…§å°‡ä¸æœƒé¡¯ç¤ºï¼Œéå¿…å¡«é …ç›®\r\n\r\n  ```php\r\n  <?php\r\n    $str = 'Apple Dog Pig';\r\n    $str_sec = explode(\" \",$str);\r\n    print_r($str_sec);\r\n  ```\r\n\r\n  ```php\r\n  Array (\r\n  ã€€[0] => Apple\r\n  ã€€[1] => Dog\r\n  ã€€[2] => Pig\r\n  )\r\n  ```\r\n\r\n- åŠ å…¥`$limit` åƒæ•¸\r\n\r\n  ```php\r\n  <?php\r\n    $str = 'Apple Dog Pig';\r\n    $str_sec_A = explode(\" \",$str,2);\r\n    $str_sec_B = explode(\" \",$str,-1);\r\n    print_r($str_sec_A);\r\n    print_r($str_sec_B);\r\n  ```\r\n\r\n  ```php\r\n  Array (\r\n  ã€€[0] => Apple\r\n  ã€€[1] => Dog Pig\r\n  )\r\n  Array (\r\n  ã€€[0] => Apple\r\n  ã€€[1] => Dog\r\n  )\r\n  ```\r\n\r\n#### `str_split`\r\n\r\n- `str_split($string, $length)`\r\n\r\n- `string` å¿…éœ€ã€‚è¦å®šè¦åˆ†å‰²çš„å­—ç¬¦ä¸²ã€‚\r\n- `length` å¯é¸ã€‚è¦å®šæ¯å€‹æ•¸çµ„å…ƒç´ çš„é•·åº¦ã€‚é»˜èªæ˜¯ 1ã€‚\r\n\r\n  ```php\r\n  <?php\r\n    $NewString = \"M'L2\";\r\n    $Arr2=str_split($NewString,3);//æ ¹æ“šæ¯ä¸‰å€‹å­—å…ƒåˆ‡å‰²\r\n    print_r($Arr2);\r\n  ```\r\n\r\n  ```php\r\n  Array(\r\n      [0] => \"M'L\"\r\n      [1] => 2\r\n  )\r\n  ```\r\n\r\n#### `array_slice`\r\n\r\n- `array_slice($array, $start, $length, $preserve)`\r\n\r\n- `array` å¿…å¡«ï¼Œå‚³å…¥é™£åˆ—ã€‚\r\n- `start` å¿…å¡«ï¼Œè¦å®šå–å‡ºå…ƒç´ çš„é–‹å§‹ä½ç½®ï¼Œ0 = ç¬¬ä¸€å€‹å…ƒç´ ï¼Œè‹¥å‚³å…¥æ­£æ•¸ï¼Œå‰‡ç”±å‰å¾€å¾Œå–å€¼ï¼Œè‹¥ç‚ºè² å€¼ç”±å¾Œå¾€å‰å–å€¼ã€‚\r\n- `length` é¸å¡«ï¼Œè¦å®šè¿”å›çš„é™£åˆ—é•·åº¦ã€‚\r\n- `preserve` é¸å¡«ï¼Œ`true` ä¿ç•™ key å€¼ï¼Œ`false` é‡ç½® key å€¼ã€‚\r\n\r\n  ```php\r\n  <?php\r\n  $a=array(\"red\",\"green\",\"blue\",\"yellow\",\"brown\");\r\n  print_r(array_slice($a,2));\r\n  ```\r\n\r\n  ```php\r\n  Array\r\n  (\r\n      [0] => blue\r\n      [1] => yellow\r\n      [2] => brown\r\n  )\r\n  ```\r\n\r\n### `implode` å°‡é™£åˆ—è½‰ç‚ºå­—ä¸²\r\n\r\n- `implode($separator, $array)`\r\n\r\n- `separator` å¯é¸ã€‚è¦å®šæ•¸çµ„å…ƒç´ ä¹‹é–“æ”¾ç½®çš„å…§å®¹ã€‚é»˜èªæ˜¯ \"\"ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ã€‚\r\n- `array` å¿…éœ€ã€‚è¦çµåˆç‚ºå­—ç¬¦ä¸²çš„æ•¸çµ„ã€‚\r\n\r\n  ```php\r\n  $arr = [1,2,3,4,5,6];\r\n  print_r(implode('=', $arr));\r\n  ```\r\n\r\n  ```php\r\n  \"1=2=3=4=5=6\"\r\n  ```\r\n\r\n### `array_filter` éæ¿¾é™£åˆ—å…ƒç´ (åˆªé™¤é™£åˆ—ç©ºå€¼)\r\n\r\n- `array_filter($arrayName, $callbackFunction, $callbackParameter)`\r\n\r\n  - `$arrayName` å¿…é ˆï¼Œç›®æ¨™é™£åˆ—\r\n  - `$callbackFunction` å¯é¸ï¼ŒæŒ‡å®šåˆªé™¤çš„åƒæ•¸ï¼Œé è¨­åˆªé™¤é™£åˆ—ä¸­ç­‰æ–¼ false çš„å€¼\r\n  - `$callbackParameter` å¯é¸ï¼Œå¼•ç”¨å‚³éçµ¦å›å‚³å‡½æ•¸çš„åƒæ•¸\r\n\r\n    - `ARRAY_FILTER_USE_KEY` å°‡ key ä½œç‚ºå”¯ä¸€åƒæ•¸å‚³éçµ¦å›èª¿å‡½æ•¸ï¼Œè€Œä¸æ˜¯æ•¸çµ„çš„å€¼\r\n    - `ARRAY_FILTER_USE_BOTH` å°‡å€¼å’Œéµéƒ½ä½œç‚ºåƒæ•¸è€Œä¸æ˜¯å€¼å‚³éçµ¦å›èª¿\r\n\r\n      ```php\r\n      // PHP function to check for even elements in an array\r\n      function Even($array)\r\n      {\r\n          // returns if the input integer is even\r\n          if($array%2==0)\r\n             return TRUE;\r\n          else\r\n             return FALSE;\r\n      }\r\n      $array = array(12, 0, 0, 18, 27, 0, 46);\r\n      print_r(array_filter($array, \"Even\"));\r\n      ```\r\n\r\n      ```php\r\n        Array (\r\n            [0] => 12\r\n            [1] => 0\r\n            [2] => 0\r\n            [3] => 18\r\n            [5] => 0\r\n            [6] => 46\r\n        )\r\n      ```\r\n\r\n### `str_pad` å¡«å……å­—ä¸²ç‚ºæŒ‡å®šé•·åº¦\r\n\r\n- `str_pad($string, $length, $pad_string, $pad_type)`\r\n\r\n- string å¿…å¡«ï¼Œè¦å¡«å……çš„å­—ä¸²ã€‚\r\n- length å¿…å¡«ï¼Œè¦å®šæ–°å­—ä¸²çš„é•·åº¦ï¼Œè‹¥å°æ–¼å‚³å…¥çš„å­—ä¸²é•·åº¦ï¼Œå‰‡ä¸é€²è¡Œæ“ä½œã€‚\r\n- pad_string å¯é¸ï¼Œæä¾›å¡«å……çš„å­—ä¸²ï¼Œé è¨­ç‚ºç©ºç™½ã€‚\r\n- pad_type å¯é¸ï¼Œå­—ä¸²å¡«å……çš„æ–¹å‘ã€‚\r\n\r\n  - STR_PAD_BOTH å¡«å……å­—ä¸²çš„å…©å´ï¼Œè‹¥ä¸ç‚ºå¶æ•¸ï¼Œå‰‡å°‡é¡å¤–çš„å­—ä¸²å¡«å……è‡³å³å´ã€‚\r\n  - STR_PAD_LEFT å¡«å……åˆ°å­—ä¸²çš„å·¦å´ã€‚\r\n  - STR_PAD_RIGHT å¡«å……åˆ°å­—ä¸²çš„å³å´(é è¨­)ã€‚\r\n\r\n    ```php\r\n    $str = \"Hello world\";\r\n    echo str_pad($str, 20, \".\", STR_PAD_LEFT);\r\n    ```\r\n\r\n    ```php\r\n    .........Hello World\r\n    ```\r\n\r\n    ```php\r\n    $str = \"Hello world\";\r\n    echo str_pad($str, 20, \".:\", STR_PAD_BOTH);\r\n    ```\r\n\r\n    ```php\r\n    .:.:Hello World.:.:.\r\n    ```\r\n\r\n### è³‡æ–™åºåˆ—åŒ–åŠååºåˆ—åŒ–\r\n\r\n#### `string serialize` åºåˆ—åŒ–\r\n\r\n- `string serialize( mixed $value )`\r\n\r\n- $value: è¦åºåˆ—åŒ–çš„å°è±¡æˆ–é™£åˆ—\r\n\r\n  ```php\r\n  $sites = array('Google', 'Runoob', 'Facebook');\r\n  $serialized_data = serialize($sites);\r\n  echo  $serialized_data . PHP_EOL;\r\n  ```\r\n\r\n  ```php\r\n  a:3:{i:0;s:6:\"Google\";i:1;s:6:\"Runoob\";i:2;s:8:\"Facebook\";}\r\n  ```\r\n\r\n#### `mixed unserialize` ååºåˆ—åŒ–\r\n\r\n- `mixed unserialize( string $str )`\r\n\r\n- $str: åºåˆ—åŒ–å¾Œçš„å­—ä¸²\r\n\r\n  ```php\r\n  $str = 'a:3:{i:0;s:6:\"Google\";i:1;s:6:\"Runoob\";i:2;s:8:\"Facebook\";}';\r\n  $unserialized_data = unserialize($str);\r\n  print_r($unserialized_data);\r\n  ```\r\n\r\n  ```php\r\n  Array\r\n  (\r\n      [0] => Google\r\n      [1] => Runoob\r\n      [2] => Facebook\r\n  )\r\n  ```\r\n\r\n### `file_get_contents` å°‡æœ¬åœ°æ–‡ä»¶å­˜å…¥ä¸€å€‹è®Šæ•¸ä¸­\r\n\r\n- `file_get_contents($path, $include_path, $context, $start, $max_length)`\r\n\r\n- path (å¿…é ˆ) æ–‡ä»¶çš„è·¯å¾‘\r\n- include_path (å¯é¸) å¦‚æœä¹Ÿæƒ³åœ¨ include_path ä¸­æœå°‹æ–‡ä»¶ï¼Œå¯ä»¥å°‡è©²åƒæ•¸è¨­ç‚º\"1\"\r\n- context (å¯é¸) è¦å®šæ–‡ä»¶æ§åˆ¶ä»£ç¢¼çš„ç’°å¢ƒ\r\n- start (å¯é¸) æŒ‡å®šåœ¨æ–‡ä»¶ä¸­é–‹å§‹è®€å–çš„ä½ç½®ã€‚\r\n- max_length (å¯é¸) è¦å®šè®€å–çš„ä½å…ƒçµ„ã€‚\r\n\r\n### `str_pad` è£œè¶³å­—ä¸²\r\n\r\n- `str_pad($str, $pad_length , $pad_string, $pad_type)`\r\n\r\n- `$str` ä¾†æºå­—ä¸²\r\n- `$pad_length` è£œå®Œå¾Œå­—ä¸²é•·åº¦\r\n- `$pad_string` è£œå…¥çš„å­—å…ƒ\r\n- `$pad_type` è£œå…¥çš„è¦å‰‡\r\n\r\n  - `STR_PAD_BOTH` å·¦å³éƒ½è£œ\r\n  - `STR_PAD_LEFT` å¾å·¦é‚Šé–‹å§‹\r\n  - `STR_PAD_RIGHT` å¾å³é‚Šé–‹å§‹\r\n\r\n  æŠŠ id ç”±å·¦é‚Šé–‹å§‹è£œ 0ï¼Œè£œåˆ°äº”ä½æ•¸\r\n\r\n  ```php\r\n  $id=01;\r\n  $id=str_pad($id,5,\"0\",STR_PAD_LEFT);\r\n  echo $id;\r\n  //00001\r\n  ```\r\n\r\n### `str_replace` æ›¿æ›å­—ä¸²\r\n\r\n### å°‡å­—ä¸²è½‰æ›ç‚ºæ•¸å€¼\r\n\r\n> è‹¥å­—ä¸²é–‹é ­ç‚º 0ï¼Œè½‰ç‚ºæ•¸å€¼å¾Œé–‹é ­çš„ 0 æœƒè¢«çœç•¥\r\n\r\n- `number_format()` è‹¥å¤±æ•—å‰‡è¿”å›`E_WARNING`\r\n\r\n- ä½¿ç”¨é¡å‹è½‰æ›\r\n\r\n  ```php\r\n  $num = \"1000.314\";\r\n  echo (int)$num\r\n  ```\r\n\r\n- é€éé‹ç®—å­å°‡å­—ä¸²è½‰ç‚ºæ•¸å€¼ï¼Œä¾‹å¦‚åœ¨å­—ä¸²ä¸­ + 0\r\n\r\n### `is_a` æª¢æŸ¥ç‰©ä»¶æ˜¯è©²é¡åˆ¥ï¼Œæˆ–è©²é¡åˆ¥æ˜¯æ­¤ç‰©ä»¶çš„çˆ¶é¡åˆ¥(boolean)\r\n\r\n- `is_a( object $object , string $class_name )`\r\n\r\n- æ­¤å‡½æ•¸åœ¨ php 5 ä¹‹å¾Œå·²å»¢æ£„ï¼Œæ”¹ç”¨ `instanceof` å‹æ…‹é‹ç®—å­\r\n\r\n### `substr` å–å¾—éƒ¨åˆ†å­—ä¸²ï¼Œå¯è¨­å®šå­—ä¸²é•·åº¦\r\n\r\n- `substr( $string , $start , $length )`\r\n\r\n- $string åŸå§‹çš„å­—ä¸²\r\n- $start è¦é–‹å§‹æ“·å–çš„ä½ç½®(é ˆç‚ºæ•¸å­—ï¼Œå¯ç‚ºæ­£æ•¸æˆ–è² æ•¸)\r\n- $length è¦æ“·å–çš„å­—ä¸²é•·åº¦(é ˆç‚ºæ•¸å­—ï¼Œå¯ç‚ºæ­£æ•¸æˆ–è² æ•¸)\r\n\r\n### è½‰æ›å­—æ¯å¤§å°å¯«\r\n\r\n#### `ucfirst` å°‡å­—ä¸²çš„é¦–å­—æ¯è½‰ç‚ºå¤§å¯«\r\n\r\n```php\r\n$foo = 'hello world!';\r\n$foo = ucfirst($foo);             // Hello world!\r\n```\r\n\r\n#### `strtolower` å°‡å­—ä¸²æ›ç‚ºå°å¯«\r\n\r\n```php\r\n$str = \"Mary Had A Little Lamb and She LOVED It So\";\r\n$str = strtolower($str);\r\n// mary had a little lamb and she loved it so\r\n```\r\n\r\n#### `strtoupper` å°‡å­—ä¸²æ›ç‚ºå¤§å¯«\r\n\r\n```php\r\n$str = \"Mary Had A Little Lamb and She LOVED It So\";\r\n$str = strtoupper($str);\r\n//  MARY HAD A LITTLE LAMB AND SHE LOVED IT SO\r\n```\r\n\r\n### `define` å®šç¾©ä¸€å€‹å¸¸æ•¸\r\n\r\n- `define(name,value,case_insensitive)`\r\n\r\n- name å¿…é ˆï¼Œè¦å®šå¸¸æ•¸çš„åç¨±ã€‚é€šå¸¸ç‚ºå…¨å¤§å¯« + ä¸‹åˆ’ç·šã€‚\r\n- value å¿…é ˆï¼Œè¦å®šå¸¸æ•¸çš„å€¼ã€‚\r\n- case_insensitive å¿…é ˆï¼Œè¦å®šå¸¸æ•¸æ˜¯å¦å¤§å°å¯«æ•æ„Ÿï¼Œé è¨­ç‚º false : å¤§å°å¯«æ•æ„Ÿã€‚\r\n\r\n- å¸¸æ•¸é¡ä¼¼è®Šæ•¸ï¼Œä½†å¸¸æ•¸åœ¨è¨­å®šä¹‹å¾Œï¼Œå…¶å€¼ç„¡æ³•æ”¹è®Šï¼Œå¸¸æ•¸åä¸ç”¨ `$` é–‹é ­ï¼Œä½œç”¨åŸŸä¸å½±éŸ¿å°å¸¸æ•¸çš„å­˜å–ï¼Œå…¶å€¼åªèƒ½æ˜¯å­—ä¸²æˆ–æ•¸å€¼\r\n\r\n## åœ¨ Linux åŸ·è¡Œ php æª”\r\n\r\n### æ–¹æ³•ä¸€\r\n\r\n- åœ¨ç¨‹å¼çš„ç¬¬ä¸€è¡ŒåŠ å…¥è·¯å¾‘ -q\r\n\r\n  ```php\r\n  #! /usr/bin/php -q\r\n  $foo = 123;\r\n  ```\r\n\r\n- å°‡ php æª”è³¦äºˆåŸ·è¡Œæ¬Šé™\r\n\r\n  ```bash\r\n  chmod +x testing.php\r\n  ```\r\n\r\n- d/n\r\n\r\n  ```bash\r\n  ./testing.php # å¯ä»¥åƒå…¶ä»– shell script èˆ¬åŸ·è¡Œ\r\n  ```\r\n","date":"2023-07-18T05:18:39.755Z","matchingLines":["## é‹ç®—å­ã€åˆ¤æ–·\r","## Autoload è‡ªå‹•è¼‰å…¥\r","## é­”è¡“å¸¸æ•¸\r","## é­”è¡“æ–¹æ³•\r","## æ–¹æ³•\r","## åœ¨ Linux åŸ·è¡Œ php æª”\r"],"tocContent":"- [PHP å­¸ç¿’ç­†è¨˜](#php-å­¸ç¿’ç­†è¨˜)\r\n  - [é‹ç®—å­ã€åˆ¤æ–·](#é‹ç®—å­åˆ¤æ–·)\r\n  - [Autoload è‡ªå‹•è¼‰å…¥](#autoload-è‡ªå‹•è¼‰å…¥)\r\n  - [é­”è¡“å¸¸æ•¸](#é­”è¡“å¸¸æ•¸)\r\n    - [`__LINE__` æª”æ¡ˆä¸­çš„ç•¶å‰è¡Œè™Ÿ](#__line__-æª”æ¡ˆä¸­çš„ç•¶å‰è¡Œè™Ÿ)\r\n    - [`__FILE__` æª”æ¡ˆçš„å®Œæ•´è·¯å¾‘å’Œæª”å](#__file__-æª”æ¡ˆçš„å®Œæ•´è·¯å¾‘å’Œæª”å)\r\n    - [`__DIR__` æª”æ¡ˆæ‰€åœ¨çš„ç›®éŒ„](#__dir__-æª”æ¡ˆæ‰€åœ¨çš„ç›®éŒ„)\r\n    - [`__FUNCTION__` è¿”å›è©²å‡½æ•¸è¢«å®šç¾©æ™‚çš„åå­—](#__function__-è¿”å›è©²å‡½æ•¸è¢«å®šç¾©æ™‚çš„åå­—)\r\n    - [`__CLASS__` è¿”å›é¡åˆ¥åç¨±](#__class__-è¿”å›é¡åˆ¥åç¨±)\r\n    - [`__TRAIT__` Trait çš„åå­—](#__trait__-trait-çš„åå­—)\r\n    - [`__METHOD__` é¡åˆ¥çš„æ–¹æ³•åç¨±ï¼Œè¿”å›è©²æ–¹æ³•è¢«å®šç¾©æ™‚çš„åå­—](#__method__-é¡åˆ¥çš„æ–¹æ³•åç¨±è¿”å›è©²æ–¹æ³•è¢«å®šç¾©æ™‚çš„åå­—)\r\n    - [`__NAMESPACE__` ç•¶å‰å‘½åç©ºé–“çš„åç¨±](#__namespace__-ç•¶å‰å‘½åç©ºé–“çš„åç¨±)\r\n  - [é­”è¡“æ–¹æ³•](#é­”è¡“æ–¹æ³•)\r\n    - [`__construct` é¡åˆ¥çš„æ§‹é€ å‡½æ•¸](#__construct-é¡åˆ¥çš„æ§‹é€ å‡½æ•¸)\r\n    - [`__destruct` é¡åˆ¥çš„è§£æ§‹å‡½æ•¸](#__destruct-é¡åˆ¥çš„è§£æ§‹å‡½æ•¸)\r\n    - [`__call` åœ¨ç‰©ä»¶ä¸­å‘¼å«ä¸€å€‹ä¸å¯è¨ªå•çš„æ–¹æ³•æ™‚ï¼Œå‘¼å«æ­¤æ–¹æ³•](#__call-åœ¨ç‰©ä»¶ä¸­å‘¼å«ä¸€å€‹ä¸å¯è¨ªå•çš„æ–¹æ³•æ™‚å‘¼å«æ­¤æ–¹æ³•)\r\n    - [`__callStatic` ç”¨éœæ…‹æ–¹å¼å‘¼å«ä¸€å€‹ä¸å¯è¨ªå•çš„æ–¹æ³•æ™‚ï¼Œå‘¼å«æ­¤æ–¹æ³•](#__callstatic-ç”¨éœæ…‹æ–¹å¼å‘¼å«ä¸€å€‹ä¸å¯è¨ªå•çš„æ–¹æ³•æ™‚å‘¼å«æ­¤æ–¹æ³•)\r\n    - [`__get` ç²å–ä¸€å€‹é¡åˆ¥çš„æˆå“¡è®Šæ•¸æ™‚å‘¼å«](#__get-ç²å–ä¸€å€‹é¡åˆ¥çš„æˆå“¡è®Šæ•¸æ™‚å‘¼å«)\r\n    - [`__set` è¨­ç½®ä¸€å€‹é¡åˆ¥çš„æˆå“¡è®Šæ•¸æ™‚å‘¼å«](#__set-è¨­ç½®ä¸€å€‹é¡åˆ¥çš„æˆå“¡è®Šæ•¸æ™‚å‘¼å«)\r\n    - [`__isset()` ç•¶ç§æœ‰å±¬æ€§å‘¼å« isset() æˆ– empty() æ™‚å‘¼å«æ­¤æ–¹æ³•](#__isset-ç•¶ç§æœ‰å±¬æ€§å‘¼å«-isset-æˆ–-empty-æ™‚å‘¼å«æ­¤æ–¹æ³•)\r\n  - [æ–¹æ³•](#æ–¹æ³•)\r\n    - [`foreach`](#foreach)\r\n    - [`scandir` æƒææŒ‡å®šçš„ç›®éŒ„ï¼Œä¸¦è¿”å›ç‚ºé™£åˆ—](#scandir-æƒææŒ‡å®šçš„ç›®éŒ„ä¸¦è¿”å›ç‚ºé™£åˆ—)\r\n    - [`list` å®£å‘Šé™£åˆ—ä¸­çš„å€¼ï¼Œä½¿å…¶æˆç‚ºè®Šæ•¸](#list-å®£å‘Šé™£åˆ—ä¸­çš„å€¼ä½¿å…¶æˆç‚ºè®Šæ•¸)\r\n    - [`append` å°‡å‚³å…¥çš„å€¼é™„åŠ é€²é™£åˆ—](#append-å°‡å‚³å…¥çš„å€¼é™„åŠ é€²é™£åˆ—)\r\n    - [åœ¨é™£åˆ—ä¸­æ–°å¢å…ƒç´ ](#åœ¨é™£åˆ—ä¸­æ–°å¢å…ƒç´ )\r\n      - [ç›´æ¥è³¦å€¼](#ç›´æ¥è³¦å€¼)\r\n      - [`array_push` åœ¨é™£åˆ—æœ€å¾Œæ–°å¢å…ƒç´ ](#array_push-åœ¨é™£åˆ—æœ€å¾Œæ–°å¢å…ƒç´ )\r\n      - [`array_unshift` åœ¨é™£åˆ—å‰ç«¯æ’å…¥](#array_unshift-åœ¨é™£åˆ—å‰ç«¯æ’å…¥)\r\n    - [`array_fill` ä»¥å¡«å……æ•¸å€¼çš„æ–¹å¼ï¼Œå»ºç«‹æ–°é™£åˆ—](#array_fill-ä»¥å¡«å……æ•¸å€¼çš„æ–¹å¼å»ºç«‹æ–°é™£åˆ—)\r\n    - [`array_combine` å°‡å‚³å…¥çš„åƒæ•¸åˆä½µç‚ºé™£åˆ—](#array_combine-å°‡å‚³å…¥çš„åƒæ•¸åˆä½µç‚ºé™£åˆ—)\r\n    - [`array_unique` å¾é™£åˆ—ä¸­åˆªé™¤é‡è¤‡çš„å€¼](#array_unique-å¾é™£åˆ—ä¸­åˆªé™¤é‡è¤‡çš„å€¼)\r\n    - [`array_diff` åˆ¤æ–·é™£åˆ—ä¹‹é–“å·®ç•°](#array_diff-åˆ¤æ–·é™£åˆ—ä¹‹é–“å·®ç•°)\r\n    - [æ—¥æœŸ/æ™‚é–“](#æ—¥æœŸæ™‚é–“)\r\n      - [`date` æ ¼å¼åŒ– Unix timestamps](#date-æ ¼å¼åŒ–-unix-timestamps)\r\n      - [`mktime` å–å¾—æŒ‡å®šæ—¥æœŸçš„æ™‚é–“æˆ³](#mktime-å–å¾—æŒ‡å®šæ—¥æœŸçš„æ™‚é–“æˆ³)\r\n      - [`date_diff` ç²å–ä»¥åˆ†é˜ç‚ºå–®ä½çš„æ™‚é–“å·®](#date_diff-ç²å–ä»¥åˆ†é˜ç‚ºå–®ä½çš„æ™‚é–“å·®)\r\n    - [`sort` é™£åˆ—æ’åº](#sort-é™£åˆ—æ’åº)\r\n      - [ä¾ value æ’åº](#ä¾-value-æ’åº)\r\n      - [ä¾ key æ’åº](#ä¾-key-æ’åº)\r\n      - [è‡ªè¨‚æ’åº](#è‡ªè¨‚æ’åº)\r\n    - [åˆ†å‰²å­—ä¸²](#åˆ†å‰²å­—ä¸²)\r\n      - [`explode`](#explode)\r\n      - [`str_split`](#str_split)\r\n      - [`array_slice`](#array_slice)\r\n    - [`implode` å°‡é™£åˆ—è½‰ç‚ºå­—ä¸²](#implode-å°‡é™£åˆ—è½‰ç‚ºå­—ä¸²)\r\n    - [`array_filter` éæ¿¾é™£åˆ—å…ƒç´ (åˆªé™¤é™£åˆ—ç©ºå€¼)](#array_filter-éæ¿¾é™£åˆ—å…ƒç´ åˆªé™¤é™£åˆ—ç©ºå€¼)\r\n    - [`str_pad` å¡«å……å­—ä¸²ç‚ºæŒ‡å®šé•·åº¦](#str_pad-å¡«å……å­—ä¸²ç‚ºæŒ‡å®šé•·åº¦)\r\n    - [è³‡æ–™åºåˆ—åŒ–åŠååºåˆ—åŒ–](#è³‡æ–™åºåˆ—åŒ–åŠååºåˆ—åŒ–)\r\n      - [`string serialize` åºåˆ—åŒ–](#string-serialize-åºåˆ—åŒ–)\r\n      - [`mixed unserialize` ååºåˆ—åŒ–](#mixed-unserialize-ååºåˆ—åŒ–)\r\n    - [`file_get_contents` å°‡æœ¬åœ°æ–‡ä»¶å­˜å…¥ä¸€å€‹è®Šæ•¸ä¸­](#file_get_contents-å°‡æœ¬åœ°æ–‡ä»¶å­˜å…¥ä¸€å€‹è®Šæ•¸ä¸­)\r\n    - [`str_pad` è£œè¶³å­—ä¸²](#str_pad-è£œè¶³å­—ä¸²)\r\n    - [`str_replace` æ›¿æ›å­—ä¸²](#str_replace-æ›¿æ›å­—ä¸²)\r\n    - [å°‡å­—ä¸²è½‰æ›ç‚ºæ•¸å€¼](#å°‡å­—ä¸²è½‰æ›ç‚ºæ•¸å€¼)\r\n    - [`is_a` æª¢æŸ¥ç‰©ä»¶æ˜¯è©²é¡åˆ¥ï¼Œæˆ–è©²é¡åˆ¥æ˜¯æ­¤ç‰©ä»¶çš„çˆ¶é¡åˆ¥(boolean)](#is_a-æª¢æŸ¥ç‰©ä»¶æ˜¯è©²é¡åˆ¥æˆ–è©²é¡åˆ¥æ˜¯æ­¤ç‰©ä»¶çš„çˆ¶é¡åˆ¥boolean)\r\n    - [`substr` å–å¾—éƒ¨åˆ†å­—ä¸²ï¼Œå¯è¨­å®šå­—ä¸²é•·åº¦](#substr-å–å¾—éƒ¨åˆ†å­—ä¸²å¯è¨­å®šå­—ä¸²é•·åº¦)\r\n    - [è½‰æ›å­—æ¯å¤§å°å¯«](#è½‰æ›å­—æ¯å¤§å°å¯«)\r\n      - [`ucfirst` å°‡å­—ä¸²çš„é¦–å­—æ¯è½‰ç‚ºå¤§å¯«](#ucfirst-å°‡å­—ä¸²çš„é¦–å­—æ¯è½‰ç‚ºå¤§å¯«)\r\n      - [`strtolower` å°‡å­—ä¸²æ›ç‚ºå°å¯«](#strtolower-å°‡å­—ä¸²æ›ç‚ºå°å¯«)\r\n      - [`strtoupper` å°‡å­—ä¸²æ›ç‚ºå¤§å¯«](#strtoupper-å°‡å­—ä¸²æ›ç‚ºå¤§å¯«)\r\n    - [`define` å®šç¾©ä¸€å€‹å¸¸æ•¸](#define-å®šç¾©ä¸€å€‹å¸¸æ•¸)\r\n  - [åœ¨ Linux åŸ·è¡Œ php æª”](#åœ¨-linux-åŸ·è¡Œ-php-æª”)\r\n    - [æ–¹æ³•ä¸€](#æ–¹æ³•ä¸€)"},{"name":"Docker å­¸ç¿’ç­†è¨˜.md","content":"# Docker å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [Docker åŸºæœ¬çŸ¥è­˜ ä»¥åŠ Docker Compose å¯¦æˆ°ç¶“é©—](https://hackmd.io/@leonsnoopy/Sya_DevI7#Docker-%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AD%98-%E4%BB%A5%E5%8F%8A-Docker-Compose%E5%AF%A6%E6%88%B0%E7%B6%93%E9%A9%97)\r\n>\r\n> [åŸºç¤ç³»çµ±åŠ docker hub æŒ‡ä»¤](https://joshhu.gitbooks.io/dockercommands/content/Basics/Basics.html)\r\n>\r\n> [How to Deploy Laravel with Docker on Ubuntu 18.04](https://help.clouding.io/hc/en-us/articles/360010679999-How-to-Deploy-Laravel-with-Docker-on-Ubuntu-18-04)\r\n>\r\n> [Laravel å¯¦æˆ°ç¶“é©—åˆ†äº« - Day26 Dockerize ä½ çš„ Laravel å°ˆæ¡ˆ](https://ithelp.ithome.com.tw/articles/10251844)\r\n\r\n## å®‰è£ Docker: Docker for Windows\r\n\r\n> Windows 10\r\n> éœ€å•Ÿç”¨ Hyper-v\r\n> æ§åˆ¶å° -> ç¨‹å¼å’ŒåŠŸèƒ½ -> é–‹å•Ÿæˆ–é—œé–‰ Windows åŠŸèƒ½\r\n> å°‡\"Hyper-v\"å’Œ\"å®¹å™¨\"è¨­ç‚ºé–‹å•Ÿ\r\n\r\n- ä¸‹è¼‰[Docker for Windows](https://docs.docker.com/desktop/get-started/)\r\n\r\n## åŸºæœ¬æ¦‚å¿µ\r\n\r\n- docker ä¸»è¦å…ƒä»¶ï¼š\r\n  - `image` æ˜ åƒæª”\r\n  - `container` å®¹å™¨\r\n  - `repository` å€‰åº«\r\n\r\nåŸ·è¡Œ docker çš„ä¸»æ©Ÿç¨±ç‚º Hostï¼Œç•¶ Host åŸ·è¡Œ `docker run` æŒ‡ä»¤æ™‚ï¼ŒDocker æœƒæ“ä½œé€™ä¸‰å€‹å…ƒç´ ã€‚\r\n\r\n- Imageã€containerã€repository ä¹‹é–“çš„é—œä¿‚å°±åƒå…‰ç¢Ÿä¸€æ¨£ï¼šæ—©æœŸä¸–ç´€å¸åœ‹ç­‰å…‰ç¢ŸéŠæˆ²ï¼Œæœƒéœ€è¦æ­é…å…¶ä»–å¯è®€å¯«ç©ºé–“ï¼ˆå¦‚ç¡¬ç¢Ÿï¼‰ï¼Œæ‰æœ‰è¾¦æ³•åŸ·è¡Œã€‚\r\n  - image åƒå…‰ç¢Ÿç‰‡ï¼Œå”¯ç¨ä¸”ç„¡æ³•ç¨ç«‹åŸ·è¡Œã€‚\r\n  - container åƒç¡¬ç¢Ÿï¼Œå¯è®€å¯å¯«å¯åŸ·è¡Œã€‚\r\n  - repository åƒå…‰ç¢Ÿç›’ï¼Œå„²å­˜ imageã€‚\r\n  - registry å‰‡æ˜¯å…‰ç¢Ÿé›¶å”®å•†ã€‚\r\n\r\n### Image\r\n\r\n- image åŒ…è£äº†ä¸€å€‹åŸ·è¡Œç‰¹å®šç’°å¢ƒæ‰€éœ€è¦çš„è³‡æºã€‚\r\n  æ¯å€‹ image éƒ½æœ‰ç¨ä¸€ç„¡äºŒçš„ digestï¼Œé€™æ˜¯å¾ image å…§å®¹ä½œ sha256 ç”¢ç”Ÿçš„ã€‚é€™å€‹æ˜¯èƒ½è®“ image ç„¡æ³•éš¨æ„æ›´è®Šå…§å®¹ï¼Œç¶­æŒè³‡æ–™çš„ä¸€è‡´æ€§ã€‚\r\n\r\né›–ç„¶ image è£¡æœ‰å¿…è¦çš„è³‡æºï¼Œä½†ä»–ç„¡æ³•ç¨ç«‹åŸ·è¡Œï¼Œå¿…é ˆé  container é–“æ¥åŸ·è¡Œã€‚\r\n\r\n### Container\r\n\r\n- åŸºæ–¼ image å¯ä»¥å»ºç«‹å‡º Containerã€‚\r\n  ä»–çš„æ¦‚å¿µåƒæ˜¯å»ºç«‹ä¸€å€‹å¯è®€å¯«å…§å®¹çš„å¤–å±¤ï¼Œæ¶åœ¨ image ä¹‹ä¸Šã€‚å¯¦éš›å­˜å– container æœƒç¶“éå¯è®€å¯«å±¤èˆ‡ imageï¼Œå› æ­¤çœ‹åˆ°çš„å…§å®¹æœƒæ˜¯å…©è€…åˆä½µå¾Œçš„çµæœã€‚\r\n\r\nContainer ç‰¹æ€§èˆ‡ image ä¸ä¸€æ¨£ï¼Œå› ç‚ºæœ‰å¯è®€å¯«å±¤ï¼Œæ‰€ä»¥ container å¯ä»¥è®€å¯«ï¼Œä¹Ÿå¯ä»¥æ‹¿ä¾†åŸ·è¡Œã€‚\r\n\r\n### Repository\r\n\r\n- repository æ˜¯å­˜æ”¾ image çš„ç©ºé–“\r\n  docker çš„è¨­è¨ˆé¡ä¼¼`åˆ†æ•£å¼ç‰ˆæœ¬æ§åˆ¶`çš„æ–¹æ³•ä¾†å­˜çš„æ–¹æ³•ä¾†å­˜æ”¾å„ç¨® imageï¼Œè€Œåˆ†æ•£å¼æ¶æ§‹å°±æœƒæœ‰é¡ä¼¼ git çš„ pull/push è¡Œç‚ºï¼Œå¯¦éš›åšçš„äº‹æƒ…ä¹Ÿè·Ÿ git é¡ä¼¼ï¼šç‚ºäº†è¦è·Ÿé ç«¯çš„ repository åŒæ­¥ã€‚\r\n\r\nå¦ä¸€å€‹èˆ‡ repository å¾ˆåƒï¼Œä½†å®¹æ˜“æ··ç”¨çš„è©ç‚º Registryã€‚Registry æ¶µè“‹ç¯„åœæ›´å»£ï¼ŒåŒ…å«äº†æ›´å¤š repository èˆ‡èº«åˆ†é©—è­‰åŠŸèƒ½ç­‰ï¼Œé€šå¸¸æ¯”è¼ƒå¸¸è¨è«–çš„ä¹Ÿæ˜¯ registryã€‚\r\n\r\nç›®å‰ docker ä¸Šé¢é è¨­çš„ registry ç‚º DockerHubï¼Œå¤§å¤šæ•¸ç¨‹å¼æˆ–æœå‹™çš„ image éƒ½å¯ä»¥åœ¨ä¸Šé¢æ‰¾åˆ°ã€‚\r\n\r\n## Hello World\r\n\r\n```bash\r\n$ docker run hello-world\r\nUnable to find image 'hello-world:latest' locally\r\nlatest: Pulling from library/hello-world\r\n0e03bdcc26d7: Pull complete\r\nDigest: sha256:7f0a9f93b4aa3022c3a4c147a449bf11e0941a1fd0bf4a8e6c9408b2600777c5\r\nStatus: Downloaded newer image for hello-world:latest\r\n\r\nHello from Docker!\r\n```\r\n\r\n- `docker run <image name>` æœƒå»ºç«‹ä¸€å€‹ container ä¸¦åŸ·è¡Œï¼Œè€Œå› ç‚º container éœ€è¦åŸºæ–¼ image å»ºç«‹ï¼Œæ‰€ä»¥ docker run æœ‰ä¸€å€‹å¿…è¦åƒæ•¸ç‚º `image name`ã€‚\r\n\r\n### ç¢ºèª Image å­˜åœ¨æ–¼ Repository\r\n\r\né¦–å…ˆå…ˆç¢ºèª `hello-world` æ˜¯å¦å­˜åœ¨æ–¼æœ¬æ©Ÿçš„ repositoryï¼Œæœ¬æ©Ÿæ‰¾ä¸åˆ°çš„è©±ï¼Œå°±éœ€è¦å¾é ç«¯çš„ repository ä¸‹è¼‰ã€‚\r\n\r\n```bash\r\nUnable to find image 'hello-world:latest' locally\r\nlatest: Pulling from library/hello-world\r\n0e03bdcc26d7: Pull complete\r\nDigest: sha256:7f0a9f93b4aa3022c3a4c147a449bf11e0941a1fd0bf4a8e6c9408b2600777c5\r\nStatus: Downloaded newer image for hello-world:latest\r\n```\r\n\r\n### å»ºç«‹ Container ä¸¦åŸ·è¡Œ\r\n\r\nç¢ºèª image å­˜åœ¨å¾Œï¼Œå³å¯å»ºç«‹ container ä¸¦åŸ·è¡Œã€‚\r\n\r\n- `docker run` é è¨­çš„è¡Œç‚ºæ˜¯ï¼š\r\n  1. å‰æ™¯å»ºç«‹ä¸¦åŸ·è¡Œ container\r\n  2. ç­‰å¾…åŸ·è¡Œç¨‹å¼çµæŸå¾Œï¼Œæœƒå›åˆ°å‰æ™¯çš„å‘½ä»¤æç¤ºå­—å…ƒ\r\n  3. è©² container æœƒè¢«æ¨™è¨˜ç‚ºçµæŸç‹€æ…‹ã€‚\r\n\r\n### åˆ—å‡ºæ‰€æœ‰å·²å»ºç«‹çš„ container\r\n\r\n```bash\r\ndocker ps -a\r\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES\r\n6d7e00198a56        hello-world         \"/hello\"            12 seconds ago      Exited (0) 11 seconds ago                       relaxed_bhabha\r\n```\r\n\r\n`STATUS` è¡¨ç¤º container çš„ç‹€æ…‹ï¼Œ`Exited(0)` å¾Œé¢çš„æ•¸å­—ç‚ºç¨‹å¼çµæŸå¾Œå›å‚³çš„ç‹€æ…‹ç¢¼ï¼Œé€šå¸¸ 0 ç‚ºæ­£å¸¸çµæŸï¼Œé 0 å‰‡å”¯æœ‰éŒ¯èª¤ã€‚\r\n\r\n`CONTAINER ID` å’Œ `NAMES` ç‚ºç¨ä¸€ç„¡äºŒï¼ŒåŸ·è¡Œå¤šæ¬¡ `docker run` å¾Œï¼Œæœƒç”Ÿä¸ä¸€æ¨£åå­—çš„ containerã€‚\r\n\r\n### ç§»é™¤ container\r\n\r\nè‹¥ä¸€ç›´åŸ·è¡Œ `docker run` æœƒä½¿ container æ•¸é‡ä¸æ–·å¢åŠ ï¼Œä¸€èˆ¬è€Œè¨€æ²’æœ‰å†ç”¨åˆ°çš„ container å°±æœƒå°‡ä»–ç§»é™¤\r\n\r\n```bash\r\n# ç§»é™¤æ™‚ä½¿ç”¨ CONTAINER ID å’Œ NAMES éƒ½å¯ä»¥ã€‚\r\ndocker rm 6d7e00198a56\r\n\r\n#ç§»é™¤å¾Œå†æª¢æŸ¥ä¸€æ¬¡\r\ndocker ps -a\r\n```\r\n\r\n## ubuntu\r\n\r\n### pull\r\n\r\n```bash\r\n# æœå°‹ ubuntu\r\ndocker search ubuntu\r\n# å°‡ ubuntu çš„ image pull ä¸‹ä¾†\r\ndocker pull ubuntu\r\n```\r\n\r\næŸ¥çœ‹ docker çš„ imageï¼Œæ‡‰å¯ä»¥çœ‹åˆ°æœ€æ–°ç‰ˆæœ¬çš„ ubuntu\r\n\r\n```bash\r\ndocker images\r\n```\r\n\r\n| REPOSITORY | TAG    | IMAGE ID     | CREATED     | SIZE   |\r\n| ---------- | ------ | ------------ | ----------- | ------ |\r\n| ubuntu     | latest | 6b7dfa7e8fdb | 3 weeks ago | 77.8MB |\r\n\r\n### å•Ÿå‹•\r\n\r\n```bash\r\n> docker run -itd --name ubuntu-test ubuntu\r\n6ffebdd2bce193afe7e3fbaa53c6f2e1dffa845e2c8ec55fef899ba191470dbc\r\n```\r\n\r\né€²å…¥å®¹å™¨\r\n\r\n```bash\r\n> docker exec -it ubuntu-test bash\r\nroot@6ffebdd2bce1:/#\r\n```\r\n\r\n## For Laravel: Laradock\r\n\r\n### ç’°å¢ƒè¦æ±‚\r\n\r\n> Git\r\n> docker\r\n> docker-compose\r\n\r\n- å°‡ laradock çš„ repository clone ä¸‹ä¾†\r\n\r\n  ```bash\r\n  git clone https://github.com/Laradock/laradock.git Laradock\r\n  ```\r\n\r\n### è³‡æ–™çµæ§‹\r\n\r\n#### laradock/.env\r\n\r\n- åœ¨ laradock çš„è³‡æ–™å¤¾ä¸­è¤‡è£½ .env.example ä¸¦æ”¹åç‚º .env\r\n\r\n  ```bash\r\n  cp .env.example .env\r\n  ```\r\n\r\n- ç·¨è¼¯ .env ä¸­çš„è¨­å®š\r\n\r\n```vim\r\n### Paths #################################################\r\n# Point to the path of your applications code on your host\r\n# å°ˆæ¡ˆè¦æ”¾åœ¨æœ¬æ©Ÿçš„å“ªå€‹è³‡æ–™å¤¾ä¸­\r\n# é€™é‚Šæ”¾åœ¨èˆ‡ laradock åŒå±¤ç´šçš„ test è³‡æ–™å¤¾ä¸­\r\nAPP_CODE_PATH_HOST=../test\r\n\r\n# Point to where the `APP_CODE_PATH_HOST` should be in the container\r\n# è¨­å®šå°ˆæ¡ˆè¦åŒæ­¥åˆ° container ä¸­çš„å“ªä¸€å€‹è·¯å¾‘ï¼Œé è¨­ç‚º /var/www\r\nAPP_CODE_PATH_CONTAINER=/var/www\r\n\r\n# You may add flags to the path `:cached`, `:delegated`. When using Docker Sync add `:nocopy`\r\nAPP_CODE_CONTAINER_FLAG=:cached\r\n\r\n# Choose storage path on your machine. For all storage systems\r\n# è¨­å®šä½ çš„å„²å­˜è³‡æ–™(ex. database, redis å…§çš„æ•¸æ“š)è¦å­˜æ”¾åœ¨å“ªã€‚\r\n# é€™é‚Šæ˜¯æ”¾åœ¨è·Ÿ laradock å°ˆæ¡ˆåŒå±¤ç´šçš„ data è³‡æ–™å¤¾ä¸­\r\nDATA_PATH_HOST=../data\r\n```\r\n\r\n#### mysql\r\n\r\nè‹¥ PhpMyAdmin ç™»ä¸é€²å»ï¼Œå¯èƒ½æ˜¯ç‰ˆæœ¬å•é¡Œ\r\n\r\n```vim\r\n# é è¨­å€¼\r\nMYSQL_VERSION=latest\r\n\r\n# æ”¹ç‚º\r\nMYSQL_VERSION=5.7\r\n```\r\n\r\n#### PhpMyAdmin\r\n\r\n```vim\r\n### PHP MY ADMIN ##########################################\r\n\r\n# Accepted values: mariadb - mysql\r\n# é€£æ¥çš„ BD (é è¨­ç‚º mysql)\r\nPMA_DB_ENGINE=mysql\r\n\r\n# Credentials/Port:\r\n\r\n# é è¨­çš„ä½¿ç”¨è€…\r\nPMA_USER=default\r\n# é è¨­å¯†ç¢¼\r\nPMA_PASSWORD=secret\r\n# sql root å¸³è™Ÿçš„å¯†ç¢¼\r\nPMA_ROOT_PASSWORD=secret\r\n# phpMyAdmin åŸ·è¡Œçš„ port è™Ÿ\r\nPMA_PORT=8081\r\nPMA_MAX_EXECUTION_TIME=600\r\nPMA_MEMORY_LIMIT=256M\r\nPMA_UPLOAD_LIMIT=2G\r\n```\r\n\r\n#### apache2\r\n\r\n#### nginx\r\n\r\n### å•Ÿå‹•\r\n\r\n- å•Ÿå‹• laradock\r\n\r\n```bash\r\ndocker-compose up -d apache2 phpMyAdmin nginx ...æƒ³å•Ÿå‹•çš„æœå‹™\r\n```\r\n\r\nLaradock æœƒè‡ªå‹•å•Ÿå‹•åŒ…æ‹¬ php-fpm åœ¨å…§çš„ php-fpm åŠ workspaceï¼Œå•Ÿå‹• phpMyAdmin æ™‚ä¹Ÿæœƒé€£å¸¶å•Ÿå‹• mysql\r\n\r\n- é€²å…¥ laravel å°ˆæ¡ˆ\r\n\r\nåœ¨å•Ÿå‹• laradock ä¹‹å¾Œï¼Œæœƒå»ºç«‹ä¸€å€‹ workspace çš„ containerï¼Œæ­¤æ™‚é€²å…¥ workspace å»ºç«‹ laravel å°ˆæ¡ˆ\r\n\r\n```bash\r\ndocker-compose exec workspace bash\r\n```\r\n\r\né€²å…¥å¾Œï¼Œterminal æœƒé¡¯ç¤ºè‡ªå·±åœ¨ `/var/www` ä¸­ï¼Œæ­¤æ™‚ `/var/www` æ˜¯é€£æ¥æˆ‘å€‘åœ¨ .env ä¸­è¨­å®šçš„è³‡æ–™å¤¾ `../test`\r\n","date":"2023-07-18T05:05:49.143Z","matchingLines":["## å®‰è£ Docker: Docker for Windows\r","## åŸºæœ¬æ¦‚å¿µ\r","## Hello World\r","## ubuntu\r","## For Laravel: Laradock\r"],"tocContent":"- [Docker å­¸ç¿’ç­†è¨˜](#docker-å­¸ç¿’ç­†è¨˜)\r\n  - [å®‰è£ Docker: Docker for Windows](#å®‰è£-docker-docker-for-windows)\r\n  - [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)\r\n    - [Image](#image)\r\n    - [Container](#container)\r\n    - [Repository](#repository)\r\n  - [Hello World](#hello-world)\r\n    - [ç¢ºèª Image å­˜åœ¨æ–¼ Repository](#ç¢ºèª-image-å­˜åœ¨æ–¼-repository)\r\n    - [å»ºç«‹ Container ä¸¦åŸ·è¡Œ](#å»ºç«‹-container-ä¸¦åŸ·è¡Œ)\r\n    - [åˆ—å‡ºæ‰€æœ‰å·²å»ºç«‹çš„ container](#åˆ—å‡ºæ‰€æœ‰å·²å»ºç«‹çš„-container)\r\n    - [ç§»é™¤ container](#ç§»é™¤-container)\r\n  - [ubuntu](#ubuntu)\r\n    - [pull](#pull)\r\n    - [å•Ÿå‹•](#å•Ÿå‹•)\r\n  - [For Laravel: Laradock](#for-laravel-laradock)\r\n    - [ç’°å¢ƒè¦æ±‚](#ç’°å¢ƒè¦æ±‚)\r\n    - [è³‡æ–™çµæ§‹](#è³‡æ–™çµæ§‹)\r\n      - [laradock/.env](#laradockenv)\r\n      - [mysql](#mysql)\r\n      - [PhpMyAdmin](#phpmyadmin)\r\n      - [apache2](#apache2)\r\n      - [nginx](#nginx)\r\n    - [å•Ÿå‹•](#å•Ÿå‹•-1)"},{"name":"Carbon å­¸ç¿’ç­†è¨˜.md","content":"# Carbon å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n> php å¸¸ç”¨è™•ç†æ™‚é–“æ ¼å¼çš„å¥—ä»¶\r\n>\r\n> åœ¨ laravel 5.0 ä¹‹å¾Œç‚ºé è¨­å¥—ä»¶\r\n>\r\n> åº•å±¤æ˜¯ä½¿ç”¨ PHP `Datetime` çš„ `strtotime` æ–¹æ³•\r\n>\r\n> ---\r\n>\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [Carbon ä½¿ç”¨æŠ€å·§æ•´ç† (ä¸Š)](https://reurl.cc/eWWbLm)\r\n>\r\n> [Carbon ä½¿ç”¨æŠ€å·§æ•´ç† (ä¸‹)](https://reurl.cc/X55rGD)\r\n>\r\n> [Laravel 5 å­¸ç¿’ç­†è¨˜ - Carbon æ™‚é–“å¥—ä»¶](https://www.kancloud.cn/kancloud/laravel-5-learning-notes/50163)\r\n\r\n## ç‰©ä»¶å»ºç«‹\r\n\r\n### å»ºç«‹ç•¶ä¸‹æ™‚é–“\r\n\r\n```php\r\n$now = new Carbon();\r\n$now = Carbon::now();\r\n$now = new Carbon('first day of January 2022', 'America/Vancouver');  //  2022-01-01 00:00:00.0 America/Vancouver (-08:00)\r\n```\r\n\r\n- ç›´æ¥å»ºç«‹å¯ä»¥è§£ææ–‡å­—ï¼Œä¸”æŒ‡å®šæ™‚å€\r\n\r\n### è§£æä¸¦ç”¢ç”Ÿæ™‚é–“ç‰©ä»¶\r\n\r\n```php\r\nCarbon::parse('first day of December 2022');    // 2022-12-01 00:00:00.0 UTC (+00:00)\r\nCarbon::parse('2022/4/01');                     // 2022-04-01\r\nCarbon::parse('2022/04/01');                    // 2022-04-01\r\nCarbon::parse('2022-04-01');                    // 2022-04-01\r\n```\r\n\r\n### ä¾è¦å‰‡å»ºç«‹\r\n\r\n```php\r\nCarbon::create($year, $month, $day, $hour, $minute, $second, $tz);  // é€šç”¨è®Šæ•¸é †åº\r\nCarbon::createFromDate($year, $month, $day, $tz);\r\nCarbon::createFromTime($hour, $minute, $second, $tz);\r\nCarbon::createFromTimeStamp('1601735792.198956');                   // 2020-10-03 14:36:32.198956\r\n```\r\n\r\n- è‹¥å‚³å…¥çš„è³‡æ–™ä¸å®Œæ•´ï¼Œäº¦èƒ½ç”¢ç”Ÿæ™‚é–“ç‰©ä»¶ï¼Œé è¨­ç‚ºæœ€å°å€¼\r\n- ä¹Ÿå¯ä»¥ç”¨ `parse` çš„æ–¹å¼æ“ä½œ `create`\r\n- è‹¥ä¸å¸¶å€¼ï¼Œå‰‡æœƒç”¢ç”Ÿ `0001-01-01`\r\n\r\n```php\r\nCarbon::create($year, $month);  // 2020-10-03 00:00:00\r\nCarbon::create('2022/4/01');    // 2022-04-01 00:00:00.0\r\nCarbon::create();               // 0000-01-01\r\n```\r\n\r\n### Bug èˆ‡å®‰å…¨æ¨¡å¼\r\n\r\n- `createFrom()` å…¶é è¨­å¸¶å€¼çš„ç‰¹æ€§æ˜¯å–çš„ç•¶ä¸‹æ™‚é–“ï¼Œå› æ­¤è‹¥åœ¨å¤§æœˆçš„æœˆåº•ä½¿ç”¨ï¼Œå®¹æ˜“æœ‰è·¨æœˆçš„å•é¡Œ\r\n\r\n```php\r\nCarbon::createFromDate(2022, 4);    // æœªå¸¶å…¥çš„åƒæ•¸ï¼Œæœƒé è¨­ç‚ºç•¶ä¸‹çš„æ™‚é–“\r\n// ç•¶ä¸‹ç‚º 30 è™Ÿï¼š2022-04-30\r\n// è‹¥ç‚º 31 è™Ÿï¼š2022-05-01\r\n```\r\n\r\n- ä½¿ç”¨ `createSafe()` å®‰å…¨æ¨¡å¼å»ºç«‹ï¼Œæœƒå¹«å¿™æª¢æŸ¥å…¶åˆç†æ€§ã€‚è‹¥å‚³å…¥ä¸åˆæ³•çš„æ•¸å€¼ï¼Œæœƒå›å‚³ Exceptionã€‚\r\n\r\n```php\r\nCarbon::create(2022, 1, 35);        // 2022-02-04\r\nCarbon::createSafe(2022, 1, 35);    //  throw InvalidDateException\r\n```\r\n\r\n## æ™‚é–“æ ¼å¼ æ™‚å€ã€æœ¬åœ°åŒ–\r\n\r\n|         å–®ä½          | ç¸®å¯« |\r\n| :-------------------: | :--: |\r\n|      å¹´(å››ä½æ•¸)       |  Y   |\r\n|      å¹´(äºŒä½æ•¸)       |  y   |\r\n|       æœˆ(è‹±æ–‡)        |  F   |\r\n|     æœˆ(è‹±æ–‡ç¸®å¯«)      |  M   |\r\n|   æœˆ(è£œ 0 è‡³äºŒä½æ•¸)   |  m   |\r\n|   æ—¥(è£œ 0 è‡³äºŒä½æ•¸)   |  d   |\r\n|          æ—¥           |  j   |\r\n|      æ˜ŸæœŸ(è‹±æ–‡)       |  l   |\r\n|    æ˜ŸæœŸ(è‹±æ–‡ç¸®å¯«)     |  D   |\r\n| æ˜ŸæœŸ(è‹±æ–‡ç¸®å¯« + é€—è™Ÿ) |  r   |\r\n|      æ˜ŸæœŸ(æ•¸å­—)       |  w   |\r\n|        æ™‚(24)         |  G   |\r\n|        æ™‚(12)         |  g   |\r\n| æ™‚(24, è£œ 0 è‡³äºŒä½æ•¸) |  H   |\r\n| æ™‚(12, è£œ 0 è‡³äºŒä½æ•¸) |  h   |\r\n|          åˆ†           |  i   |\r\n|          ç§’           |  s   |\r\n|         æ¯«ç§’          |  S   |\r\n|         æ™‚å€          |  e   |\r\n|         æ™‚å€          |  T   |\r\n|         æ™‚å·®          |  P   |\r\n|        æ™‚é–“æˆ³         |  U   |\r\n\r\n### æœ¬åœ°èªç³»\r\n\r\n- Laravel ç¨‹å¼é è¨­\r\n\r\n```php\r\n$date = Carbon::now()->locale('zh-tw');\r\n$date->diffForHumans();     // 1 ç§’å‰\r\n$date->monthName;           // åä¸€æœˆ\r\n$date->isoFormat('LLLL');   // 2022å¹´11æœˆ17æ—¥æ˜ŸæœŸå›› 02:01\r\n```\r\n\r\n- æ‰‹å‹•è¨­å®š\r\n\r\n```php\r\n// é€šç”¨è¨­å®š\r\n$factory = new Factory([\r\n    'locale' => 'zh-tw',\r\n    'timezone' => 'Asia/Taipei'\r\n]);\r\n$factory->now();\r\n\r\n// æš«æ™‚è¨­å®š\r\nCarbon:now()->settings([\r\n    'locale' => 'fr-FR',\r\n    'timezone' => 'Europe/Paris'\r\n]);\r\n```\r\n\r\n### Format\r\n\r\n```php\r\nCarbon::now()->format('Y-m-d H:m:s l');             // 2022-11-17 02:11:55 Thursday\r\nCarbon::now()->translatedFormat('Y-m-d H:m:s l');   // 2022-11-17 02:11:55 æ˜ŸæœŸå››\r\n```\r\n\r\n- é™¤äº†åˆ©ç”¨ `format()` è¼¸å‡ºæ™‚é–“æ ¼å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `toDateString()`, `toTimeString()`, `toISOString()` ç­‰æ–¹æ³•ï¼Œå°‡æ™‚é–“ç‰©ä»¶è½‰æ›æˆå­—ä¸²ï¼Œäº¦æœ‰æä¾› `toArray()`, `toObject()` æ–¹æ³•ã€‚\r\n\r\n```php\r\nCarbon::hasFormat('2022-11-11', 'Y-m-d')                // true\r\nCarbon::hasFormat('2022~11~11', 'Y~m~d')                // true\r\nCarbon::hasFormatWithModifiers('2022-11-11', 'Y#m#d')   // true\r\nCarbon::hasFormatWithModifiers('2022/11/11', 'Y#m#d')   // true\r\nCarbon::hasFormatWithModifiers('2022~11~11', 'Y#m#d')   // false\r\n```\r\n\r\n- åˆ©ç”¨ `hasFormat()` ä¾†åˆ¤æ–· `format` æ ¼å¼\r\n- `hasFormatWithModifiers()` ç‚ºæ¨¡ç³Šæ¯”å°ï¼Œå¯ä»¥ç”¨ `#` å€éš”æ™‚é–“ç¸®ç¢¼ï¼Œå¯ä»¥åŒæ™‚åˆ¤æ–· `/`, `-`\r\n\r\n## Getter & Setter\r\n\r\n### æ™‚é–“å±¬æ€§\r\n\r\n```php\r\n$date = Carbon::parse('2022-02-28');\r\n$date->year;        // 2022\r\n$date->month;       // 2\r\n$date->dayOfYear;   // 59\r\n$date->dayOfMonth;  // 28\r\n```\r\n\r\n### æ™‚é–“èˆ‡èªç³»\r\n\r\n- åˆ¤æ–·æ™‚é–“äº‹ä»¶çš„èªç³»æœ‰æ²’æœ‰ç¬¦åˆæ‡‰ç”¨ç¨‹å¼ï¼ŒåŠæœ‰æ²’æœ‰ä½¿ç”¨ UTC åœ‹éš›æ¨™æº–æ™‚å€\r\n\r\n```php\r\nCarbon::now()->local;                       // bool(true)ï¼Œæª¢æŸ¥æ™‚å€ç¬¦åˆæ‡‰ç”¨ç¨‹å¼\r\nCarbon::now('America/Vancouver')->local;    // bool(false)\r\nCarbon::now()->utc;                         // bool(false)ï¼Œæª¢æŸ¥æ¨™æº–æ™‚å€\r\n```\r\n\r\n### Setter\r\n\r\n- ç›´æ¥ä¾å–®ä½è¨­å®šæ™‚é–“\r\n\r\n```php\r\n$date = Carbon::now();\r\n$date->setYear(2005);\r\n$date->year;           // 2005\r\n```\r\n\r\n```php\r\n$sourcel = new Carbon('2010-05-16 22:40:10.1');\r\n$date-> new Carbon('2001-01-01 01:01:01.2');\r\n$date->setTimeFrom($sourcel);   // 2001-01-01 22:40:10\r\n```\r\n\r\n- `setTimeFrom()` ä¿æŒæ—¥æœŸï¼Œåªè¨­å®šæ™‚åˆ†ç§’\r\n- `setDateFrom()`\r\n- `setDateTimeFrom()`\r\n- **æ³¨æ„ï¼ä»¥ä¸Šä½œæ³•ä¸æœƒæ”¹è®Šæ™‚å€**\r\n\r\n## æ¯”è¼ƒ\r\n\r\n### å¤§æ–¼ã€å°æ–¼å’Œç­‰æ–¼\r\n\r\n```php\r\n$first = Carbon::create(2022, 11, 11, 0, 0, 0);\r\n$second = Carbon::create(2022, 11, 11, 0, 0, 0, 'America/Vancouver'); // æ™‚å€è¨­å®š\r\n\r\n$first->equalTo($second); // false\r\n$first->notEqualTo($second); // true\r\n```\r\n\r\n```php\r\n$first = Carbon::parse('2022-11-11 00:00:00');\r\n$second = Carbon::parse('2022-11-11 12:00:00');\r\n\r\n$first->greaterThan($second);           // false  å¤§æ–¼\r\n$first->greaterThanOrEqualTo($second);  // false å¤§æ–¼ç­‰æ–¼\r\n$first->gt($second);                    // å¯ä»¥ä½¿ç”¨ç¸®å¯«\r\n$first->gte($second);\r\n$first >= $second;                      // ä¹Ÿå¯ä»¥ä½¿ç”¨é‹ç®—å¼\r\n\r\n$first->lessThan($second);              // true  å°æ–¼\r\n$first->lessThanOrEqualTo($second);     // true å°æ–¼ç­‰æ–¼\r\n$first->lt($second);\r\n$first->lte($second);\r\n$first <= $second;\r\n\r\n$first>equalTo($second);                // false ç­‰æ–¼\r\n$first>notEqualTo($second);             // true ä¸ç­‰æ–¼\r\n```\r\n\r\n### ä¹‹é–“ã€æœ€å°æœ€å¤§èˆ‡æœ€è¿‘æœ€é \r\n\r\n```php\r\n$first = Carbon::parse('2022-11-11');\r\n$second = Carbon::parse('2022-11-15');\r\n$data = Carbon::parse('2022-11-15');\r\n$data->between($first, $second);        // true\r\n$data->between($first, $second, false); // åš´æ ¼æ¨¡å¼ false\r\n```\r\n\r\n```php\r\n$first = Carbon::parse('2022-11-11');\r\n$second = Carbon::parse('2022-11-15');\r\n\r\n$first->min($second);   // '2022-11-11'\r\n$first->max($second);   // '2022-11-15'\r\n\r\n$data = Carbon::parse('2022-11-14');\r\n$data->closest($first, $second);    // 2022-11-15\r\n$data->farthest($first, $second);   // 2022-11-11\r\n```\r\n\r\n- `closest` å’Œ `farthest` å‡½å¼å¯ä»¥æ‰¾å‡ºå…©å€‹æ™‚é–“ç‰©ä»¶ä¸­ï¼Œèˆ‡ç‰¹å®šæ™‚é–“ç‰©ä»¶æœ€æ¥è¿‘æˆ–æœ€é™é çš„ç‰©ä»¶\r\n\r\n### å’Œä»Šå¤©æ¯”è¼ƒ\r\n\r\n```php\r\n// å‡è¨­ä»Šå¤©æ˜¯ 2022-11-10\r\n$date = Carbon::parse('2022-11-11');\r\n\r\n$date->isSameWeek();    // true\r\n$date->isSameMonth();   // true\r\n$date->isCurrentDay();  // false\r\n```\r\n\r\n- å¦å¤–é‚„æœ‰ `isMonday()` `isTomorrow()` `isToday()`ï¼Œ`isBirthday()` å¯ä»¥åˆ¤æ–·æ˜¯å¦ç‚ºä¸åŒå¹´çš„åŒä¸€å¤©\r\n\r\n## æ™‚é–“é‹ç®—\r\n\r\n**é‡è¦è§€å¿µ**ï¼šcarbon ç‰©ä»¶åœ¨é‹ç®—éç¨‹ä¸­æœƒæ”¹è®ŠåŸå§‹ç‰©ä»¶ï¼Œå› æ­¤åœ¨é‹ç®—ä¹‹å‰è¦åŠ ä¸Š `copy()` èªæ³•ã€‚\r\n\r\n```php\r\n$date = Carbon::create(2022, 11, 11);\r\n$date->copy()->addDay();    // 2022-11-12\r\n// è¤‡æ•¸é‹ç®—ï¼Œæ™‚é–“å–®ä½è¦åŠ ä¸Š s\r\n$date->addDays(2);          // 2022-11-13\r\nprint_r($date);             // 2022-11-13\r\n\r\n$date->copy()->subDay(); // 2022-11-12\r\n```\r\n\r\n### Overflow æº¢å‡º\r\n\r\n```php\r\n$date = Carbon::create(2022, 1, 31);\r\n$date->copy()->addMonth(); // 2022-03-03\r\n```\r\n\r\n- ä¸€èˆ¬è€Œè¨€ï¼ŒåŠ ä¸Šä¸€å€‹æœˆå¾Œæ‡‰è©²è¦æ˜¯äºŒæœˆåº•(2/28 æˆ– 2/29)ï¼Œç‚ºé¿å…ä¸åˆç†çš„ç‹€æ³ç™¼ç”Ÿï¼Œé ˆåŠ ä¸Š `NoOverflow` é—œéµå­—ï¼Œè®“é‹ç®—çµæœä¸æœƒæº¢å‡º\r\n\r\n```php\r\n$date = Carbon::create(2022, 1, 31);\r\n$date->copy()->addMonthNoOverflow(); // 2022-02-28\r\n$date->copy()->subMonthNoOverflow(2); // 2022-11-30\r\n```\r\n\r\nå¦å¤–äº¦å¯ä»¥ä½¿ç”¨ `addUnitNoOverflow` é‡å°æº¢å‡ºçš„å–®ä½åšæ§ç®¡ï¼Œä¹Ÿå¯ä»¥åœ¨è¨­å®šå€¼ï¼Œè¦å®šä¸å¯ä»¥æº¢å‡º\r\n\r\n```php\r\n$date = Carbon::parse('2022-01-31');\r\n\r\n// UnitNoOverflow(é‹ç®—å–®ä½ï¼Œå€¼ï¼Œé™åˆ¶é˜²æº¢å‡ºå–®ä½)\r\n$date->copy()->addUnitNoOverflow('hour', 7, 'day') // 07:00\r\n$date->copy()->addUnitNoOverflow('hour', 48, 'day') // 23:59\r\n\r\nCarbon::parse('2022-02-01')->copy()->setUnitNoOverflow('day', 31, 'month'); // 2022-02-28\r\n```\r\n\r\n## å·®ç•°\r\n\r\n### ä¸€èˆ¬å·®ç•°\r\n\r\n- ç„¡æ¢ä»¶æ¨å»ï¼Œæ»¿ä¸€å€‹æ™‚é–“å–®ä½ï¼Œæ‰æœƒå›å‚³ 1\r\n\r\n```php\r\n$date->diffInMinths($date->copy()->addMonthNoOverflow()); // 1\r\n```\r\n\r\n- é™¤äº†æ•´æ•¸çš„å·®ç•°ï¼Œä¹Ÿå¯ä»¥æ¯”å°åˆ°å°æ•¸é»å–®ä½çš„æ™‚é–“å·®\r\n\r\n```php\r\nCarbon::parse('06:01:23')->floatDiffInminutes('06:02:34');              // 1.1833\r\nCarbon::parse('2022-01-01 12:00')->floatDiffInDays('2022-02-11 06:00')  // 40.75\r\n```\r\n\r\n- ä¸å»ºè­°ç”¨åšè¨ˆç®—æœˆä»½ï¼Œæœƒæœ‰ bug\r\n\r\n```php\r\nCarbon::parse('2022-01-31')->floatDiffInmonthss('2022-03-01');\r\n// ä¸€èˆ¬è€Œè¨€æ‡‰å›å‚³ 1.xxï¼Œä½†å¯¦éš›å›å‚³ 0.9xx å› ç‚ºè·¨åˆ°äºŒæœˆä¸è¶³ä¸‰åå¤©\r\n```\r\n\r\n### Real Difference\r\n\r\n```php\r\n$date = new Carbon('2014-03-30 00:00:00', 'Europe/London');]\r\n$date->addRealHours(25);      // 2014-03-31 02:00:00.0 Europe/London (+01:00)\r\n\r\n$date->diffInRealHours('2014-03-30 00:00:00');  // 25\r\n$date->diffInHours('2014-03-30 00:00:00');      // 26\r\n```\r\n\r\n- é‹ç®—æ™‚ï¼Œè‹¥å‡ºç¾è·¨æ—¥çš„æƒ…å½¢ï¼Œæ™‚é–“ç‰©ä»¶çš„æ™‚å€æœƒè‡ªå‹•é‡å°è©²å€¼åšå¢æ¸›ï¼Œè€Œåœ¨æ¯”è¼ƒå…©å€‹æ™‚é–“é»çš„å·®ç•°æ™‚ï¼Œè‹¥æœªç”¨ `real` å‰‡æœƒè¨ˆç®—å‡ºè¡¨é¢çš„æ™‚é–“å·®ã€‚\r\n\r\n## å£èªåŒ–ä¿®æ”¹å™¨\r\n\r\n```php\r\n$date = Carbon::parse('2022-11-11 12:00:00');\r\n$date->startOfDay();    // 2022-11-11 00:00:00\r\n$date->endOfDay();      // 2022-11-11 23:59:59\r\n\r\n$date->startOfMonth();  // 2022-11-01 00:00:00\r\n$date->endOfMonth();    // 2022-11-30 23:59:59\r\n```\r\n\r\n- äº¦æ”¯æ´ `today()`, `yesterday()`, `next()`\r\n","date":"2023-07-18T05:05:18.091Z","matchingLines":["## ç‰©ä»¶å»ºç«‹\r","## æ™‚é–“æ ¼å¼ æ™‚å€ã€æœ¬åœ°åŒ–\r","## Getter & Setter\r","## æ¯”è¼ƒ\r","## æ™‚é–“é‹ç®—\r","## å·®ç•°\r","## å£èªåŒ–ä¿®æ”¹å™¨\r"],"tocContent":"- [Carbon å­¸ç¿’ç­†è¨˜](#carbon-å­¸ç¿’ç­†è¨˜)\r\n  - [ç‰©ä»¶å»ºç«‹](#ç‰©ä»¶å»ºç«‹)\r\n    - [å»ºç«‹ç•¶ä¸‹æ™‚é–“](#å»ºç«‹ç•¶ä¸‹æ™‚é–“)\r\n    - [è§£æä¸¦ç”¢ç”Ÿæ™‚é–“ç‰©ä»¶](#è§£æä¸¦ç”¢ç”Ÿæ™‚é–“ç‰©ä»¶)\r\n    - [ä¾è¦å‰‡å»ºç«‹](#ä¾è¦å‰‡å»ºç«‹)\r\n    - [Bug èˆ‡å®‰å…¨æ¨¡å¼](#bug-èˆ‡å®‰å…¨æ¨¡å¼)\r\n  - [æ™‚é–“æ ¼å¼ æ™‚å€ã€æœ¬åœ°åŒ–](#æ™‚é–“æ ¼å¼-æ™‚å€æœ¬åœ°åŒ–)\r\n    - [æœ¬åœ°èªç³»](#æœ¬åœ°èªç³»)\r\n    - [Format](#format)\r\n  - [Getter \\& Setter](#getter--setter)\r\n    - [æ™‚é–“å±¬æ€§](#æ™‚é–“å±¬æ€§)\r\n    - [æ™‚é–“èˆ‡èªç³»](#æ™‚é–“èˆ‡èªç³»)\r\n    - [Setter](#setter)\r\n  - [æ¯”è¼ƒ](#æ¯”è¼ƒ)\r\n    - [å¤§æ–¼ã€å°æ–¼å’Œç­‰æ–¼](#å¤§æ–¼å°æ–¼å’Œç­‰æ–¼)\r\n    - [ä¹‹é–“ã€æœ€å°æœ€å¤§èˆ‡æœ€è¿‘æœ€é ](#ä¹‹é–“æœ€å°æœ€å¤§èˆ‡æœ€è¿‘æœ€é )\r\n    - [å’Œä»Šå¤©æ¯”è¼ƒ](#å’Œä»Šå¤©æ¯”è¼ƒ)\r\n  - [æ™‚é–“é‹ç®—](#æ™‚é–“é‹ç®—)\r\n    - [Overflow æº¢å‡º](#overflow-æº¢å‡º)\r\n  - [å·®ç•°](#å·®ç•°)\r\n    - [ä¸€èˆ¬å·®ç•°](#ä¸€èˆ¬å·®ç•°)\r\n    - [Real Difference](#real-difference)\r\n  - [å£èªåŒ–ä¿®æ”¹å™¨](#å£èªåŒ–ä¿®æ”¹å™¨)"},{"name":"PHP ç‰©ä»¶å°å‘.md","content":"# PHP ç‰©ä»¶å°å‘\r\n\r\n>\r\n\r\n## ç‰©ä»¶å’Œé¡åˆ¥ `Objects` and `Classes`\r\n\r\næŠŠé¡ä¼¼æˆ–æœ‰é—œè¯çš„å·¥ä½œæˆ–å±¬æ€§ï¼Œçµ„ç¹”åˆ°é¡åˆ¥`class`è£¡é¢ã€‚  \r\né€™å¯ä»¥è®“ç¨‹å¼ä¿æŒéµå®ˆ **ä¸é‡è¤‡åŸå‰‡ â€œdonâ€™t repeat yourselfâ€ (DRY)**ï¼Œæ›´å®¹æ˜“ç¶­è­·ã€‚\r\n\r\n- `class` é¡åˆ¥ï¼šå¯ä»¥æ¯”å–»ä½œä¸€å€‹å»ºç¯‰çš„è—åœ–ã€‚é¡åˆ¥æ˜¯å°‡æˆ¿å­çš„æ¨£å¼è¨­è¨ˆå‡ºä¾†ã€‚\r\n- `object` ç‰©ä»¶ï¼šä¾ç…§è—åœ–è“‹å‡ºä¾†çš„æˆ¿å­ã€‚ç‰©ä»¶æ˜¯é¡åˆ¥çš„å¯¦ä¾‹ã€‚\r\n- `data` è³‡æ–™ï¼šå°±åƒæ˜¯é‹¼ç­‹ã€æ°´æ³¥ï¼Œç”¨ä¾†è“‹æˆ¿å­çš„ææ–™ã€‚\r\n\r\n`data`(å»ºæ)ç¶“é`class`(è—åœ–)ï¼Œå°±æœƒè¢«å¯¦ä¾‹åŒ–è®Šæˆ`object`(æˆ¿å­)ã€‚\r\n\r\n## å»ºç«‹é¡åˆ¥ `Class`\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    // é¡åˆ¥çš„å±¬æ€§å’Œæ–¹æ³•åœ¨å¤§æ‹¬è™Ÿè£¡é¢å®£å‘Š\r\n}\r\n\r\n$obj = new MyClass;\r\n\r\nvar_dump($obj);\r\n```\r\n\r\n- `new` é—œéµå­—åœ¨å»ºç«‹é¡åˆ¥ä¹‹å¾Œï¼Œå¯¦ä¾‹åŒ–ä¸€å€‹é¡åˆ¥ï¼Œä¸¦å°‡å®ƒå­˜åˆ°ä¸€å€‹è®Šæ•¸ä¸Šã€‚\r\n\r\n- `var_dump()` ä¾†å°å‡ºè®Šæ•¸çš„ç›¸é—œè¨Šæ¯æ–¼è¢å¹•ä¸Šã€‚\r\n\r\næœ€çµ‚æœƒè¼¸å‡º\r\n\r\n```html\r\nobject(MyClass)#1 (0) { }\r\n```\r\n\r\næ­¤ç‚ºæœ€åŸºç¤çš„ç‰©ä»¶å½¢å¼ã€‚\r\n\r\n## å®šç¾©é¡åˆ¥çš„å±¬æ€§\r\n\r\nä½¿ç”¨å±¬æ€§(Property)ï¼Œä¹Ÿç¨± **`Class`çš„è®Šæ•¸(Variable)** ä¾†æŠŠ `Data` å­˜å…¥ä¸€å€‹ `Class` è£¡é¢ã€‚\r\n\r\n```php\r\n<?php\r\n\r\nclass MyClass\r\n{\r\n  public $prop1 = \"I'm a class property!\";\r\n}\r\n\r\n$obj = new MyClass;\r\n```\r\n\r\n- `public` æ­¤ç‚ºå±¬æ€§çš„é—œéµå­—ï¼Œç”¨ä¾†æ±ºå®šå±¬æ€§çš„å¯è¦–æ€§(Visibility)ã€‚\r\n\r\næŒ‡å®šè¦è®€å–çš„ç‰©ä»¶åŠå±¬æ€§ï¼Œä¸¦å°‡å…¶é¡¯ç¤ºåœ¨ç€è¦½å™¨ä¸Š\r\n\r\n```php\r\necho $obj->prop1; // Output the property\r\n```\r\n\r\n- `->`ï¼ˆå°è±¡é‹ç®—ç¬¦ï¼‰: åœ¨ PHP ç‰©ä»¶ä¸­ï¼Œç”¨ä¾†å­˜å–ç‰©ä»¶çš„å±¬æ€§(Property)å’Œæ–¹æ³•(Methods)ã€‚\r\n- `::`ï¼ˆé›™å†’è™Ÿï¼‰: ç”¨ä¾†è¨ªå•éœæ…‹å±¬æ€§ã€‚\r\n\r\næœ€å¾Œå°‡æœƒå¾—åˆ°\r\n\r\n```html\r\nI'm a class property!\r\n```\r\n\r\n## å®šç¾©é¡åˆ¥çš„æ–¹æ³• Methods\r\n\r\nå¯ä»¥è—‰ç”±åŸ·è¡Œé€™äº›æ–¹æ³•ï¼Œä¾†æ›´æ”¹ç‰©ä»¶çš„è¡Œç‚ºæˆ–æ˜¯ç‹€æ…‹ã€‚\r\n\r\nå»ºç«‹ä¸€å€‹æ–¹æ³•ä¾†è¨­å®šèˆ‡è®€å–å±¬æ€§ `$prop1` çš„å€¼\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function setProperty($new_value) {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty() {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\n$obj = new MyClass;\r\necho $obj->getProperty(); // å¾—åˆ°åŸå§‹çš„å±¬æ€§å€¼\r\n\r\n$obj->setProperty(\"I'm a new property value!\"); // è¨­å®šæ–°çš„å±¬æ€§å€¼\r\necho $obj->getProperty(); // å¾—åˆ°æ–°çš„å±¬æ€§å€¼\r\n```\r\n\r\n- `$this` : ç‰©ä»¶é€é `$this` é—œéµå­—ä¾†åƒè€ƒè‡ªå·±ï¼Œç‰©ä»¶ä½¿ç”¨ $this å°±å¦‚åŒä½ ç›´æ¥ä½¿ç”¨ç‰©ä»¶åç¨±ä¾†æŒ‡å®šç‰©ä»¶ã€‚\r\n- `$this` å¯«åœ¨ class å…§éƒ¨\r\n- ä½¿ç”¨é€™äº›å«æœ‰ `$this` çš„æ–¹æ³•ä¹‹å‰ï¼Œè¨˜å¾—å…ˆè¦å¯¦ä¾‹åŒ–é€™äº›æ–¹æ³•çš„ç‰©ä»¶ã€‚\r\n\r\n  ```php\r\n  $this->prop1;\r\n  myClass->prop1; // å…©è€…çš„æ„ç¾©ç›¸åŒ\r\n  ```\r\n\r\nè¼¸å‡ºçš„çµæœ\r\n\r\n```html\r\nI'm a class property! I'm a new property value!\r\n```\r\n\r\næ¥è‘—å† `new` ä¸€å€‹æ–°çš„ `class`\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function setProperty($new_value) {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty() {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\n// å°‡å…©å€‹ç‰©ä»¶å¯¦ä¾‹åŒ–\r\n$obj = new MyClass;\r\n$obj2 = new MyClass;\r\n\r\n// å–å¾—å…©å€‹ç‰©ä»¶çš„å±¬æ€§è®Šæ•¸ $prop1\r\necho $obj->getProperty();\r\necho $obj2->getProperty();\r\n\r\n// å°‡å…©å€‹ç‰©ä»¶è¨­å®šæ–°çš„å±¬æ€§å€¼\r\n$obj->setProperty(\"I'm a new property value!\");\r\n$obj2->setProperty(\"I belong to the second instance!\");\r\n\r\n// è¼¸å‡ºå…©å€‹ç‰©ä»¶çš„æ–°å±¬æ€§å€¼\r\necho $obj->getProperty();\r\necho $obj2->getProperty();\r\n```\r\n\r\nè¼¸å‡ºçµæœ\r\n\r\n```html\r\nI'm a class property! I'm a class property! I'm a new property value! I belong to the second instance!\r\n```\r\n\r\n- ç‰©ä»¶å°å‘å°‡ `object` è¦–ç‚ºç¨ç«‹çš„å€‹é«”ï¼Œä¾ç…§è—åœ–è“‹å‡ºä¾†çš„æˆ¿å­ï¼Œæ¯ä¸€é–“éƒ½æ˜¯ç¨ç«‹çš„ã€‚\r\n\r\n## å®šç¾©é¡åˆ¥çš„å¸¸æ•¸ const\r\n\r\n- å¯ä»¥æŠŠé¡åˆ¥ä¸­å§‹çµ‚ä¿æŒä¸è®Šçš„å€¼ï¼Œå®šç¾©ç‚ºå¸¸æ•¸ã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    const constant = \"value\";\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n\r\n    function showConstant() {\r\n        echo  self::constant . \"<br />\";\r\n    }\r\n}\r\n\r\n// å°‡ç‰©ä»¶å¯¦ä¾‹åŒ–\r\n$obj = new MyClass;\r\n\r\n// å–å¾—ç‰©ä»¶çš„å¸¸æ•¸\r\necho $obj->showConstant();\r\necho MyClass::constant;\r\n```\r\n\r\nè¼¸å‡ºçµæœ\r\n\r\n```html\r\nvalue value\r\n```\r\n\r\n## å°è£ Encapsulation\r\n\r\næ¯å€‹ç‰©ä»¶éƒ½åŒ…å«é€²è¡Œæ“ä½œæ™‚éœ€è¦çš„æ‰€æœ‰è³‡è¨Šï¼Œç‰©ä»¶ä¸å¿…ä¾è³´å…¶ä»–ç‰©ä»¶ä¾†å®Œæˆæ“ä½œï¼Œå°‡æ–¹æ³•ã€æ¬„ä½ã€å±¬æ€§å’Œé‚è¼¯åŒ…è£åœ¨é¡åˆ¥å…§ï¼Œé€éé¡åˆ¥çš„å¯¦é«”ä¾†å¯¦ç¾ï¼Œå¤–éƒ¨ç‰©ä»¶ç„¡æ³•äº†è§£ç‰©ä»¶çš„å…§éƒ¨ç´°ç¯€ï¼Œæœ‰ç¨®éš±è—èµ·ä¾†çš„æ¦‚å¿µï¼Œå¤–éƒ¨å°è³‡æ–™çš„æ“ä½œä¹Ÿåªèƒ½é€éå·²ç¶“å®šç¾©çš„ä»‹é¢ï¼Œç”¨ä¸€æ®µç°¡ç™½çš„è©±ä¾†èªªï¼Œå°äº‹åªäº†è§£ä»–çš„å¤–åœ¨ï¼Œç„¡éœ€ç†è§£å…§éƒ¨æ§‹é€ ï¼Œå³ç‚ºå°è£ã€‚\r\n\r\n## PHP é­”è¡“å‡½æ•¸\r\n\r\n### `__construct` å»ºæ§‹å¼\r\n\r\n- `__construct()` : ç•¶ä¸€å€‹ç‰©ä»¶å»ºç«‹çš„æ™‚å€™æœƒ **é¦–å…ˆ** è¢«å‘¼å«ã€‚\r\n- `__CLASS__` : æœƒå›å‚³è¢«å‘¼å«çš„é¡åˆ¥åç¨±ã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹ç‰©ä»¶\r\n$obj = new MyClass;\r\n\r\n// å–å¾—å±¬æ€§ $prop1 çš„å€¼\r\necho $obj->getProperty();\r\n\r\n// åœ¨ç”Ÿå‘½é€±æœŸçš„æœ€å¾ŒåŠ ä¸Š\r\necho \"End of file.<br />\";\r\n```\r\n\r\næœ€å¾Œè¼¸å‡º\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! I'm a class property! End of file.\r\n```\r\n\r\n### `__destruct` è§£æ§‹å¼\r\n\r\n- `__destruct()` : å¯ä»¥æ¸…é™¤ç‰©ä»¶ï¼Œä¾‹å¦‚ï¼šé—œé–‰è³‡æ–™åº«é€£ç·šã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n    {\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$obj = new MyClass;\r\n\r\n// å–å¾—å±¬æ€§ $prop1 çš„å€¼\r\necho $obj->getProperty();\r\n\r\n// åœ¨ç”Ÿå‘½é€±æœŸçš„æœ€å¾ŒåŠ ä¸Š\r\necho \"End of file.<br />\";\r\n```\r\n\r\næœ€å¾Œè¼¸å‡ºç•«é¢\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! I'm a class property! End of file. The class \"MyClass\" was destroyed.\r\n```\r\n\r\n- ç•¶ç‰©ä»¶ä½¿ç”¨å®Œç•¢ï¼ŒPHP æœƒè‡ªå‹•é‡‹æ”¾è¨˜æ†¶é«”ã€‚\r\n\r\n### `unset`\r\n\r\n- `unset()` : æ­¤æ–¹æ³•å¯ä»¥æ›´æ˜ç¢ºè§¸ç™¼ `__destruct()` é­”è¡“å‡½æ•¸ã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\n// å°‡ä¸€å€‹ç‰©ä»¶å¯¦ä¾‹åŒ–\r\n$obj = new MyClass;\r\n\r\n// å–å¾—è®Šæ•¸ $prop1\r\necho $obj->getProperty();\r\n\r\n// æ¸…é™¤ç‰©ä»¶\r\nunset($obj);\r\n\r\n// ç”Ÿå‘½é€±æœŸçµæŸå¾Œå›å‚³\r\necho \"End of file.<br />\";\r\n```\r\n\r\nçµæœæœƒè¼¸å‡º\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! I'm a class property! The class \"MyClass\" was destroyed. End of file.\r\n```\r\n\r\n### `__toString`\r\n\r\n- `__toString` : å°‡ç‰©ä»¶è½‰æ›ç‚ºå­—ä¸²ã€‚\r\n\r\nå¦‚æœå°‡ç‰©ä»¶ç•¶ä½œå­—ä¸²è™•ç†çš„è©±ï¼Œæœƒå‡ºç¾ç„¡æ³•å‚³æ›å‹æ…‹çš„éŒ¯èª¤ã€‚\r\n\r\n```php\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$obj = new MyClass;\r\n\r\n// å°‡ç‰©ä»¶è¼¸å‡ºç‚ºå­—ä¸²\r\necho $obj;\r\n```\r\n\r\nè¼¸å‡ºçµæœ\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! Catchable fatal error: Object of class MyClass could not be converted to string\r\n```\r\n\r\nåŠ å…¥ `__toString` å‡½æ•¸ï¼Œä¾†åšè½‰æ›è™•ç†ã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$obj = new MyClass;\r\n\r\n// å›å‚³ç‰©ä»¶ç‚ºå­—ä¸²\r\necho $obj;\r\n\r\n// æ¸…é™¤é€™å€‹ç‰©ä»¶\r\nunset($obj);\r\n\r\n// åœ¨ç”Ÿå‘½å‘¨æœŸçµæŸå¾Œè¼¸å‡º\r\necho \"End of file.<br />\";\r\n```\r\n\r\nç•¶ç‰©ä»¶è©¦åœ–è½‰æ›æˆå­—ä¸²æ™‚ï¼Œæœƒè§¸ç™¼ `__toString` å‡½æ•¸ï¼Œå†ç”± `__toString` å‡½æ•¸å‘¼å« `getProperty()` æ–¹æ³•ã€‚  \r\nè¼¸å‡ºçµæœç‚º\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! Using the toString method: I'm a class property! The class \"MyClass\" was destroyed. End of file.\r\n```\r\n\r\n### `__get` `__set` å¼·åˆ¶å°è£\r\n\r\n- `__get()` åªæœƒå›å‚³å±¬æ€§è®Šæ•¸çš„å€¼\r\n- `__set()` æŒ‡æ´¾ä¸€å€‹æ–°çš„å€¼çµ¦å±¬æ€§è®Šæ•¸\r\n\r\n```php\r\nclass className\r\n{\r\n    private $attribute\r\n\r\n    function __get($name)\r\n    {\r\n        return $this->$name;\r\n    }\r\n\r\n    function __set($name, $value)\r\n    {\r\n        $this->$name = $value;\r\n    }\r\n\r\n}\r\n\r\n$a = new className();\r\n//ä½¿ç”¨publicæ™‚ï¼Œä¸æœƒç”¨åˆ°__get(), __set()å±¬æ€§\r\n\r\n$a->attribute = 5;\r\n//ç§ä¸‹å‘¼å«__set()ï¼Œä½¿ç”¨$nameè¨­ç‚ºattributeï¼Œ$valueè¨­ç‚º5\r\n\r\n$a->attribute\r\n//ç§ä¸‹å‘¼å«__get()ï¼Œä¸¦å°‡åƒæ•¸$nameè¨­ç‚ºattribute\r\n```\r\n\r\n- å„ªé»ï¼šè—‰ç”±å–®ä¸€çš„å­˜å–è™•ï¼Œå¯ä»¥è‡ªç”±åœ°ä¿®æ”¹åº•å±¤çš„å¯¦ä½œ\r\n\r\n## é¡åˆ¥ç¹¼æ‰¿\r\n\r\n- `extend` : æ­¤é—œéµå­—å¯ä»¥è®“é¡åˆ¥ç¹¼æ‰¿å…¶ä»–é¡åˆ¥çš„**æ–¹æ³•**å’Œ**å±¬æ€§**ã€‚\r\n- å­é¡åˆ¥åªèƒ½ç¹¼æ‰¿ä¸€å€‹çˆ¶é¡åˆ¥ã€‚\r\n\r\nå»ºç«‹ä¸€å€‹æ–°çš„ `class` ä¸¦ç¹¼æ‰¿ MyClass\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$new_object = new MyOtherClass;\r\n\r\n// å›å‚³æ­¤é¡åˆ¥çš„æ–¹æ³•\r\necho $new_object->newMethod();\r\n\r\n// å›å‚³çˆ¶å±¤é¡åˆ¥çš„æ–¹æ³•\r\necho $new_object->getProperty();\r\n```\r\n\r\nçµæœè¼¸å‡º\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! From a new method in MyOtherClass. I'm a class property! The class \"MyClass\" was destroyed.\r\n```\r\n\r\n### è¦†å¯« Override ç¹¼æ‰¿çš„æ–¹æ³•å’Œå±¬æ€§\r\n\r\nåœ¨æ–°çš„é¡åˆ¥ä¸­ï¼Œé‡æ–°å®šç¾©ç¹¼æ‰¿è‡ªçˆ¶å±¤çš„å±¬æ€§å’Œæ–¹æ³•\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function __construct()\r\n    {\r\n        echo \"A new constructor in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$new_object = new MyOtherClass;\r\n\r\n// å›å‚³æ–°é¡åˆ¥çš„æ–¹æ³•\r\necho $new_object->newMethod();\r\n\r\n// å›å‚³çˆ¶å±¤é¡åˆ¥çš„æ–¹æ³•\r\necho $new_object->getProperty();\r\n```\r\n\r\nåœ¨æ–°é¡åˆ¥ä¸­ï¼Œè¦†å¯« `__construct` æ–¹æ³•çš„è¼¸å‡ºçµæœ\r\n\r\n```html\r\nA new constructor in MyOtherClass. From a new method in MyOtherClass. I'm a class property! The class \"MyClass\" was destroyed.\r\n```\r\n\r\n### `final` é¿å…è¢«è¦†å¯«\r\n\r\n- æ–¹æ³•å‰åŠ å…¥ `final` é¿å…è¢«è¦†å¯«\r\n\r\n```php\r\nclass A\r\n{\r\n    public $attribute = 'default value';\r\n\r\n    final function operation()\r\n    {\r\n        echo 'Something<br />';\r\n        echo 'The value of $attribute is'.$this->attribute.'<br />';\r\n    }\r\n}\r\n //å¯é˜²æ­¢Bè¦†å¯«operation()\r\n ------------------------------------------------------------\r\n //å¦‚ä½•å®Œå…¨é˜²æ­¢ä¸€å€‹é¡åˆ¥è¢«ç¹¼æ‰¿ï¼Ÿ(å®Œå…¨ä¸èƒ½è¢«ç¹¼æ‰¿)\r\nfinal class A\r\n{\r\n\r\n}\r\n```\r\n\r\n### ç¯„åœè§£æé‹ç®—å­ scope resolution operator\r\n\r\nç•¶è¦å°‡ç¹¼æ‰¿è‡ªçˆ¶å±¤é¡åˆ¥çš„æ–¹æ³•å…¶åŠŸèƒ½åšæ“´å……ï¼Œè¦ä¿ç•™åŸå§‹çš„åŠŸèƒ½ï¼Œä½†ä¸ç”¨å°‡åŸæœ‰çš„ç¨‹å¼ç¢¼é‡å¯«ä¸€éã€‚\r\n\r\n- ç¯„åœè§£æé‹ç®—å­ä¾ç„¶æœƒå—åˆ°å¯è¦–æ€§çš„é™åˆ¶ã€‚\r\n\r\næ–°å¢ä¸€å€‹æ”¹å¯«çˆ¶å±¤é¡åˆ¥çš„å‡½æ•¸ï¼Œä¸¦ä½¿ç”¨ `ç¯„åœè§£æé‹ç®—å­::`ï¼Œä¾†èª¿ç”¨çˆ¶é¡åˆ¥è¢«è¦†å¯«çš„å‡½æ•¸\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    public function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct(); // èª¿ç”¨ä¾†è‡ªçˆ¶å±¤çš„ construct åŠŸèƒ½\r\n        echo \"A new constructor in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°ç‰©ä»¶\r\n$new_object = new MyOtherClass;\r\n\r\n// å°‡ç‰©ä»¶è¼¸å‡ºæˆå­—ä¸²\r\necho $new_object->newMethod();\r\n\r\n// ä½¿ç”¨ä¾†è‡ªçˆ¶å±¤çš„æ–¹æ³•\r\necho $new_object->getProperty();\r\n```\r\n\r\nçµæœè¼¸å‡º\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! A new constructor in MyOtherClass. From a new method in MyOtherClass. I'm a class property! The class\r\n\"MyClass\" was destroyed.\r\n```\r\n\r\n## å°‡å±¬æ€§å’Œæ–¹æ³•åŠ ä¸Šå¯è¦–æ€§ Visibility\r\n\r\n- `static` : ä¸ç”¨å°‡é¡åˆ¥å¯¦ä¾‹åŒ–ï¼Œå³å¯èª¿ç”¨ã€‚\r\n- `public` : æ–¹æ³•åŠå±¬æ€§å¯ä»¥åœ¨é¡åˆ¥ä¹‹å¤–è¢«å­˜å–ã€‚\r\n- `protected` : è©²å±¬æ€§æˆ–æ–¹æ³•åªèƒ½åœ¨é¡åˆ¥ä»¥åŠå­é¡åˆ¥çš„å…§éƒ¨å­˜å–ã€‚\r\n- `private` : è©²å±¬æ€§æˆ–æ–¹æ³•åªèƒ½åœ¨å®šç¾©å®ƒå€‘çš„é¡åˆ¥å…§å­˜å–ã€‚\r\n\r\n### `Protected` å—ä¿è­·çš„\r\n\r\nå°‡ MyClass çš„ `getProperty()` æ–¹æ³•çš„å¯è¦–æ€§å®£å‘Šç‚º `protected`ï¼Œä¸¦ä¸”å˜—è©¦å¾å¤–é¢å‘¼å«é€™å€‹æ–¹æ³•\r\n\r\n```php\r\n<?php\r\n\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    protected function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct();\r\n        echo \"A new constructor in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°ç‰©ä»¶\r\n$new_object = new MyOtherClass;\r\n\r\n// å˜—è©¦èª¿ç”¨çˆ¶å±¤çš„ protected æ–¹æ³•\r\necho $new_object->getProperty();\r\n```\r\n\r\nçµæœè¼¸å‡º\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! A new constructor in MyOtherClass. Fatal error: Call to protected method MyClass::getProperty() from\r\ncontext ''\r\n```\r\n\r\nåœ¨å­é¡åˆ¥ MyOtherClass ä¸­æ–°å¢ä¸€å€‹æ–¹æ³•ä¾†èª¿ç”¨çˆ¶å±¤çš„ `protected` `getProperty()` æ–¹æ³•\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    protected function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct();\r\n        echo \"A new constructor in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function callProtected()\r\n    {\r\n        return $this->getProperty();\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$new_object = new MyOtherClass;\r\n\r\n// ç”¨å­é¡åˆ¥çš„ public æ–¹æ³•èª¿ç”¨çˆ¶å±¤çš„ protected æ–¹æ³•\r\necho $new_object->callProtected();\r\n```\r\n\r\nè¼¸å‡ºçµæœ\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! A new constructor in MyOtherClass. I'm a class property! The class \"MyClass\" was destroyed.\r\n```\r\n\r\n### `Private` éš±ç§çš„\r\n\r\nå°‡çˆ¶å±¤ MyClass çš„ `getProperty()` æ–¹æ³•çš„å®£å‘Šç‚º `private`ï¼Œä¸¦ä¸”ä½¿ç”¨ MyOtherClass çš„ `callProtected()` æ–¹æ³•ä¾†èª¿ç”¨ `getProperty()` æ–¹æ³•ã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    private function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct();\r\n        echo \"A new constructor in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function callProtected()\r\n    {\r\n        return $this->getProperty();\r\n    }\r\n}\r\n\r\n// å¯¦ä¾‹åŒ–ä¸€å€‹æ–°çš„ç‰©ä»¶\r\n$new_object = new MyOtherClass;\r\n\r\n// èª¿ç”¨çˆ¶å±¤çš„æ–¹æ³•\r\necho $new_object->callProtected();\r\n```\r\n\r\nè¼¸å‡ºçµæœ\r\n\r\n```html\r\nThe class \"MyClass\" was initiated! A new constructor in MyOtherClass. Fatal error: Call to private method MyClass::getProperty() from\r\ncontext 'MyOtherClass'\r\n```\r\n\r\n### `Static` éœæ…‹çš„\r\n\r\nåœ¨ MyClass åŠ å…¥ä¸€å€‹ `static` è®Šæ•¸èˆ‡æ–¹æ³•ï¼š `$count`ã€`plusOne()`ã€‚  \r\nåœ¨é¡åˆ¥çš„å¤–é¢ä½¿ç”¨ `doâ€¦while` è¿´åœˆå¢åŠ  `$count` çš„å€¼ã€‚\r\n\r\n```php\r\n<?php\r\nclass MyClass\r\n{\r\n    public $prop1 = \"I'm a class property!\";\r\n\r\n    public static $count = 0;\r\n\r\n    public function __construct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was initiated!<br />';\r\n    }\r\n\r\n    public function __destruct()\r\n    {\r\n        echo 'The class \"', __CLASS__, '\" was destroyed.<br />';\r\n    }\r\n\r\n    public function __toString()\r\n    {\r\n        echo \"Using the toString method: \";\r\n        return $this->getProperty();\r\n    }\r\n\r\n    public function setProperty($new_value)\r\n    {\r\n        $this->prop1 = $new_value;\r\n    }\r\n\r\n    private function getProperty()\r\n    {\r\n        return $this->prop1 . \"<br />\";\r\n    }\r\n\r\n    public static function plusOne()\r\n    {\r\n        return \"The count is \" . ++self::$count . \".<br />\";\r\n    }\r\n}\r\n\r\nclass MyOtherClass extends MyClass\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct();\r\n        echo \"A new constructor in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function newMethod()\r\n    {\r\n        echo \"From a new method in \" . __CLASS__ . \".<br />\";\r\n    }\r\n\r\n    public function callProtected()\r\n    {\r\n        return $this->getProperty();\r\n    }\r\n}\r\n\r\n// åœ¨æ²’æœ‰å¯¦ä¾‹åŒ– MyClass ä¹‹ä¸‹ï¼Œç¯„åœè§£æé‹ç®—å­èª¿ç”¨ plusOne æ–¹æ³•\r\ndo {\r\n    echo MyClass::plusOne();\r\n} while (\r\n    MyClass::$count < 10\r\n);\r\n```\r\n\r\n- ç•¶ä½¿ç”¨ç¯„åœè§£æé‹ç®—å­å­˜å– `static` å±¬æ€§æ™‚ï¼Œå±¬æ€§åç¨±å‰é¢åŠ ä¸ŠéŒ¢å­—è™Ÿ `$`\r\n\r\nè¼¸å‡ºçµæœ\r\n\r\n```html\r\nThe count is 1. The count is 2. The count is 3. The count is 4. The count is 5. The count is 6. The count is 7. The count is 8. The count is\r\n9. The count is 10.\r\n```\r\n\r\n## ä»‹é¢èˆ‡æŠ½è±¡é¡åˆ¥çš„æ‡‰ç”¨\r\n\r\n### interface ä»‹é¢\r\n\r\n- `implements`é—œéµå­— : åŸ·è¡Œä»‹é¢\r\n- å®šç¾©åŠŸèƒ½åç¨±ï¼Œä½†äº¤ç”±åŸ·è¡Œçš„é¡åˆ¥å»**å¯¦ä½œ**åŠŸèƒ½\r\n- åŸ·è¡Œä»‹é¢çš„é¡åˆ¥ä¸€å®šè¦å¯¦ä½œä»‹é¢çš„æ–¹æ³•ã€‚\r\n- ä»‹é¢å¯ä»¥ç¹¼æ‰¿å…¶ä»–çš„ä»‹é¢ã€‚\r\n- é¡åˆ¥å¯ä»¥åŒæ™‚åŸ·è¡Œå¤šå€‹ä»‹é¢ã€‚\r\n\r\nBark.php\r\n\r\n```php\r\n<?php\r\n  interface Bark\r\n  {\r\n    public function bark();\r\n  }\r\n```\r\n\r\nSwim.php\r\n\r\n```php\r\n<?php\r\n  interface Swim\r\n  {\r\n    public function swim();\r\n  }\r\n```\r\n\r\nHuman.php\r\n\r\n```php\r\n<?php\r\n  include \"Bark.php\";\r\n  include \"Swim.php\";\r\n\r\n  class Human implements Bark, Swim\r\n  {\r\n    public function bark()\r\n    {\r\n      echo \"äººé¡å«è²...æ˜¯åœ¨å«ä»€éº¼å•¦ï¼ï¼\";\r\n    }\r\n\r\n    public function swim()\r\n    {\r\n      echo \"äººé¡åœ¨æ¸¸æ³³...ä¸æ˜¯åœ¨æ´—æ¾¡å—ï¼Ÿ\";\r\n    }\r\n  }\r\n```\r\n\r\ndemo.php\r\n\r\n```php\r\n<?php\r\n  include \"Human.php\";\r\n  $man = new Human();\r\n  echo $man->bark();\r\n  echo $man->swim();\r\n```\r\n\r\nä»‹é¢çš„ä½¿ç”¨æ™‚æ©Ÿ : ç•¶ã€Œå¤šå€‹é¡åˆ¥ï¼ˆClassï¼‰ã€ä¹‹é–“æœ‰å…±åŒçš„æ–¹æ³•ï¼ˆfunctionï¼‰ï¼Œä½†æ–¹æ³•å¯¦åšçš„æ–¹å¼æœ‰å·®ç•°ï¼Œå¯ä»¥å°‡é€™äº›å…±ç”¨ã€Œæ–¹æ³•ã€å¯«æˆã€Œä»‹é¢ï¼ˆInterfaceï¼‰ã€ï¼Œè®“å…¶ä»–çš„ã€Œå­é¡åˆ¥ï¼ˆClassï¼‰ã€å»å¯¦åšé€™å€‹ä»‹é¢\r\n\r\n### Abstract æŠ½è±¡é¡åˆ¥\r\n\r\n- çˆ¶é¡åˆ¥è‹¥ä¸æƒ³å¯¦ä½œä»‹é¢æ–¹æ³•ï¼Œå­é¡åˆ¥åˆéœ€è¦å®šç¾©ä»‹é¢åŠŸèƒ½ï¼Œå¯ä»¥å°‡çˆ¶é¡åˆ¥æŠ½è±¡åŒ–ï¼Œå³å¯ä¸ç”¨å¯¦ä½œä»‹é¢æ–¹æ³•ã€‚\r\n- å­é¡åˆ¥ç¹¼æ‰¿æŠ½è±¡çˆ¶é¡åˆ¥ä¹‹å¾Œï¼Œå¿…é ˆè¦å¯¦ä½œçˆ¶é¡åˆ¥çš„ä»‹é¢æ–¹æ³•ã€‚\r\n\r\ndog.php\r\n\r\n```php\r\n<?php\r\ninclude \"Bark.php\";\r\nabstract class dog implements Bark\r\n{\r\n   // è¨­å®šç‹—çš„å±¬æ€§\r\n   public $name;\r\n   public $color;\r\n   public $style;\r\n\r\n   //è¨­å®šå»ºæ§‹å­\r\n   public function __construct($name,$color,$style)\r\n   {\r\n     $this->name = $name;\r\n     $this->color = $color;\r\n     $this->style = $style;\r\n   }\r\n\r\n   public function dogRun()\r\n   {\r\n     echo \"ç‹—ç‹—è·‘æ­¥ä¸­...\";\r\n   }\r\n\r\n   // ä¿®æ”¹ç‹—å«çš„åŠŸèƒ½\r\n   public function Bark()\r\n   {\r\n     //é€™è£¡ä¿æŒç©ºç™½\r\n   }\r\n\r\n   public function __destruct()\r\n   {\r\n     echo \"ç‹—ç‹—å›å®¶äº†...\";\r\n   }\r\n}\r\n```\r\n\r\nPoodle.php\r\n\r\n```php\r\ninclude \"dog.php\";\r\n\r\nclass Poodle extends dog\r\n{\r\n  protected $size;\r\n\r\n  public function __construct($name,$color,$style,$size)\r\n  {\r\n    parent::__construct($name,$color,$style);\r\n    $this->size = $size;\r\n  }\r\n\r\n  // å¯¦ä½œçˆ¶é¡åˆ¥çš„ç‹—å« function\r\n  public function Bark()\r\n  {\r\n    echo \"ç‹—å«...ä½†å°è²....\";\r\n    //å‘¼å«çˆ¶é¡åˆ¥çš„ dogBark()\r\n  }\r\n}\r\n```\r\n\r\ndemo2.php\r\n\r\n```php\r\n<?php\r\n  include \"Poodle.php\";\r\n\r\n  $my_dog = new Poodle(\"Windy\",\"ç™½è‰²\",\"è²´è³“ç‹—\",30);\r\n\r\n  echo $my_dog->Bark();\r\n```\r\n\r\næŠ½è±¡é¡åˆ¥çš„ä½¿ç”¨æ™‚æ©Ÿ : ç•¶ã€Œå¤šå€‹é¡åˆ¥ï¼ˆClassï¼‰ã€ä¹‹é–“æœ‰å…±åŒçš„æ–¹æ³•ï¼ˆfunctionï¼‰æˆ–å±¬æ€§ï¼ˆattributeï¼‰æ™‚ï¼Œå¯ä»¥å°‡é€™äº›å…±ç”¨çš„åœ°æ–¹å¯«æˆã€ŒæŠ½è±¡é¡åˆ¥ï¼ˆAbstract Classï¼‰ã€ï¼Œè®“å…¶ä»–çš„ã€Œå­é¡åˆ¥ï¼ˆClassï¼‰ã€å»ç¹¼æ‰¿\r\n\r\n## `trait` çš„æ‡‰ç”¨\r\n\r\nç°¡åŒ– Class åŠŸèƒ½è¤‡ç”¨\r\n\r\n```php\r\nclass Man\r\n{\r\n    public function walk() { // ... }\r\n    public function run() { // ... }\r\n}\r\n\r\nclass Woman\r\n{\r\n    public function walk() { // ... }\r\n    public function run() { // ... }\r\n}\r\n```\r\n\r\nç•¶å…©å€‹ `class` éƒ½æœ‰é¡ä¼¼çš„å…§å®¹(property æˆ– method)ï¼Œç”¨ `trait` ç°¡åŒ–\r\n\r\n```php\r\ntrait Moveable\r\n{\r\n    public function walk() { // ... }\r\n    public function run() { // ... }\r\n}\r\n\r\nclass Man\r\n{\r\n    use Moveable;\r\n}\r\n\r\nclass Woman\r\n{\r\n    use Moveable;\r\n}\r\n```\r\n\r\n`trait`çš„å±¬æ€§ç„¡æ³•è¢«ä½¿ç”¨å…¶çš„é¡åˆ¥è¦†å¯«\r\n\r\n```php\r\ntrait CountAge\r\n{\r\n    protected $age;\r\n\r\n    public function getAge(): int { return $this->age; }\r\n    public function setAge(int $age): void { $this->age = $age; }\r\n}\r\n\r\nclass Child\r\n{\r\n    use CountAge;\r\n\r\n    protected $age = 10;\r\n}\r\n```\r\n\r\nå› ç‚º CountAge èˆ‡ Child ä¸­éƒ½å­˜åœ¨ `$age` é€™å€‹å±¬æ€§ï¼Œæ­¤æ™‚ä¾¿æœƒç”¢ç”Ÿ\r\n\r\n```html\r\nPHP Fatal error: Child and CountAge define the same property ($age) in the composition of Child. However, the definition differs and is\r\nconsidered incompatible.\r\n```\r\n\r\nåœ¨ä½¿ç”¨é€™å€‹ `trait` çš„ `class` éƒ½å¯ä»¥ä½¿ç”¨å…¶æ‰€å®šç¾©çš„æ–¹æ³•ã€‚`trait` ä¸­å®šç¾©çš„æ–¹æ³•ç‚ºå…±æœ‰çš„ã€‚\r\n\r\n```php\r\ntrait CheckAdult\r\n{\r\n    private function getAge(): int\r\n    {\r\n        return $this->age;\r\n    }\r\n\r\n    public function isAdult(): bool\r\n    {\r\n        return $this->getAge() >= 18;\r\n    }\r\n}\r\n\r\nclass Human\r\n{\r\n    use CheckAdult;\r\n\r\n    protected $age = 18;\r\n\r\n    public function canAccessPornHub(): bool\r\n    {\r\n        return $this->isAdult();\r\n    }\r\n\r\n    public function canAccessGayTube(): bool\r\n    {\r\n         public $this->getAge() >= 18;\r\n    }\r\n}\r\n```\r\n\r\n- åªè¦ `use` CheckAdultï¼Œå°±å¯ä»¥ä½¿ç”¨ `isAdult()` èˆ‡ `getAge()`ã€‚\r\n\r\n`trait` ä¹‹é–“ä¸å¯ä»¥å…·æœ‰ç›¸åŒåç¨±çš„æ–¹æ³•ï¼Œå¦å‰‡æœƒä¸Ÿå‡º Fatal Errorã€‚\r\n\r\n```php\r\ntrait USD\r\n{\r\n    public function getBalance() {  }\r\n}\r\n\r\ntrait TWD\r\n{\r\n    public function getBalance() {  }\r\n}\r\n\r\nclass Wallet\r\n{\r\n    use USD;\r\n    use TWD;\r\n}\r\n```\r\n\r\nè‹¥å°‡å‡½å¼è¨­ç‚º private ä¹ŸåŒæ¨£æœƒå‡ºç¾è¡çªã€‚\r\n\r\n```php\r\ntrait USD\r\n{\r\n    private function convert(string $to) { // ... }\r\n    public function getUSDBalance(): int { return $this->convert('USD'); }\r\n}\r\n\r\ntrait TWD\r\n{\r\n    private function convert(string $to) { // ... }\r\n    public function getTWDBalance(): int { return $this->convert('TWD'); }\r\n}\r\n\r\nclass Wallet\r\n{\r\n    use USD;\r\n    use TWD;\r\n}\r\n```\r\n\r\n## åƒè€ƒè³‡æ–™\r\n\r\n[å¾Œç«¯ PHP+Laravel--æ–°æ‰‹å¯¦æˆ°æ—¥è¨˜](https://ithelp.ithome.com.tw/articles/10216317)\r\n","date":"2023-07-18T04:00:00.546Z","matchingLines":["## ç‰©ä»¶å’Œé¡åˆ¥ `Objects` and `Classes`\r","## å»ºç«‹é¡åˆ¥ `Class`\r","## å®šç¾©é¡åˆ¥çš„å±¬æ€§\r","## å®šç¾©é¡åˆ¥çš„æ–¹æ³• Methods\r","## å®šç¾©é¡åˆ¥çš„å¸¸æ•¸ const\r","## å°è£ Encapsulation\r","## PHP é­”è¡“å‡½æ•¸\r","## é¡åˆ¥ç¹¼æ‰¿\r","## å°‡å±¬æ€§å’Œæ–¹æ³•åŠ ä¸Šå¯è¦–æ€§ Visibility\r","## ä»‹é¢èˆ‡æŠ½è±¡é¡åˆ¥çš„æ‡‰ç”¨\r","## `trait` çš„æ‡‰ç”¨\r","## åƒè€ƒè³‡æ–™\r"],"tocContent":"- [PHP ç‰©ä»¶å°å‘](#php-ç‰©ä»¶å°å‘)\r\n  - [ç‰©ä»¶å’Œé¡åˆ¥ `Objects` and `Classes`](#ç‰©ä»¶å’Œé¡åˆ¥-objects-and-classes)\r\n  - [å»ºç«‹é¡åˆ¥ `Class`](#å»ºç«‹é¡åˆ¥-class)\r\n  - [å®šç¾©é¡åˆ¥çš„å±¬æ€§](#å®šç¾©é¡åˆ¥çš„å±¬æ€§)\r\n  - [å®šç¾©é¡åˆ¥çš„æ–¹æ³• Methods](#å®šç¾©é¡åˆ¥çš„æ–¹æ³•-methods)\r\n  - [å®šç¾©é¡åˆ¥çš„å¸¸æ•¸ const](#å®šç¾©é¡åˆ¥çš„å¸¸æ•¸-const)\r\n  - [å°è£ Encapsulation](#å°è£-encapsulation)\r\n  - [PHP é­”è¡“å‡½æ•¸](#php-é­”è¡“å‡½æ•¸)\r\n    - [`__construct` å»ºæ§‹å¼](#__construct-å»ºæ§‹å¼)\r\n    - [`__destruct` è§£æ§‹å¼](#__destruct-è§£æ§‹å¼)\r\n    - [`unset`](#unset)\r\n    - [`__toString`](#__tostring)\r\n    - [`__get` `__set` å¼·åˆ¶å°è£](#__get-__set-å¼·åˆ¶å°è£)\r\n  - [é¡åˆ¥ç¹¼æ‰¿](#é¡åˆ¥ç¹¼æ‰¿)\r\n    - [è¦†å¯« Override ç¹¼æ‰¿çš„æ–¹æ³•å’Œå±¬æ€§](#è¦†å¯«-override-ç¹¼æ‰¿çš„æ–¹æ³•å’Œå±¬æ€§)\r\n    - [`final` é¿å…è¢«è¦†å¯«](#final-é¿å…è¢«è¦†å¯«)\r\n    - [ç¯„åœè§£æé‹ç®—å­ scope resolution operator](#ç¯„åœè§£æé‹ç®—å­-scope-resolution-operator)\r\n  - [å°‡å±¬æ€§å’Œæ–¹æ³•åŠ ä¸Šå¯è¦–æ€§ Visibility](#å°‡å±¬æ€§å’Œæ–¹æ³•åŠ ä¸Šå¯è¦–æ€§-visibility)\r\n    - [`Protected` å—ä¿è­·çš„](#protected-å—ä¿è­·çš„)\r\n    - [`Private` éš±ç§çš„](#private-éš±ç§çš„)\r\n    - [`Static` éœæ…‹çš„](#static-éœæ…‹çš„)\r\n  - [ä»‹é¢èˆ‡æŠ½è±¡é¡åˆ¥çš„æ‡‰ç”¨](#ä»‹é¢èˆ‡æŠ½è±¡é¡åˆ¥çš„æ‡‰ç”¨)\r\n    - [interface ä»‹é¢](#interface-ä»‹é¢)\r\n    - [Abstract æŠ½è±¡é¡åˆ¥](#abstract-æŠ½è±¡é¡åˆ¥)\r\n  - [`trait` çš„æ‡‰ç”¨](#trait-çš„æ‡‰ç”¨)\r\n  - [åƒè€ƒè³‡æ–™](#åƒè€ƒè³‡æ–™)"},{"name":"Visual Studio Codeç’°å¢ƒè¨­ç½®.md","content":"# Visual Studio Code ç’°å¢ƒè¨­ç½®\r\n\r\n>\r\n\r\n## æ“´å……å¥—ä»¶\r\n\r\n### ä¸­æ–‡åŒ–\r\n\r\n- Chinese (Traditional) Language Pack for Visual Studio Code\r\n\r\n### ç¾åŒ– code\r\n\r\n- Bracket Pair Colorizer\r\n- Auto Rename Tag\r\n- Prettier - Code formatter\r\n\r\n### html, css\r\n\r\n- Live serverï¼šå®ƒæœƒå¹«ä½¿ç”¨è€…è‡ªå‹•é–‹å•Ÿä¸€å€‹æœå‹™å™¨ï¼Œä¿å­˜çš„æ™‚å€™ä¾¿è‡ªå‹•åˆ·æ–°ç€è¦½å™¨é é¢\r\n  è¨­å®šé è¨­é–‹å•Ÿçš„ç€è¦½å™¨ï¼šé½’è¼ªç¬¦è™Ÿ > é€²è¡Œå»¶ä¼¸æ¨¡çµ„è¨­å®š > Live Server Settings: Custom Browser\r\n- open in browser\r\n- IntelliSense for CSS class names in HTML\r\n\r\n### VUE\r\n\r\n- [åƒè€ƒè³‡æ–™](https://ithelp.ithome.com.tw/articles/10237074)\r\n\r\n### PHP Laravel\r\n\r\n- PHP IntelliSense (felixfbecker.php-intellisense)\r\n- PHP Server (brapifra.phpserver)\r\n- php cs fixer\r\n- PHP DocBlocker\r\n- PHP Getters & Setters\r\n- PHP import checker\r\n- PHP Namespace Reaolver\r\n- phpcs fixer\r\n- PHP Extension Pack\r\n- Laravel Blade Snippets (onecentlin.laravel-blade)\r\n- Laravel Blade formatter\r\n- Laravel Blade Wrapper\r\n- Laravel Create View\r\n- laravel Extension Pack\r\n- Laravel Extra Intellisese\r\n- Laravel Goto Controller\r\n- Laravel goto view\r\n- laravel-goto-components\r\n\r\n### Markdown\r\n\r\n- markdownlint\r\n- Markdown All in One\r\n- Markdown Preview Github Styling\r\n- Markdown TOC  \r\n  markdown è‡ªå‹•ç”Ÿæˆç›®éŒ„ï¼Œä½œè€…ï¼šCharlesWan\r\n\r\n### Git\r\n\r\n- GitLens â€” Git supercharged\r\n- Git Graph\r\n- GitHub Theme\r\n- gitignore\r\n- Git Extension Pack\r\n- GitHub Repositories\r\n- Open in GitHub, Bitbucket, Gitlab, VisualStudio\r\n- Remote Repositories\r\n\r\n### å°å·¥å…·\r\n\r\n- Draw.io Integration(ç¹ªè£½è¡¨æ ¼ã€æµç¨‹åœ–)\r\n\r\n## èª¿æ•´è¨­å®š\r\n\r\n- æª”æ¡ˆ â†’ å–œå¥½è¨­å®š â†’ è¨­å®š â†’ æ–‡å­—ç·¨è¼¯å™¨ â†’ å­—å‹ â†’ Font Size\r\n- æª”æ¡ˆ â†’ å–œå¥½è¨­å®š â†’ è¨­å®š â†’ å·¥ä½œå° â†’ å¤–è§€ â†’ Tree:Indent\r\n- æª”æ¡ˆ â†’ å–œå¥½è¨­å®š â†’ è¨­å®š â†’ å»¶ä¼¸æ¨¡çµ„\r\n\r\n## å¿«é€Ÿéµ\r\n\r\n- é–‹å•Ÿçµ‚ç«¯æ©Ÿ Command + `\r\n- è¨»è§£è¡Œ `Command + /`\r\n- é¸å–ä¸€æ®µå­—è© `Command + D`\r\n- é–‹å•Ÿæœå°‹ `Command + F`\r\n- å„²å­˜ `Command + S`\r\n- å›ä¸Šä¸€æ­¥ `Command + Z`\r\n- ç§»å‹•ç•¶å‰è¡Œå‘ä¸Šå‘ä¸‹ `option + â†‘ / â†“`\r\n- è¤‡è£½ç•¶å‰è¡Œå‘ä¸Šå‘ä¸‹ `shift + option + â†‘ / â†“`\r\n- è§¸ç™¼å»ºè­° `control + space`\r\n- åƒæ•¸å»ºè­° `shift + option + space`\r\n- æ ¼å¼åŒ– `shift + option + space`\r\n","date":"2023-07-18T02:47:23.764Z","matchingLines":["## æ“´å……å¥—ä»¶\r","## èª¿æ•´è¨­å®š\r","## å¿«é€Ÿéµ\r"],"tocContent":"- [Visual Studio Code ç’°å¢ƒè¨­ç½®](#visual-studio-code-ç’°å¢ƒè¨­ç½®)\r\n  - [æ“´å……å¥—ä»¶](#æ“´å……å¥—ä»¶)\r\n    - [ä¸­æ–‡åŒ–](#ä¸­æ–‡åŒ–)\r\n    - [ç¾åŒ– code](#ç¾åŒ–-code)\r\n    - [html, css](#html-css)\r\n    - [VUE](#vue)\r\n    - [PHP Laravel](#php-laravel)\r\n    - [Markdown](#markdown)\r\n    - [Git](#git)\r\n    - [å°å·¥å…·](#å°å·¥å…·)\r\n  - [èª¿æ•´è¨­å®š](#èª¿æ•´è¨­å®š)\r\n  - [å¿«é€Ÿéµ](#å¿«é€Ÿéµ)"},{"name":"Redis å­¸ç¿’ç­†è¨˜.md","content":"# Redis å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n## redis-cil\r\n\r\n```bash\r\n# redis-cli -h <host> -p <port>\r\nredis-cli -h 127.0.0.1 -p 6379\r\n```\r\n\r\n## è³‡æ–™é¡å‹\r\n\r\n- redis æ”¯æ´äº”ç¨®è³‡æ–™é¡å‹ï¼š\r\n  - string å­—ä¸²\r\n  - hash é›œæ¹Š\r\n  - list åˆ—è¡¨\r\n  - set é›†åˆ\r\n  - zset æœ‰åºé›†åˆ\r\n\r\n### string\r\n\r\nä¸€å€‹ key å°æ‡‰ä¸€å€‹ valueã€‚\r\n\r\nå­—ä¸²é¡å‹ç‚ºäºŒé€²åˆ¶ï¼Œå› æ­¤ string å¯åŒ…å«ä»»ä½•è³‡æ–™ï¼Œå¦‚ jpg åœ–ç‰‡ï¼Œæˆ–æ˜¯ä¸€å€‹åºåˆ—åŒ–çš„ç‰©ä»¶ã€‚\r\n\r\nstring æœ€å¤§å¯ä»¥å„²å­˜ 512MB\r\n\r\n```redis\r\n# SET key value [EX seconds|PX milliseconds|KEEPTTL] [NX|XX]\r\n> SET phone Note10 EX 10          # 10 ç§’éæœŸ\r\n> SET price 23900\r\n\r\n# SETNX key value\r\n# SET if Not Existï¼Œå¦‚æœè©² key ä¸å­˜åœ¨æ‰å„²å­˜\r\n> SETNX frameworks \"react vue angular\" # å›å‚³ 1 è¡¨ç¤ºæˆåŠŸï¼Œ0 è¡¨ç¤ºå¤±æ•—ï¼ˆè©² key å·²ç¶“å­˜åœ¨ï¼‰\r\n\r\n# SETEX key seconds value  # è¨­å®šéæœŸæ™‚é–“\r\n\r\n# å¢åŠ æˆ–æ¸›å°‘æ•¸å€¼\r\n> INCR price               # 23901ï¼Œä¸€æ¬¡å¢åŠ  1\r\n> DECR price               # 23900ï¼Œä¸€æ¬¡æ¸›å°‘ 1\r\n> INCRBY price 1000        # 24900ï¼Œä¸€æ¬¡å¢åŠ  1000\r\n> DECRBY price 1000        # 23900ï¼Œä¸€æ¬¡æ¸›å°‘ 1000\r\n```\r\n\r\n### List\r\n\r\nç”±æ–¼ Lists æœ¬è³ªä¸Šæ˜¯ linked-list çš„ç·£æ•…ï¼Œå®ƒåœ¨æ–°å¢å’Œåˆªé™¤å…ƒç´ çš„é€Ÿåº¦æ˜¯å¿«çš„ï¼Œä½†æœå°‹é€Ÿåº¦æ˜¯ç›¸å°æ…¢çš„ã€‚å¯ä»¥ä½¿ç”¨ RPUSH å’Œ LPUSH ä¾†æ–°å¢å…ƒç´ ï¼Œå¦‚æœè©² key å°šä¸å­˜åœ¨çš„è©±ï¼Œæœƒå›å‚³æ–°çš„ Listï¼Œå¦‚æœè©² key å·²ç¶“å­˜åœ¨ï¼Œæˆ–å®ƒä¸æ˜¯ List çš„è©±ï¼Œå‰‡æœƒå›å‚³éŒ¯èª¤ã€‚\r\n\r\n- æœ‰é †åºæ€§\r\n- æ–°å¢åˆªé™¤é€Ÿåº¦ç›¸å°å¿«ï¼šé©åˆç”¨åœ¨åªè¦å–å‡ºé ­å°¾å…ƒç´ çš„æƒ…æ³(ex: Quene)\r\n- æœå°‹é€Ÿåº¦ç›¸å°æ…¢\r\n- é©ç”¨æ™‚æ©Ÿ\r\n  - Message Quene: åªéœ€å–å‡ºé ­å°¾çš„å…ƒç´ ï¼Œä¸éœ€è¦æœå°‹\r\n\r\n```redis\r\n# åœ¨ List ä¸­æ–°å¢å…ƒç´ \r\n# RPUSH <key> <element> [element ...] / LPUSH <key> <element> [element ...]\r\n> RPUSH frameworks react vue angular  # 3\r\n> LPUSH frameworks svelte             # 4\r\n\r\n# æª¢è¦– List ä¸­çš„å…ƒç´ \r\n# LRANGE <key> <start> <stop>\r\n> LRANGE frameworks 0 -1  # åˆ—å‡ºæ‰€æœ‰å…ƒç´ ï¼Œ-1 è¡¨ç¤º list ä¸­çš„æœ€å¾Œä¸€å€‹å…ƒç´ \r\n\r\n# æª¢è¦– List æ•¸ç›®\r\n# LLEN <key>\r\n> LLEN frameworks\r\n\r\n# ç§»é™¤ list ä¸­çš„å…ƒç´ \r\n# RPOP <key> / LPOP <key>\r\n> RPOP frameworks         # ç§»é™¤ list æœ€å¾Œä¸€å€‹å…ƒç´ \r\n> LPOP frameworks\r\n```\r\n\r\n### Set\r\n\r\nç”±å¤šå€‹ redis ä¸­çš„ string ä»¥ç„¡åºçš„æ–¹å¼æ‰€çµ„æˆï¼Œå…¶ä¿è­‰å…§éƒ¨ä¸æœƒæœ‰é‡è¤‡çš„å…ƒç´ ï¼Œæ­¤å¤– Redis æä¾›äº†å¤šå€‹ Set ä¹‹é–“äº¤é›†ã€å·®é›†èˆ‡è¯é›†çš„æ“ä½œã€‚\r\n\r\n- ä½¿ç”¨æ™‚æ©Ÿï¼š\r\n\r\n  - è¨˜éŒ„æ¯ä¸€å€‹é€ è¨ªçš„ ip\r\n  - å•†å“æ¨™ç±¤\r\n\r\n- Set çš„åŸºç¤æ“ä½œ\r\n  - CRUD: SADD SREM SMEMBERS SCARD SPOP\r\n  - é›†åˆæ“ä½œ: SDIFF SINTER SUNION\r\n\r\n```redis\r\n# SADD <key> <member> [member ...]   # æ–°å¢å…ƒç´ åˆ° Set ä¸­\r\n> SADD languages english             # 1ï¼Œæ–°å¢çš„å…ƒç´ æ•¸ç›®\r\n> SADD languages frensh chinese      # 2ï¼Œæ–°å¢çš„å…ƒç´ æ•¸ç›®\r\n> SADD languages english             # 0ï¼Œå¦‚æœå…ƒç´ å·²ç¶“åœ¨è©² Sets ä¸­ï¼Œæœƒå›å‚³ 0\r\n\r\n# SREM <key> <member> [member...]     # å¾ Set ä¸­ç§»é™¤å…ƒç´ \r\n> SREM languages english              # 1ï¼Œç§»é™¤çš„å…ƒç´ æ•¸ç›®\r\n\r\n# SMEMBERS <key>                      # æª¢è¦– Set ä¸­æ‰€æœ‰å…ƒç´ \r\n> SMEMBERS languages                  # å›å‚³çš„å…ƒç´ æ²’æœ‰é †åºæ€§\r\n\r\n# SISMEMBER <key> <member>            # æª¢è¦–å…ƒç´ æ˜¯å¦å­˜åœ¨è©² Set ä¸­\r\n> SISMEMBER languages chinese         # 1ï¼Œå­˜åœ¨çš„è©±å›å‚³ 1ï¼Œä¸å­˜åœ¨å‰‡å›å‚³ 0\r\n\r\n# SUNION <key> [key...]               # åˆä½µå¤šå€‹ Sets\r\n> SUNION languages programming-languages\r\n127.0.0.1:6379> SMEMBERS bike\r\n1) \"green\"\r\n2) \"white\"\r\n3) \"black\"\r\n4) \"red\"\r\n127.0.0.1:6379> SUNION car\r\n1) \"green\"\r\n2) \"yellow\"\r\n3) \"red\"\r\n127.0.0.1:6379> SUNION car bike\r\n1) \"yellow\"\r\n2) \"red\"\r\n3) \"white\"\r\n4) \"black\"\r\n5) \"green\"\r\n```\r\n\r\n### Hash\r\n\r\nç‚º key-value çš„è³‡æ–™é¡å‹ï¼Œä¹Ÿæ˜¯ Redis çš„ä¸»çµæ§‹ï¼Œéå¸¸é©åˆç”¨æ–¼å„²å­˜ç‰©ä»¶å‹è³‡æ–™ï¼Œä¾‹å¦‚ User ç‰©ä»¶æœ‰å§“åã€å¹´é½¡ã€ä¿¡ç®±ç­‰ã€‚ç•¶ç‰©ä»¶éå¸¸å°æ™‚ï¼ŒHash æœƒå°‡è³‡æ–™å£“ç¸®å¾Œå„²å­˜ï¼Œå› æ­¤å–®å° redis å¯ä»¥å„²å­˜æ•¸ç™¾è¬å€‹å°ç‰©ä»¶ã€‚\r\n\r\n- Hash çš„åŸºç¤æ“ä½œ\r\n  - CRUD: HSET HGET HDEL\r\n  - å¤šæ¬„ä½è®€: HGETALL HKEYS HMGET\r\n\r\n```redis\r\n# HSET <key> <field> <value> [field value...]   # æ–°å¢ field-value pairs åˆ° Hash ä¸­\r\n> HSET phone name \"iphone\"       # 1ï¼Œæ–°å¢çš„æ•¸ç›®\r\n> HSET phone price 22500     # 1ï¼Œæ–°å¢çš„æ•¸ç›®\r\n> HSET phone name \"iphone mini\"  # 0ï¼Œè¡¨ç¤ºè©² field å·²ç¶“å­˜åœ¨ hash ä¸­ï¼Œå°‡æœƒã€Œæ›´æ–°ã€å…¶ value\r\n\r\n# HGET <key> <field>             # å–å¾— field çš„ value\r\n> HGET phone name                # \"iphone mini\"\r\n\r\n# HGETALL <key>                  # å–å¾—æ‰€è©² hash å°æ‰€æœ‰å€¼\r\n> HGETALL phone\r\n\r\n# HMSET <key> <field> <value> [field value...]  # å’Œ HSET ç›¸åŒ\r\n# HMGET <key> <field> [field...]    # ä¸€æ¬¡å–å‡ºå¤šå€‹ field çš„å€¼\r\n> HMGET phone name priceHSET\r\n```\r\n\r\n### Sorted Set\r\n\r\nç‚ºæœ‰åºçš„ Setï¼Œå…¶é †åºæœƒä¾ç…§å‚³å…¥çš„æ¬Šé‡å€¼æ’åºï¼Œåœ¨æŸ¥æ‰¾è³‡æ–™æ™‚ï¼Œå¯ä½¿ç”¨ binary searchï¼Œå› æ­¤æŸ¥æ‰¾æ•ˆç‡é«˜ã€‚ç”±æ–¼ Sorted Set çš„é«˜æ•ˆèƒ½æŸ¥è©¢ï¼ŒSorted Set å¯ç•¶åšä¸€çµ„ Hash è³‡æ–™çš„ indexï¼Œå°‡ç‰©ä»¶ id ä»¥åŠ index field å„²å­˜åœ¨ Sort Setï¼Œå–®ç­†ç‰©ä»¶çš„å®Œæ•´è³‡æ–™å„²å­˜åœ¨ Hashã€‚\r\n\r\n- æœ‰é †åºæ€§ï¼Œé€é `score` ç”¢ç”Ÿé€£çµä¾†é”åˆ°æ’åºçš„ä½œç”¨ï¼Œ`score` æœ¬èº«æœƒæ˜¯ `float`\r\n- å…ƒç´ å€¼ä»ç„¶æ˜¯å”¯ä¸€ï¼Œä½† `score` å¯ä»¥ä¸æ˜¯å”¯ä¸€\r\n- ä¸è«–æ˜¯ Add, Remove æˆ–æ˜¯ update é€Ÿåº¦éƒ½å¾ˆå¿«ï¼Œå¯ä»¥åŒæ™‚å¿«é€Ÿæœå­¸ä¸­é–“çš„é …ç›®\r\n- å¯ä»¥è¦–ç‚º `set` å’Œ `hash` çš„æ··åˆ\r\n- ä½¿ç”¨ä¸ŠæŒ‡ä»¤å’Œ `set` ç›¸ä¼¼ï¼Œåªè¦å°‡æœ€é–‹é ­çš„ `S` æ”¹æˆ `Z`\r\n- ä½¿ç”¨æ™‚æ©Ÿ\r\n\r\n  - éŠæˆ²çš„è¨ˆåˆ†æ¿\r\n\r\n- Sorted Set çš„åŸºç¤æ“ä½œ\r\n\r\n  - CRUD: ZADD ZRANGE ZREM\r\n  - Rank æ“ä½œ: ZRANK æ‰¾å…ƒç´ ä½ç½®ï¼ŒZSCORE è¨­å®šå…ƒç´ æ¬Šé‡å€¼\r\n\r\n- option\r\n  - XX: åªæ›´æ–°å­˜åœ¨çš„æˆå“¡ï¼Œä¸æ·»åŠ æ–°æˆå“¡\r\n  - NX: ä¸æ›´æ–°å­˜åœ¨çš„æˆå“¡ï¼Œåªæ·»åŠ æ–°æˆå“¡\r\n  - CN: ä¿®æ”¹è¿”å›å€¼ç‚ºç™¼ç”Ÿè®ŠåŒ–çš„æˆå“¡ç¸½æ•¸ï¼ŒåŸå§‹æ˜¯è¿”å›æ–°æ·»åŠ æˆå“¡çš„ç¸½æ•¸(CH ç‚º change çš„ç¸®å¯«)ã€‚æ›´æ”¹çš„å…ƒç´ æ˜¯æ–°å¢åŠ çš„æˆå“¡ï¼Œå·²ç¶“å­˜åœ¨çš„æˆå“¡æ›´æ–°åˆ†æ•¸ã€‚æ‰€ä»¥åœ¨å‘½ä»¤ä¸­æŒ‡å®šçš„æˆå“¡æœ‰ç›¸åŒçš„åˆ†æ•¸å°‡ä¸è¢«è¨ˆç®—åœ¨å…§ã€‚ä¸€èˆ¬è€Œè¨€ï¼ŒZADD åªæœƒè¿”å›æ–°å¢æˆå“¡çš„æ•¸é‡\r\n  - INCR: ç•¶ ZADD æŒ‡å®šé€™å€‹é¸é …æ™‚ï¼Œæˆå“¡çš„åšå°±ç­‰åŒ ZINCRBY å‘½ä»¤ï¼Œå°æˆå“¡çš„åˆ†æ•¸é€²è¡Œéå¢æ“ä½œã€‚\r\n\r\n```redis\r\n# ZADD <key> [NX|XX] [CH] [INCR] <score> <member> [score member ...]ï¼Œæ–°å¢ sorted Set\r\n> ZADD students 1 aaron                  # 1\r\n> ZADD students 2 allison         # 1\r\n> ZADD students 3 bruce 4 derek          # 2\r\n\r\n# XXï¼šåªæ›´æ–°å·²å­˜åœ¨çš„ member çš„ scoreï¼Œçµ•ä¸æ–°å¢ member\r\n# NXï¼šä¸æ›´æ–°å·²å­˜åœ¨çš„ member çš„ scoreï¼Œç¸½æ˜¯æ–°å¢ member\r\n> ZADD students XX 10 aaron    # å¦‚æœ aaron å­˜åœ¨ï¼Œå‰‡å°‡ score æ›´æ–°ç‚º 10\r\n> ZADD students NX 777 jen     # å¦‚æœ jen ä¸å­˜åœ¨ï¼Œå‰‡æ–°å¢ä¸”å°‡ score è¨­ç‚º 777\r\n\r\n# ZRANGE <key> <start> <stop> [WITHSCORES]ï¼Œæª¢è¦– sorted set\r\n> ZRANGE students 0 -1                   # æª¢è¦– sorted set ä¸­æ‰€æœ‰å…ƒç´ \r\n\r\n# ZCARD <key>ï¼Œæª¢è¦–è©² set ä¸­çš„å…ƒç´ æ•¸ç›®\r\n> ZCARD students\r\n\r\n# ZCOUNT <key> <min> <max>     # æª¢è¦–åˆ†æ•¸ä»‹æ–¼ min ~ max é–“çš„å…ƒç´ æ‹­ç›®\r\n> ZCOUNT students 0 10\r\n\r\n# ZSCORE <key> <member>        # æª¢è¦–æŸ member çš„ score\r\n> ZSCORE students aaron\r\n\r\n# ZINCRBY <key> <increment> <member>    # å¹« member çš„ score åˆ†æ•¸å¢åŠ \r\n> ZINCRBY students 10 aaron             # å¹« aaron çš„ score åŠ  10\r\n```\r\n\r\n## redis Key\r\n\r\n| æŒ‡ä»¤                                      | æè¿°                                      |\r\n| ----------------------------------------- | ----------------------------------------- |\r\n| DEL key                                   | ç•¶ key å­˜åœ¨æ™‚ï¼Œå°‡å…¶åˆªé™¤                   |\r\n| DUMP key                                  | åºåˆ—åŒ–å‚³å…¥çš„ keyï¼Œä¸¦å›å‚³è¢«åºåˆ—åŒ–çš„å€¼      |\r\n| EXISTS key                                | æª¢æŸ¥å‚³å…¥çš„ key æ˜¯å¦å­˜åœ¨                   |\r\n| EXPIRE key seconds                        | ç‚ºå‚³å…¥çš„ key è¨­å®šéæœŸæ™‚é–“ï¼Œä»¥ç§’è¨ˆ         |\r\n| EXPIREAT key timestamp                    | è¨­å®šéæœŸæ™‚é–“ï¼Œæ¥å— UNIX æ™‚é–“æˆ³ ç‚ºæ™‚é–“åƒæ•¸ |\r\n| PEXPIRE key milliseconds                  | è¨­ç½®éæœŸæ™‚é–“ä»¥æ¯«ç§’è¨ˆ                      |\r\n| PEXPIREAT key milliseconds-timestamp      | è¨­ç½®éæœŸæ™‚é–“çš„æ™‚é–“æˆ³ä»¥æ¯«ç§’è¨ˆ              |\r\n| KEYS pattern                              | æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆå‚³å…¥æ¨¡å¼ (pattem) çš„ key      |\r\n| MOVE key db                               | å°‡ç›®å‰è³‡æ–™åº«ä¸­ key ç§»å‹•åˆ°æŒ‡å®šçš„è³‡æ–™åº«ä¸­   |\r\n| PERSIST key                               | ç§»é™¤ key çš„éæœŸæ™‚é–“ï¼Œkey å°‡æ°¸ä¹…ä¿å­˜       |\r\n| PTTL key                                  | ä»¥æ¯«ç§’ç‚ºå–®ä½ï¼Œå›å‚³ key å‰©é¤˜çš„éæœŸæ™‚é–“     |\r\n| TTL key                                   | ä»¥ç§’ç‚ºå–®ä½ï¼Œå›å‚³ key å‰©é¤˜çš„éæœŸæ™‚é–“       |\r\n| RANDOMKEY                                 | å¾è³‡æ–™åº«ä¸­ï¼Œéš¨æ©Ÿå›å‚³ä¸€å€‹ key              |\r\n| RENAME key newkey                         | ä¿®æ”¹ key çš„åç¨±                           |\r\n| RENAMENX key newkey                       | ç•¶ newkey ä¸å­˜åœ¨æ™‚ï¼Œå°‡ key æ”¹åç‚º newkey  |\r\n| SCAN cursor [MATCH pattern] [COUNT count] | è¿­ä»£è³‡æ–™åº«ä¸­çš„è³‡æ–™åº«éµ                    |\r\n| TYPE key                                  | è¿”å› key æ‰€å„²å­˜çš„å€¼çš„é¡å‹                 |\r\n\r\n## Redis GUI\r\n\r\n> [Another Redis Desktop Manager](https://github.com/qishibo/AnotherRedisDesktopManager/)\r\n>\r\n> [[Tool] Redis ç®¡ç†å·¥å…· - Another Redis Desktop Manager](https://marcus116.blogspot.com/2020/04/tool-redis-another-redis-desktop-manager.html)\r\n\r\n## windows å®‰è£ phpredis\r\n\r\n> ä¸‹è¼‰ phpredis éœ€è¦å°æ‡‰ php çš„ç‰ˆæœ¬\r\n>\r\n> PHP Version `7.4.29`\r\n>\r\n> Architecture: `x64`\r\n>\r\n> PHP Extension Build: API20190902,`TS`,`VC15`\r\n\r\n[windows phpredis](https://windows.php.net/downloads/pecl/releases/redis/)\r\n\r\n5.3.7 -> php_redis-`5.3.7-7.4`-`ts-vc15`-`x64`.zip\r\n\r\nå°‡ä¸‹è¼‰çš„æª”æ¡ˆè§£å£“ç¸®å¾Œï¼Œå°‡è³‡æ–™å¤¾å…§ `php_redis.dll` å’Œ `php_redis.pdb` è¤‡è£½åˆ° php çš„æ“´å……å¥—ä»¶ `ext` ç›®éŒ„ä¹‹ä¸‹\r\n\r\næœ€å¾Œåœ¨ php.ini æª”æ¡ˆä¸­ï¼ŒåŠ å…¥å…©è¡Œç¨‹å¼ç¢¼(æ³¨æ„é †åº)\r\n\r\n```txt\r\nextension=php_igbinary.dll\r\nextension=php_redis.dll\r\n```\r\n\r\næœ€å¾Œåœ¨ phpinfo ä¸­æª¢æŸ¥ php-redis æ˜¯å¦å®‰è£æˆåŠŸ\r\n","date":"2023-07-18T02:47:00.230Z","matchingLines":["## redis-cil\r","## è³‡æ–™é¡å‹\r","## redis Key\r","## Redis GUI\r","## windows å®‰è£ phpredis\r"],"tocContent":"- [Redis å­¸ç¿’ç­†è¨˜](#redis-å­¸ç¿’ç­†è¨˜)\r\n  - [redis-cil](#redis-cil)\r\n  - [è³‡æ–™é¡å‹](#è³‡æ–™é¡å‹)\r\n    - [string](#string)\r\n    - [List](#list)\r\n    - [Set](#set)\r\n    - [Hash](#hash)\r\n    - [Sorted Set](#sorted-set)\r\n  - [redis Key](#redis-key)\r\n  - [Redis GUI](#redis-gui)\r\n  - [windows å®‰è£ phpredis](#windows-å®‰è£-phpredis)"},{"name":"MySQLå­¸ç¿’ç­†è¨˜.md","content":"# MySQL å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n## ç’°å¢ƒè¨­å®š\r\n\r\n### è¨­å®šæ™‚å€\r\n\r\n- `show variables like '%time_zone%'` æŸ¥çœ‹ç•¶å‰æ™‚å€\r\n  - æœƒè¿”å›å…©è¡Œç´€éŒ„ï¼Œç¬¬ä¸€è¡Œç‚º system_time_zone(ç³»çµ±æ™‚å€)ï¼Œç¬¬äºŒè¡Œç‚º time_zone(è³‡æ–™åº«æ™‚å€)\r\n- `set time_zone='+8:00'` è¨­ç½®ç•¶å‰è«‹æ±‚çš„æ™‚å€\r\n  - ä¸é ˆé‡æ–°é€£æ¥ mysql\r\n  - åƒ…ç•¶å‰çš„è«‹æ±‚æœ‰æ•ˆï¼Œè‹¥é—œé–‰å‰‡å›å¾©åŸå§‹å€¼ã€‚\r\n- `set global time_zone='+8:00` è¨­å®šå…¨åŸŸæ™‚å€\r\n  - å…¨åŸŸè«‹æ±‚æœ‰æ•ˆï¼Œä½†å¿…é ˆé‡æ–°é€£æ¥ mysql æ‰æœƒç”Ÿæ•ˆ(exit å¾Œé‡æ–° mysql -uroot -p é€²è¡Œé€£æ¥)ã€‚\r\n  - ä¸é ˆé‡å•Ÿ mysqlï¼Œé‡å•Ÿå¾Œå›å¾©åŸå§‹å€¼\r\n- ä¿®æ”¹ mysql è¨­å®šæ–‡ä»¶\r\n  - åœ¨ my.ini ä¸­æ·»åŠ \r\n  - é ˆé‡å•Ÿ mysql\r\n\r\n```ini\r\n[mysqld]\r\ndefault-time-zone=+00:00\r\ncharacter-set-server=utf8mb4\r\n```\r\n\r\n### MariaDB è¨­å®šå‘½åæ™‚å€\r\n\r\nå‘½åæ™‚å€æ˜¯æŒ‡ä½¿ç”¨æ™‚å€çš„åå­—ï¼Œè€Œä¸æ˜¯æ¨™æº–æ™‚é–“çš„å°æ™‚å·®ã€‚ä¾‹å¦‚ `Asia/Taipei` å°±æ˜¯å‘½åæ™‚å€ï¼Œè€Œä¸æ˜¯ +08:00ã€‚\r\nåœ¨ MariaDB ä¸­åŸŸè¨­æœ‰æ™‚å€è¡¨ï¼Œä½†é è¨­ç‚ºç©ºï¼Œéœ€è¦å¡«å……é€™äº›è¡¨å¾Œæ‰èƒ½ä½¿ç”¨ã€‚\r\n\r\n#### å¾ zoneinfo åŒ¯å…¥æ™‚å€\r\n\r\nè‹¥ç³»çµ±ç’°å¢ƒç‚ºé¡ Unix ç³»çµ±(Mac OS, Linux, FreeBSD, Sun Solaris)ï¼Œzoneinfo æ–‡ä»¶å·²ç¶“åŒ…å«åœ¨ç³»çµ±ä¸­ã€‚\r\nè¼¸å…¥æŒ‡ä»¤å°‡æ™‚å€è¡¨åŠ å…¥ MariaDB ä¸­çš„ MySQL è³‡æ–™åº«ä¸­\r\n\r\n```bash\r\nmysql_tzinfo_to_sql /usr/share/zoneinfo | mariadb -u root -p mysql\r\n&\r\nmysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql\r\n```\r\n\r\n#### å¾ mysql æä¾›çš„æŒ‡ä»¤ç¢¼åŒ¯å…¥\r\n\r\nç”±æ–¼ windows æ²’æœ‰ zoneinfo è³‡æ–™åº«ï¼Œæ‰€ä»¥å¿…é ˆé€é sql æŒ‡ä»¤ç¢¼åŒ¯å…¥æ™‚å€è¡¨\r\n\r\n- ä¸‹è¼‰ sql æŒ‡ä»¤ç¢¼ä¸¦è§£å£“ç¸®ï¼š[https://downloads.mysql.com/general/timezone_2022g_posix_sql.zip](https://downloads.mysql.com/general/timezone_2022g_posix_sql.zip)\r\n- ç™»å…¥ mariaDB\r\n\r\n```bash\r\n.\\mysql.exe -u root -p\r\n# è¼¸å…¥ root ä½¿ç”¨è€…å¯†ç¢¼\r\n```\r\n\r\n- é€£æ¥ MySQL è³‡æ–™åº«\r\n\r\n```bash\r\nUSE mysql\r\n```\r\n\r\n- å¾ SQL æŒ‡ä»¤ç¢¼åŒ¯å…¥è³‡æ–™\r\n\r\n```bash\r\nSOURCE C:\\Users\\Adam\\Downloads\\timezone_posix.sql\r\n```\r\n\r\n- æª¢æŸ¥æ˜¯å¦æ­£ç¢ºåŒ¯å…¥\r\n\r\n```bash\r\nSELECT * FROM mysql.time_zone_name;\r\n```\r\n\r\n```output\r\n+----------------------------------+--------------+\r\n| Name                             | Time_zone_id |\r\n+----------------------------------+--------------+\r\n| Africa/Abidjan                   |            1 |\r\n| Africa/Accra                     |            2 |\r\n| Africa/Addis_Ababa               |            3 |\r\n| Africa/Algiers                   |            4 |\r\n| Africa/Asmara                    |            5 |\r\n| Africa/Asmera                    |            6 |\r\n| Africa/Bamako                    |            7 |\r\n| Africa/Bangui                    |            8 |\r\n| Africa/Banjul                    |            9 |\r\n| Africa/Bissau                    |           10 |\r\n...\r\n...\r\n| Zulu                             |          597 |\r\n+----------------------------------+--------------+\r\n597 rows in set (0.000 sec)\r\n```\r\n\r\n## è³‡æ–™è¡¨èªæ³•\r\n\r\n- å»ºç«‹è³‡æ–™è¡¨\r\n\r\n  ```sql\r\n  CREATE TABLE è³‡æ–™è¡¨åç¨± (\r\n    æ¬„ä½åç¨±  è³‡æ–™å‹æ…‹,\r\n    ...\r\n  )\r\n  ```\r\n\r\n- å¢åŠ è³‡æ–™è¡¨æ¬„ä½\r\n\r\n  ```sql\r\n  ALTER TABLE è³‡æ–™è¡¨ ADD æ¬„ä½åç¨± è³‡æ–™å‹æ…‹;\r\n  ```\r\n\r\n- å¢åŠ è³‡æ–™è¡¨å…§å®¹\r\n\r\n  ```sql\r\n  INSERT INTO è³‡æ–™è¡¨ (æ¬„ä½1, æ¬„ä½2, æ¬„ä½3, ...)\r\n  VALUES (å€¼1,  å€¼2,  å€¼3, ...);\r\n  ```\r\n\r\n- æ›´æ–°è³‡æ–™æ¬„ä½\r\n\r\n  ```sql\r\n  UPDATE è³‡æ–™è¡¨ SET æ¬„ä½1 = 'è³‡æ–™1', æ¬„ä½2 = 'è³‡æ–™2' WHERE æ¢ä»¶;\r\n  ```\r\n\r\n- åˆªé™¤è³‡æ–™æ¬„ä½\r\n\r\n  ```sql\r\n  delete from è³‡æ–™è¡¨ where æ¬„ä½ = ;\r\n  truncate table è³‡æ–™è¡¨;\r\n  drop table è³‡æ–™è¡¨\r\n\r\n  -- åˆªé™¤å¤–éµæ¬„ä½\r\n  ALTER TABLE è³‡æ–™è¡¨ DROP FOREIGN KEY FK_æ¬„ä½ ; -- å…ˆåˆªé™¤å¤–éµåç¨±\r\n  ALTER TABLE è³‡æ–™è¡¨ DROP `æ¬„ä½`;               --  æ‰èƒ½åˆªé™¤æ¬„ä½\r\n  ```\r\n\r\n- é¸æ“‡æ¬„ä½\r\n\r\n  ```sql\r\n      SELECT åˆ¥å.æ¬„ä½,\r\n      DISTINCT åˆ¥å.æ¬„ä½          -- æ¬„ä½è³‡æ–™ä¸é‡è¤‡\r\n      CONCAT(åˆ¥å.æ¬„ä½, åˆ¥å.æ¬„ä½) -- æ¬„ä½åˆä½µ\r\n      FROM è³‡æ–™è¡¨ as åˆ¥å         -- åˆ¥å\r\n\r\n      join è³‡æ–™è¡¨B on è³‡æ–™è¡¨åˆ¥å.æ¬„ä½ = è³‡æ–™è¡¨Båˆ¥å.æ¬„ä½\r\n\r\n      WHERE åˆ¥å.æ¬„ä½ = \"å…§å®¹\" AND åˆ¥å.æ¬„ä½ = å…§å®¹  -- ...è€Œä¸”...\r\n      WHERE (åˆ¥å.æ¬„ä½ = \"å…§å®¹\" OR åˆ¥å.æ¬„ä½ = å…§å®¹) -- (..æˆ–è€…..)\r\n                                                  -- ORçš„å‰å¾Œè¦åŠ ä¸Šæ‹¬å¼§ï¼Œå°‡æ¢ä»¶é™åˆ¶ä½\r\n      WHERE åˆ¥å.æ¬„ä½ LIKE \"%å…§å®¹%\"                 -- å…§å®¹éƒ¨åˆ†æœ‰ç¬¦åˆè€…\r\n      WHERE åˆ¥å.æ¬„ä½ BETWEEN èµ·å§‹ and çµæŸ         -- é€£çºŒä¸é–“æ®µçš„å€é–“\r\n      WHERE åˆ¥å.æ¬„ä½ in (å…§å®¹, å…§å®¹)               -- æŒ‘é¸åŒä¸€å‹æ…‹æŒ‡å®šå…§å®¹\r\n\r\n      GROUP BY                -- ç›¸åŒçš„æ±è¥¿è¨˜éŒ„åœ¨ä¸€èµ·\r\n      HAVING                  -- æ¥åœ¨ GROUP BY ä¹‹å¾Œè¨­å®šæ¢ä»¶\r\n      UNION\r\n      ORDER BY åˆ¥å.æ¬„ä½       -- æ’åº(é è¨­ç”±å°åˆ°å¤§)\r\n      ORDER BY åˆ¥å.æ¬„ä½ DESC  -- æ’åºç”±å¤§åˆ°å°\r\n      LIMIT èµ·å§‹ä½ç½®, è³‡æ–™ç­†æ•¸; -- é¸æ“‡è³‡æ–™ä¸­è¦é¡¯ç¤ºçš„é …ç›®\r\n  ```\r\n\r\n- ä½¿ç”¨è€…å®šç¾©è®Šæ•¸\r\n\r\n  ```sql\r\n  SELECT @x; --> xå€¼ç‚ºNULL\r\n\r\n  SET @x = 1;\r\n  SELECT @x, ProductID  FROM Products;\r\n  ```\r\n\r\n- å­æŸ¥è©¢:æŸ¥è©¢è£¡é¢æœ‰æŸ¥è©¢\r\n\r\n  ```sql\r\n  --> æª¢æŸ¥è³‡æ–™è¡¨302ä¸­çš„ ProductIDï¼Œä¸å­˜åœ¨æ–¼è³‡æ–™è¡¨301 çš„ ProductID\r\n  SELECT * FROM lab302\r\n  WHERE ProductID NOT in (SELECT ProductID FROM lab301)\r\n  ```\r\n\r\n- inner join | left join | right join | cross join\r\n\r\n  ```sql\r\n  -- çµåˆå…©å€‹è¡¨ä¸­æŸæ¬„ä½å…·æœ‰ç›¸åŒè³‡æ–™ï¼Œä¸€èµ·åˆ—å‡ºæŸ¥è©¢çµæœ\r\n  inner join\r\n  -- åˆ—å‡ºå·¦/å³é‚Šçš„è¡¨ï¼Œå¦ä¸€é‚Šçš„è¡¨åˆ—å‡ºæœ‰ç›¸åŒçš„éƒ¨åˆ†ï¼Œä¸è¶³çš„æ¬„ä½å°å‡ºNULL\r\n  left join | right join\r\n  -- å°‡æ‰€æœ‰å¯èƒ½çš„çµ„åˆé€šé€šåˆ—å‡ºä¾†(äº¤å‰æŸ¥è©¢)\r\n  cross join\r\n  ```\r\n\r\n## è³‡æ–™å‹æ…‹\r\n\r\n- å­—ä¸²é¡å‹\r\n\r\n  - `char()` èˆ‡ `varchar()` çš„ç©ºé–“å¤§å°æ˜¯ä»¥å¾Œé¢åƒæ•¸ä¾†è¡¨ç¤ºæ¬„ä½çš„å¤§å°ï¼Œä¸åŒçš„åœ°æ–¹åœ¨æ–¼`varchar()` æ˜¯ä»¥å‹•æ…‹çš„æ–¹å¼å„²å­˜ã€‚\r\n\r\n    ```sql\r\n    char(10) = \"hello     \" -- 10 bytes  åŒ…å«äº†äº”å€‹ç©ºæ ¼\r\n    varchar(10) = \"hello\"   -- 5 bytes\r\n    ```\r\n\r\n  - `char()` å›ºå®šå¤§å°æµªè²»ç©ºé–“ï¼Œä½†æ˜¯æ‰€éœ€çš„è¨ˆç®—æ™‚é–“å°‘ã€‚\r\n  - `varchar()` ä¸å›ºå®šé•·åº¦ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡æŠ“å–éƒ½è¦é‹ç®—ï¼ŒèŠ±è²» CPU é‹ç®—æ™‚é–“\r\n\r\n- æ•¸å€¼é¡å‹\r\n\r\n  |    type     | storage(bytes) |          signed          |    unsigned    |\r\n  | :---------: | :------------: | :----------------------: | :------------: |\r\n  |  `TINYINT`  |       1        |        -128 ~ 127        |    0 ~ 225     |\r\n  | `SMALLINT`  |       2        |      -32768 ~ 32767      |   0 ~ 65535    |\r\n  | `MEDIUMINT` |       3        |    -8388608 ~ 8388607    |  0 ~ 16777215  |\r\n  |    `int`    |       4        | -2147483648 ~ 2147483647 | 0 ~ 4294967295 |\r\n  |  `BIGINT`   |       8        |  $-2^{63}$ ~ $2^{63}-1$  | 0 ~ $2^{64}-1$ |\r\n\r\n- `DECIMAL(x, y)` : x = æ•¸å€¼é•·åº¦(åŒ…å«å°æ•¸é»)ï¼Œy = å°æ•¸é»å¾Œçš„ä½æ•¸(ä¸è¶³è£œé›¶)\r\n\r\n- æ™‚é–“é¡å‹\r\n\r\n  - `YEAR` : YYYY\r\n  - `TIME` : HH:MM:SS\r\n  - `DATE` : YYYY-MM-DD\r\n  - `DATETIM`E : YYYY-MM-DD HH:MM:SS\r\n\r\n- éµå\r\n\r\n  - `primary key` ä¸»ç´¢å¼•éµ(ä¸»éµ)\r\n  - `foreign key` å¤–éƒ¨ç´¢å¼•éµ(å¤–ä¾†éµ)\r\n  - `UNIQUE` å”¯ä¸€ ä¸èƒ½æœ‰é‡è¤‡çš„è³‡æ–™\r\n  - `_INCREMENT` æµæ°´è™Ÿ\r\n  - `DEFAULT =` é è¨­å€¼\r\n  - `CHECK ()` è³‡æ–™å¯«å…¥å‰çš„æª¢æŸ¥(é è¨­æ¨™æº–)\r\n\r\n- functions | method | æ–¹æ³• | å‡½å¼ | å‰¯ç¨‹å¼ | å‡½æ•¸\r\n\r\n  - `count()` : è¨ˆç®—æ•¸é‡\r\n  - `MAX()` : æ‰¾æœ€å¤§çš„é‚£ä¸€å€‹\r\n  - `AVG()` : å¹³å‡å€¼\r\n  - `ABS()` : å–çµ•å°å€¼\r\n  - `ROUND()` : å°æ•¸é»å››æ¨äº”å…¥\r\n\r\n  ***\r\n\r\n  - å–å¾—ç¾åœ¨æ™‚é–“\r\n    - `CURRENT_DATE()`\r\n    - `SYSDATE()`\r\n    - `NOW()`\r\n\r\n  ***\r\n\r\n  - `Year()` : å¹´\r\n\r\n  - `Month()` : æœˆ\r\n\r\n  - `DAY()` : æ—¥\r\n\r\n  - `LENGTH()` : è³‡æ–™çš„å¤§å° bytes\r\n\r\n  - `CHAR_LENGTH(`) : å­—ä¸²çš„é•·åº¦\r\n\r\n  ***\r\n\r\n  - `POWER(æ•¸å€¼, Næ¬¡æ–¹)` : è¨ˆç®—æ¬¡æ–¹\r\n\r\n  - `SUBSTRING(æ¬„ä½, èµ·å§‹ä½ç½®, æ“·å–é•·åº¦)` : æ“·å–å­—ä¸²\r\n\r\n  - `INSTR(æ¬„ä½, 'æŒ‡å®šçš„æ–‡å­—')` : æ‰¾å‡ºæŒ‡å®šä½ç½®çš„ä½ç½®ï¼Œå›å‚³æ•¸å€¼\r\n\r\n  - `LEFT(æ¬„ä½, æ“·å–é•·åº¦)` : å¾å·¦é‚Šé–‹å§‹æ“·å–åˆ°æŒ‡å®šé•·åº¦\r\n\r\n  - `REPLACE(ç›®æ¨™æ¬„ä½, 'ç›®æ¨™å­—ä¸²', 'è¦å–ä»£ä¸Šå­—ä¸²')` :å–ä»£æŒ‡å®šå­—å…ƒ\r\n\r\n  - `RPAD(å…§å®¹, å…§å®¹çš„é•·åº¦, 'å–ä»£çš„å­—')` : å…§å®¹ä¸è¶³æˆ–æ˜¯è¶…éçš„éƒ¨åˆ†æœƒè¢«å–ä»£\r\n\r\n  - `REPEAT('è¦é‡è¤‡çš„å­—', é‡è¤‡æ¬¡æ•¸)` :é‡è¤‡è¼¸å…¥\r\n\r\n  ***\r\n\r\n  - å°‡å­—ä¸²è½‰æ›å‹æ…‹\r\n    - `CONVERT('å­—ä¸²', å‹æ…‹)`\r\n    - `CAST('å­—ä¸²' AS å‹æ…‹)`\r\n\r\n  ***\r\n\r\n  - `DATE_FORMAT(æ—¥æœŸ, \"%Y\")` :æ—¥æœŸæ ¼å¼ï¼Œå–å¾—æ—¥æœŸä¸­çš„é …ç›®\r\n\r\n  ***\r\n\r\n  - `IF(åˆ¤æ–·æ¢ä»¶, \"æ¢ä»¶ç‚ºT\", \"æ¢ä»¶ç‚ºF\")` :æ¢ä»¶åˆ¤æ–·ç‚º true è¿”å› 1ï¼Œå¦å‰‡è¿”å› 2\r\n\r\n  - `ELT(æ•¸å€¼ã€æ¸…å–®, 'å€¼1', 'å€¼2'......'å€¼n')` :é€éæ•¸å€¼æ¸…å–®å‚³å›æŒ‡å®šä¹‹ç´¢å¼•çš„é …ç›®\r\n\r\n  - `IFNULL(x, y)` : å¦‚æœ x æœ‰å€¼å›å‚³ xï¼Œå¦‚æœ x ç‚º NULL å›å‚³ y\r\n\r\n  - `ISNULL(x)` : å¦‚æœ x ç‚º NULLï¼ŒISNULL(x)æœƒå›å‚³ 1ï¼Œå¦å‰‡å›å‚³ 0\r\n\r\n  - `NULLIF(x, y)` : å¦‚æœ x = y å›å‚³ NULLï¼Œå¦å‰‡å›å‚³ x\r\n\r\n  ***\r\n\r\n  - é¡ä¼¼ if else\r\n\r\n    ```sql\r\n    CASE\r\n      when condition(æ¢ä»¶ç‚ºtrue) then \"è¿”å›çµæœ\"\r\n      --å¦‚æœæ¢ä»¶ç‚ºfalseå°±ç¹¼çºŒä¸‹ä¸€è¡Œåˆ¤æ–·\r\n      when condition(æ¢ä»¶ç‚ºtrue) then \"è¿”å›çµæœ\"\r\n      else \"è¿”å›çµæœ\" -- å¦‚æœä¸Šè¿°æ¢ä»¶éƒ½ä¸ç¬¦ï¼Œå°±è¿”å›æ­¤çµæœ\r\n    end\r\n    ```\r\n\r\n  - ä¸ç­‰æ–¼ï¼š\r\n\r\n    - `<>`\r\n    - `!=`\r\n    - `NOT`\r\n\r\n  - æ¯”è¼ƒï¼š\r\n    - `>=`\r\n    - `<=`\r\n\r\n## DB å‘½ååŸå‰‡\r\n\r\n- å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ã€æ•¸å­—ã€ä¸‹åŠƒç·šï¼Œä»¥è‹±æ–‡å­—æ¯é–‹é ­\r\n- é¿å…ç”¨ MySQL çš„ä¿ç•™å­—å¦‚ï¼šbackupã€callã€group ç­‰\r\n- æ‰€æœ‰è³‡æ–™åº«ç‰©ä»¶ä½¿ç”¨å°å¯«å­—æ¯\r\n\r\n### è³‡æ–™åº«å‘½å\r\n\r\n- ä¸è¶…é 30 å€‹å­—å…ƒ\r\n\r\n### è³‡æ–™è¡¨å‘½å\r\n\r\n- ä¸€å¾‹ä½¿ç”¨è¤‡æ•¸åè©\r\n- ä¸è¶…é 30 å€‹å­—å…ƒ\r\n- å¤šå°å¤šé—œä¿‚ä¸­çš„ä¸­é–“è¡¨å‘½åï¼Œç‚ºå…©å€‹è¡¨åç¨±ï¼Œä¸­é–“ä»¥`_`å€é¡`ï¼Œä»¥å–®æ•¸å‘½å ä¾‹å¦‚ï¼š`admins`å’Œ`members`ï¼Œä¸­é–“è¡¨å‘½åç‚º`admin_member`\r\n\r\n### æ¬„ä½å‘½å\r\n\r\n- å„è¡¨ä¹‹é–“ç›¸åŒæ„ç¾©çš„æ¬„ä½å¿…é ˆåŒå\r\n- å¤šå–®è©ä»¥`_`\r\n- å¤–éµç´„æŸæ¬„ä½ï¼Œä»¥é—œè¯çš„çˆ¶å±¤è³‡æ–™è¡¨ååŠ ä¸Šçˆ¶å±¤è³‡æ–™è¡¨æ¬„ä½åä¾†å‘½åï¼Œä¸­é–“ä»¥`_`å€éš”  \r\n  ä¾‹:çˆ¶å±¤è³‡æ–™è¡¨å`admins`ï¼Œçˆ¶å±¤è³‡æ–™è¡¨æ¬„ä½å`id`ï¼Œé—œè¯æ¬„ä½å`admin_id`\r\n\r\n### ç´¢å¼•å‘½å\r\n\r\n#### å¤–éµç´¢å¼•\r\n\r\n- è³‡æ–™è¡¨åç¨±\\_é—œè¯æ¬„ä½åç¨±\\_foreign\r\n\r\n## Function\r\n\r\n### CONVERT_TZ(dt,from_tz,to_tz) è½‰æ›æ™‚å€\r\n\r\n- dt æ—¥æœŸ/æ™‚é–“\r\n- from_tz åŸå§‹æ™‚å€\r\n- to_tz ç›®æ¨™æ™‚å€\r\n\r\n```sql\r\nSELECT CONVERT_TZ('2020-12-01 01:00:00','+00:00','+08:00') AS Result;\r\n```\r\n\r\n```output\r\n+---------------------+\r\n| Result              |\r\n+---------------------+\r\n| 2020-12-01 09:00:00 |\r\n+---------------------+\r\n```\r\n\r\n### Event äº‹ä»¶\r\n\r\nç”¨æ–¼å®šæœŸåŸ·è¡ŒæŸäº›è³‡æ–™åº«ä»»å‹™\r\n\r\n- ç”¨é€”ï¼š\r\n  - è‡ªå‹•åŒ–ç¶­è­·\r\n  - åˆªé™¤éæœŸæ•¸æ“š\r\n  - è¤‡è£½å­˜æª”ã€ç”Ÿæˆå ±å‘Š\r\n\r\n#### ç¯„ä¾‹\r\n\r\n- devices è³‡æ–™è¡¨éœ€è¦å®šæ™‚åˆªé™¤å·²è¢«æ¨™è¨˜ delete_at çš„è£ç½®\r\n\r\n```sql\r\nCREATE EVENT delete_old_devices\r\nON SCHEDULE\r\n-- æ¯åŠå¹´æª¢æŸ¥ä¸€æ¬¡ï¼Œä¸¦åˆªé™¤è¶…éåŠå¹´ä»¥ä¸Šçš„è³‡æ–™\r\nEVERY 6 MONTH\r\nDO\r\n  DELETE FROM devices WHERE deleted_at < DATE_SUB(NOW(), INTERVAL 6 MONTH);\r\n```\r\n\r\n#### åŸºæœ¬ä½¿ç”¨\r\n\r\n- æŸ¥è©¢ã€åˆªé™¤\r\n\r\n```sql\r\nSHOW EVENTS; -- æŸ¥è©¢\r\n\r\nDROP EVENT IF EXISTS <event_name>; --åˆªé™¤ï¼ŒIF EXISTSå¯ä»¥é¿å…å ±éŒ¯\r\n```\r\n\r\n- å•Ÿç”¨äº‹ä»¶æ’ç¨‹\r\n\r\n```sql\r\nSET GLOBAL event_scheduler = ON;\r\n```\r\n\r\n- æŸ¥çœ‹ç›®å‰æ­£åœ¨åŸ·è¡Œçš„ç¨‹åº\r\n\r\n```sql\r\nSHOW PROCESSLIST;\r\n```\r\n\r\n## ä½¿ç”¨æƒ…å¢ƒ\r\n\r\n### å¤–éµ onDelete ç´„æŸæƒ…æ³\r\n\r\n- æ²’æœ‰åŠ å…¥`onDelete`  \r\n  å¦‚æœåœ¨é—œè¯ä¸­çš„é™åˆ¶å±¬æ€§ï¼Œæ²’æœ‰åŠ å…¥`onDelete`ï¼Œæ­¤æ™‚åˆªé™¤å¤–éµç´„æŸçš„çˆ¶å±¤è³‡æ–™è¡¨ä¸­çš„æ¬„ä½ï¼Œæœƒå‡ºç¾#1451 error\r\n\r\n  ```cmd\r\n  #1451 - Cannot delete or update a parent row: a foreign key constraint fails (`test0505`.`posts`, CONSTRAINT `posts_user_id_foreign` FOREIGN KEY (`user_id`)     REFERENCES `users` (`id`))\r\n  ```\r\n\r\n- onDelete('set null')\r\n  åˆªé™¤çˆ¶å±¤è³‡æ–™è¡¨çš„æ¬„ä½æ™‚ï¼ŒåŒæ™‚æœƒå°‡é—œè¯çš„å­è³‡æ–™è¡¨ä¸­çš„æ¬„ä½è¨­ç‚º`null`ã€‚\r\n- onDelete('cascade')\r\n  åˆªé™¤çˆ¶å±¤è³‡æ–™è¡¨çš„æ¬„ä½æ™‚ï¼ŒåŒæ™‚æœƒå°‡é—œè¯çš„å­è³‡æ–™è¡¨ä¸­çš„æ¬„ä½åˆªé™¤ã€‚\r\n\r\n### ERROR: #1215 - Cannot add foreign key constraint\r\n\r\n- å¯èƒ½åŸå› :\r\n  1. æ·»åŠ å¤–éµç´„æŸæ™‚ï¼Œç›®æ¨™æ¬„ä½é ˆå’Œå¼•ç”¨æ¬„ä½å…·æœ‰ç›¸åŒçš„æ•¸æ“šé¡å‹ï¼Œint signed with int signed æˆ– int unsigned with int unsigned\r\n  2. åœ¨ not null çš„æ¬„ä½åŠ ä¸Š on delete/update set null çš„å¤–éµç´„æŸï¼Œé ˆå°‡è©²æ¬„ä½è¨­ç‚º DEFAULT NULL\r\n\r\n### åˆªé™¤é‡è¤‡çš„è³‡æ–™\r\n\r\n#### ä½¿ç”¨ `DISTINCT` å»é™¤é‡è¤‡å€¼\r\n\r\néœ€æ±‚ï¼šæŸ¥æ‰¾ `02:81:85:34:ED:DC` è¡¨ä¸­çš„æ•¸æ“šï¼Œå°‡è¡¨ä¸­ `i`, `p`, `ep`, `eq`, `pf`, `created_at` é€™å…­å€‹æ¬„ä½å‡é‡è¤‡çš„è³‡æ–™åˆªé™¤ï¼Œä¸¦é‡æ–°æ•´ç† id\r\n\r\nå…ˆå»ºç«‹ä¸€å€‹è¡¨ï¼Œæ¥è€…ä½¿ç”¨ `SELECT DISTINCT` å»é™¤é‡è¤‡çš„å€¼ï¼Œä¸¦æŠŠå»é™¤é‡è¤‡å€¼çš„è³‡æ–™ï¼Œå­˜å…¥æ–°è³‡æ–™è¡¨ä¸­\r\n\r\n```sql\r\nCREATE TABLE `02:81:85:34:ED:DC_copy` (\r\n  `id` int(10) UNSIGNED NOT NULL,\r\n  `i` json DEFAULT NULL,\r\n  `p` json DEFAULT NULL,\r\n  `ep` json DEFAULT NULL,\r\n  `eq` json DEFAULT NULL,\r\n  `pf` json DEFAULT NULL,\r\n  `created_at` datetime DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nINSERT INTO `02:81:85:34:ED:DC_copy` (`i`, `p`, `ep`, `eq`, `pf`, `created_at`)\r\nSELECT DISTINCT `i`, `p`, `ep`, `eq`, `pf`, `created_at` FROM `02:81:85:34:ED:DC`;\r\n```\r\n\r\næœ€å¾Œåˆªæ‰åŸè¡¨ï¼Œä¸¦å°‡è¤‡è£½çš„è¡¨æ”¹å\r\n\r\n```sql\r\ndrop tables `02:81:85:34:ED:DC`;\r\nalter table `02:81:85:34:ED:DC_copy` rename to `02:81:85:34:ED:DC`;\r\n```\r\n\r\n### åŒ¯å…¥ txt æª”\r\n\r\nå»ºç«‹è³‡æ–™è¡¨\r\n\r\n```sql\r\ncreate table `city_raw_data` (\r\n    `geonameid` int(10) NOT NULL,\r\n    `name` varchar(200) DEFAULT NULL,\r\n    `latitude` decimal(11, 8) DEFAULT NULL,\r\n    `longitude` decimal(11, 8) DEFAULT NULL,\r\n    `country code` varchar(10) DEFAULT NULL,\r\n    `timezone` varchar(40) DEFAULT NULL,\r\n    `modification date` date DEFAULT NULL\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8;\r\n```\r\n\r\næœ¬åœ° txt æª”åŒ¯å…¥\r\nåœ¨ txt æª”ä¸­ï¼Œæ¯ä¸€å€‹æ¬„ä½ç”¨ tab éµé€²è¡Œåˆ†éš”\r\n\r\n```sql\r\nLOAD DATA INFILE \"C:/Users/RD/Desktop/ES.txt\" INTO TABLE `city_raw_data` (\r\n`geonameid`,`name`,`asciiname`,`alternatenames`,`latitude`,`longitude`,`feature class`,`feature code`,`country code`,`cc2`,`admin1 code`,`admin2 code``admin3 code`,`admin4 code`,`population`,`elevation`,`dem`,`timezone`,`modification date`\r\n)\r\n```\r\n\r\næˆ–ç”¨æŒ‡å®šçš„ç¬¦è™Ÿé€²è¡Œåˆ†éš”ï¼Œå¦‚ï¼š`|`\r\n\r\n```sql\r\nLOAD DATA INFILE \"C:/Users/RD/Desktop/ES.txt\" INTO TABLE `city_raw_data` FIELDS TERMINATED BY '|' (\r\n    `geonameid`,\r\n    `name`,\r\n    `latitude`,\r\n    `longitude`,\r\n    `country code`,\r\n    `timezone`,\r\n    `modification date`\r\n);\r\n```\r\n\r\n### è¤‡åˆä¸»éµèˆ‡è¯åˆä¸»éµï¼Œç´¢å¼•èˆ‡è¯åˆ(è¤‡åˆ)ç´¢å¼•\r\n\r\n#### è¤‡åˆä¸»éµèˆ‡è¯åˆä¸»éµ\r\n\r\n- **è¤‡åˆä¸»éµ**ï¼šè¡¨çš„ä¸»éµå«æœ‰ä¸€å€‹ä»¥ä¸Šçš„æ¬„ä½çµ„æˆï¼Œä¸ä½¿ç”¨ç„¡æ¥­å‹™å«æ„çš„è‡ªå¢ id ä½œç‚ºä¸»éµ\r\n\r\n```sql\r\ncreate table test\r\n(\r\n  'name' varchar(19) NOT NULL\r\n  'id' number\r\n  'value' varchar(10)\r\n  primary key ('name', 'id')\r\n)\r\n```\r\n\r\n`name` å’Œ `id` æ¬„ä½çµ„åˆèµ·ä¾†å°±æ˜¯ test è¡¨çš„è¤‡åˆä¸»éµï¼Œä»–çš„å‡ºç¾æ˜¯å› ç‚º `name` æ¬„ä½å¯èƒ½æœƒå‡ºç¾é‡è¤‡ï¼Œæ‰€ä»¥è¦åŠ ä¸Š `id` æ¬„ä½ï¼Œå¦‚æ­¤å¯ä»¥ä¿è­‰ç´€éŒ„çš„å”¯ä¸€æ€§ã€‚\r\n\r\nä¸€èˆ¬è€Œè¨€ï¼Œä¸»è¦‹çš„æ¬„ä½è³‡æ–™é•·åº¦å’Œå­—ä¸²å­—æ•¸è¶Šå°‘è¶Šå¥½ã€‚\r\n\r\nç•¶è¡¨ä¸­åªæœ‰ä¸€å€‹ä¸»éµæ™‚ï¼Œä»–æ˜¯å”¯ä¸€çš„ç´¢å¼•ï¼›ç•¶è¡¨ä¸­æœ‰å¤šå€‹ä¸»éµæ™‚ï¼Œç¨±ç‚ºè¤‡åˆä¸»éµï¼Œè¤‡åˆä¸»éµè¯åˆä¿è­‰å”¯ä¸€ç´¢å¼•ã€‚\r\n\r\næŸè€…å€‹ä¸»éµæ¬„ä½å€¼å‡ºç¾é‡è¤‡æ˜¯æ²’å•é¡Œçš„ï¼Œåªè¦ä¸æ˜¯æœ‰å¤šç­†è³‡æ–™çš„æ‰€æœ‰ä¸»éµå€¼å®Œå…¨ä¸€æ¨£ï¼Œå°±ä¸ç®—é‡è¤‡ã€‚\r\n\r\n- **è¯åˆä¸»éµ**ï¼šå¤šå€‹ä¸»éµè¯åˆå½¢æˆä¸€å€‹ä¸»éµçµ„åˆã€‚\r\n\r\nè¯åˆä¸»éµçš„æ„ç¾©ï¼šç”¨å…©å€‹å­—ä¸²(æˆ–å¤šå­—ä¸²)ä¾†ç¢ºå®šä¸€æ¢ç´€éŒ„ã€‚é€™å…©å€‹å­—ä¸²éƒ½ä¸å”¯ä¸€ï¼Œå¯ä»¥åˆ†åˆ¥é‡è¤‡ã€‚\r\n\r\nå¦‚ï¼šä¸»éµ A å’Œä¸»éµ B çµ„æˆè¯åˆä¸»éµ\r\n\r\nä¸»éµ A è·Ÿä¸»éµ B çš„è³‡æ–™å¯ä»¥å®Œå…¨ç›¸åŒï¼Œè¯åˆå°±åœ¨æ–¼ä¸»éµ A å’Œä¸»éµ B å½¢æˆçš„è¯åˆä¸»éµæ˜¯å”¯ä¸€çš„ã€‚\r\nä¸‹é¢çš„ä¾‹å­ï¼šä¸»éµ A çš„æ•¸æ“šæ˜¯ 1ï¼Œä¸»éµ B çš„æ•¸æ“šä¹Ÿæ˜¯ 1ï¼Œè¯åˆä¸»éµå…¶å¯¦æ˜¯ 11ï¼Œ11 æ˜¯å”¯ä¸€å€¼ï¼Œä¸å…è¨±å†å‡ºç¾ 11 é€™å€‹å€¼ã€‚(å³ç‚ºå¤šå°å¤šé—œä¿‚)\r\n\r\n| ä¸»éµ A | ä¸»éµ B |\r\n| :----: | :----: |\r\n|   1    |   1    |\r\n|   2    |   2    |\r\n|   3    |   3    |\r\n\r\nä¸»éµ A èˆ‡ä¸»éµ B çš„è¯åˆä¸»éµå€¼æœ€å¤šç‚ºï¼š11, 12, 13, 21, 22, 23, 31, 32, 33\r\n\r\n#### ç´¢å¼•ã€è¯åˆ(è¤‡åˆ)ç´¢å¼•\r\n\r\n- **ç´¢å¼•**ï¼šåŠ å¿«æŸ¥è©¢é€Ÿåº¦çš„æœ‰æ•ˆæ‰‹æ®µã€‚\r\n\r\n  ç³»çµ±è®€å¯«è³‡æ–™æ™‚ï¼Œæœƒè‡ªå‹•é¸æ“‡åˆé©çš„ç´¢å¼•ä½œç‚ºå­˜å–è·¯å¾‘ã€‚\r\n\r\n  å»ºç«‹ç´¢å¼•\r\n\r\n  ```sql\r\n  -- å»ºç«‹ç´¢å¼•\r\n  create [unique][cluster]index<ç´¢å¼•å>\r\n\r\n  -- åˆªé™¤ç´¢å¼•\r\n  drop index <ç´¢å¼•å>\r\n  ```\r\n\r\n  ç´¢å¼•æ˜¯å„ç¨®é—œä¿‚è³‡æ–™åº«ä¸­ï¼Œæœ€å¸¸è¦‹çš„ä¸€ç¨®é‚è¼¯å–®å…ƒï¼Œæ˜¯é—œä¿‚è³‡æ–™åº«ç³»çµ±å¾ˆé‡è¦çš„çµ„æˆéƒ¨åˆ†ï¼Œå°æ–¼æé«˜æª¢ç´¢è³‡æ–™é€Ÿåº¦æœ‰å¾ˆé¡¯è‘—çš„æ•ˆæœã€‚\r\n  ç´¢å¼•çš„åŸç†æ˜¯åˆ©ç”¨æ ¹æ“šç´¢å¼•å€¼å¾—åˆ°è¡ŒæŒ‡é‡ï¼Œç„¶å¾Œå¿«é€Ÿå®šä½åˆ°è³‡æ–™åº«ç´€éŒ„ã€‚\r\n\r\n  ç´¢å¼•çš„ä½¿ç”¨ï¼š\r\n\r\n  1. ä¸»éµ(é è¨­è‡ªå¸¶ç´¢å¼•)å’Œå¤–éµ(ä»¥åŠä¸€äº›å¯ä»¥è·Ÿå…¶ä»–è¡¨è§€è¯çš„å­—æ®µ)\r\n  2. where å­å¥ä¸­åŸºå¸¸å‡ºç¾çš„å­—æ®µã€‚\r\n  3. ç´¢å¼•æ‡‰è©²å»ºç«‹åœ¨å°å­—æ®µä¸Šï¼Œå¤§æ•¸æ“šå­—æ®µ(bit, image, test, blob)ç­‰ï¼Œä¸é©ç”¨\r\n\r\n- **è¯åˆ(è¤‡åˆ)ç´¢å¼•**\r\n\r\n```sql\r\n-- å»ºç«‹è¯åˆç´¢å¼•\r\ncreate index <ç´¢å¼•å> on è¡¨å(æ¬„ä½1, æ¬„ä½2, ...);\r\n\r\n-- ä¾‹å¦‚ï¼šæœ‰è¯åˆç´¢å¼• (a, b, c, d)\r\nselect * from test where a=1 and b=2; -- a å’Œ b ç´¢å¼•éƒ½èµ·ä½œç”¨\r\n```\r\n\r\nç´¢å¼•ç”Ÿæ•ˆåŸå‰‡ï¼šæŒ‰ç…§è¯åˆç´¢å¼•çš„é †åºï¼Œç”±å‰å¾€å¾Œä¾æ¬¡ä½¿ç”¨ç”Ÿæ•ˆï¼Œå¦‚æœä¸­é–“æŸå€‹ç´¢å¼•æ²’æœ‰ä½¿ç”¨ï¼Œé‚£éº¼æ–·é»å‰é¢çš„ç´¢å¼•éƒ¨ä»½èµ·ä½œç”¨ï¼Œæ–·é»å¾Œé¢çš„ç´¢å¼•æ²’æœ‰èµ·ä½œç”¨ã€‚\r\n\r\nä¾‹å¦‚\r\n\r\n```sql\r\nwhere a=1 and b=2 and d=4;\r\n```\r\n\r\nå‰‡åªæœ‰ a å’Œ b ç´¢å¼•èµ·ä½œç”¨ï¼Œä¸­é–“ c æ–·äº†ï¼Œå‰‡ d ç´¢å¼•ä¸èµ·ä½œç”¨ã€‚\r\n\r\nmysql æœƒä¸€å€¼å‘å³å°‹æ‰¾ç›´åˆ°é‡åˆ°ç¯„åœæŸ¥è©¢(>, <, between, like)æ™‚åœæ­¢ã€‚\r\n\r\nå¦‚ï¼š\r\n\r\n```sql\r\nwhere a = 1 and b = 2 and c > 3 and d = 4 ;\r\n```\r\n\r\nè‹¥å»ºç«‹ (a, b, c, d)é †åºçš„ç´¢å¼•ï¼Œå‰‡ç´¢å¼•ç¯„åœä¸æœƒåˆ° b ï¼Œå› ç‚º c å‡ºç¾ \">\"ã€‚\r\nå¦‚æœå»ºç«‹(a, b, d, c)çš„é †åºï¼Œå‰‡\r\n\r\n```sql\r\nwhere a = 1 and b = 2 and c > 3 and d = 4\r\n```\r\n\r\nå…¶ä¸­ abcd éƒ½å¯ä»¥ç”¨åˆ°ç´¢å¼•ï¼Œä¸¦ä¸” abd çš„é †åºå¯ä»¥ä»»æ„èª¿æ•´ã€‚\r\n\r\n```sql\r\nselect * from test where b=2 and d=4 and a=1and c>3;\r\n```\r\n\r\nä»¥ä¸Š sql èªå¥ä¸­ï¼Œa, b, c, d éƒ½ç”¨åˆ°äº†ç´¢å¼•\r\n\r\n**æ³¨æ„**\r\n\r\n1. åªè¦åˆ—ä¸­åŒ…å«æœ‰ null å€¼ï¼Œéƒ½å°‡ä¸æœƒè¢«åŒ…å«åœ¨ç´¢å¼•ä¸­ï¼Œè¤‡åˆç´¢å¼•ä¸­åªè¦æœ‰ä¸€åˆ—å«æœ‰ null å€¼ï¼Œé‚£æ­¤åˆ—çš„è¤‡åˆç´¢å¼•å°±æ˜¯ç„¡æ•ˆçš„ï¼Œå› æ­¤åœ¨è³‡æ–™åº«è¨­è¨ˆæ™‚ç›¡é‡ä¸è¦è®“æ¬„ä½çš„é è¨­å€¼ç‚º null\r\n2. ä½¿ç”¨ like é—œéµå­—é ˆæ³¨æ„ï¼š`like \"%aaa%\"` ä¸æœƒå‘½ä¸­ç´¢å¼•ï¼Œ`like \"aaa%\"` æ‰æœƒå‘½ä¸­ç´¢å¼•ã€‚\r\n3. NOT IN å’Œæ“ä½œéƒ½æœƒè®Šæˆå…¨è¡¨æƒæï¼Œnot in å¯ä»¥ç”¨ not exist ä»£æ›¿ã€‚\r\n","date":"2023-07-18T02:45:39.658Z","matchingLines":["## ç’°å¢ƒè¨­å®š\r","## è³‡æ–™è¡¨èªæ³•\r","## è³‡æ–™å‹æ…‹\r","## DB å‘½ååŸå‰‡\r","## Function\r","## ä½¿ç”¨æƒ…å¢ƒ\r"],"tocContent":"- [MySQL å­¸ç¿’ç­†è¨˜](#mysql-å­¸ç¿’ç­†è¨˜)\r\n  - [ç’°å¢ƒè¨­å®š](#ç’°å¢ƒè¨­å®š)\r\n    - [è¨­å®šæ™‚å€](#è¨­å®šæ™‚å€)\r\n    - [MariaDB è¨­å®šå‘½åæ™‚å€](#mariadb-è¨­å®šå‘½åæ™‚å€)\r\n      - [å¾ zoneinfo åŒ¯å…¥æ™‚å€](#å¾-zoneinfo-åŒ¯å…¥æ™‚å€)\r\n      - [å¾ mysql æä¾›çš„æŒ‡ä»¤ç¢¼åŒ¯å…¥](#å¾-mysql-æä¾›çš„æŒ‡ä»¤ç¢¼åŒ¯å…¥)\r\n  - [è³‡æ–™è¡¨èªæ³•](#è³‡æ–™è¡¨èªæ³•)\r\n  - [è³‡æ–™å‹æ…‹](#è³‡æ–™å‹æ…‹)\r\n  - [DB å‘½ååŸå‰‡](#db-å‘½ååŸå‰‡)\r\n    - [è³‡æ–™åº«å‘½å](#è³‡æ–™åº«å‘½å)\r\n    - [è³‡æ–™è¡¨å‘½å](#è³‡æ–™è¡¨å‘½å)\r\n    - [æ¬„ä½å‘½å](#æ¬„ä½å‘½å)\r\n    - [ç´¢å¼•å‘½å](#ç´¢å¼•å‘½å)\r\n      - [å¤–éµç´¢å¼•](#å¤–éµç´¢å¼•)\r\n  - [Function](#function)\r\n    - [CONVERT\\_TZ(dt,from\\_tz,to\\_tz) è½‰æ›æ™‚å€](#convert_tzdtfrom_tzto_tz-è½‰æ›æ™‚å€)\r\n    - [Event äº‹ä»¶](#event-äº‹ä»¶)\r\n      - [ç¯„ä¾‹](#ç¯„ä¾‹)\r\n      - [åŸºæœ¬ä½¿ç”¨](#åŸºæœ¬ä½¿ç”¨)\r\n  - [ä½¿ç”¨æƒ…å¢ƒ](#ä½¿ç”¨æƒ…å¢ƒ)\r\n    - [å¤–éµ onDelete ç´„æŸæƒ…æ³](#å¤–éµ-ondelete-ç´„æŸæƒ…æ³)\r\n    - [ERROR: #1215 - Cannot add foreign key constraint](#error-1215---cannot-add-foreign-key-constraint)\r\n    - [åˆªé™¤é‡è¤‡çš„è³‡æ–™](#åˆªé™¤é‡è¤‡çš„è³‡æ–™)\r\n      - [ä½¿ç”¨ `DISTINCT` å»é™¤é‡è¤‡å€¼](#ä½¿ç”¨-distinct-å»é™¤é‡è¤‡å€¼)\r\n    - [åŒ¯å…¥ txt æª”](#åŒ¯å…¥-txt-æª”)\r\n    - [è¤‡åˆä¸»éµèˆ‡è¯åˆä¸»éµï¼Œç´¢å¼•èˆ‡è¯åˆ(è¤‡åˆ)ç´¢å¼•](#è¤‡åˆä¸»éµèˆ‡è¯åˆä¸»éµç´¢å¼•èˆ‡è¯åˆè¤‡åˆç´¢å¼•)\r\n      - [è¤‡åˆä¸»éµèˆ‡è¯åˆä¸»éµ](#è¤‡åˆä¸»éµèˆ‡è¯åˆä¸»éµ)\r\n      - [ç´¢å¼•ã€è¯åˆ(è¤‡åˆ)ç´¢å¼•](#ç´¢å¼•è¯åˆè¤‡åˆç´¢å¼•)"},{"name":"Laravel Migration & Seeder & Factory.md","content":"# Laravel Migration & Seeder & Factory\r\n\r\n>\r\n\r\n## Migration\r\n\r\n### ç”¢ç”Ÿ Migration æª”æ¡ˆ\r\n\r\n```cmd\r\nphp artisan make:migration create_your_table\r\n```\r\n\r\n- ç”¢ç”Ÿå‡ºä¾†çš„ Migration æª”æ¡ˆï¼Œå…§æœ‰ up() å’Œ down() å…©å€‹æ–¹æ³•ã€‚\r\n\r\n```php\r\n    public function up()\r\n    {\r\n        Schema::create('room_user', function (Blueprint $table) {\r\n            $table->id();\r\n            $table->unsignedBigInteger('user_id');\r\n            $table->bigInteger('parent_id')->comment('å°‡æ­¤æˆå“¡åŠ å…¥ç³»çµ±çš„ä½¿ç”¨è€…');\r\n            $table->unsignedBigInteger('room_id')->nullable();\r\n            $table->bigInteger('role_id')->comment('ä½¿ç”¨è€…èº«åˆ†');\r\n            $table->timestamps();\r\n        });\r\n\r\n        Schema::table('room_user', function (Blueprint $table) {\r\n            $table->foreign('user_id')\r\n                ->references('id')\r\n                ->on('users')\r\n                ->onDelete('cascade');\r\n            $table->foreign('room_id')\r\n                ->references('id')\r\n                ->on('rooms')\r\n                ->nullOnDelete();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Reverse the migrations.\r\n     *\r\n     * @return void\r\n     */\r\n    public function down()\r\n    {\r\n        Schema::table('room_user', function (Blueprint $table) {\r\n            $table->dropForeign('room_user_user_id_foreign');\r\n        });\r\n        Schema::dropIfExists('model_has_user');\r\n    }\r\n```\r\n\r\n### åŸ·è¡Œ Migrate\r\n\r\n```cmd\r\nphp artisan migrate\r\n```\r\n\r\n### é‚„åŸ Migrate\r\n\r\n- å¯¦éš›ä¸Šä»–æœƒå¯¦ä½œ down() ï¼Œä¸¦å°‡è³‡æ–™è¡¨å…§çš„è³‡æ–™åˆªæ‰ã€‚\r\n\r\n```cmd\r\nphp artisan migrate:rollback\r\nphp artisan migrate:rollback --step=5 // é‚„åŸæœ€å¾Œ 5 å€‹ Migration\r\n```\r\n\r\n- å¦‚æœä»Šå¤©å°‡ down() è¨»è§£æ‰ï¼Œä¸€æ¨£æœƒé€²è¡Œ Migrate åˆªé™¤ table ä¸­çš„è³‡æ–™ï¼Œä½†ä¸æœƒåˆªé™¤è³‡æ–™è¡¨ã€‚\r\n\r\n### é‡ç½® Migration\r\n\r\n```cmd\r\n//é‡ç½®æ‰€æœ‰ Migration\r\nphp artisan migrate:refresh\r\n\r\n//é‡ç½®æ‰€æœ‰ Migration ä¸¦åŒæ™‚å»ºç«‹è³‡æ–™\r\nphp artisan migrate:refresh --seed\r\n```\r\n\r\n## [Seed](https://ithelp.ithome.com.tw/articles/10216376)\r\n\r\n### ç”¢ç”Ÿ Seeder æª”æ¡ˆ\r\n\r\n```cmd\r\nphp artisan make:seed PersonTableSeeder\r\n```\r\n\r\næ­¤æ™‚æœƒå¤šå‡ºä¸€å€‹æª”æ¡ˆ`database/seeds/PersonTableSeeder.php`ï¼Œ\r\nåœ¨`database/seeds/DatabaseSeeder.php`ä¸­ï¼Œä¿®æ”¹è¦å‘¼å«çš„ Seederï¼š\r\n\r\n```php=\r\n$this->call(PersonTableSeeder::class);\r\n```\r\n\r\nåŸ·è¡Œ Seeder æ™‚æœƒå‘¼å« seeder é¡åˆ¥è£¡é è¨­çš„ run() æ–¹æ³•ã€‚\r\n\r\nåœ¨`PersonTableSeeder.php`ä¸­åŠ å…¥è¦ç”¢ç”Ÿçš„è³‡æ–™ã€‚\r\n\r\n```php=\r\npublic function run()\r\n    {\r\n        DB::table('users')->insert([\r\n            'last_name' => str_random(10),\r\n            'email' => str_random(10).'@gmail.com',\r\n            'password' => bcrypt('secret'),\r\n        ]);\r\n    }\r\n```\r\n\r\nä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡å‹å·¥å»  factory ä¾†å¤§é‡ç”Ÿç”¢è³‡æ–™ã€‚\r\n\r\n```php=\r\nfactory(App\\Person::class, 50)->create();\r\n// ä½¿ç”¨ Person çš„ factory\r\n```\r\n\r\n### åŸ·è¡Œ Seeder\r\n\r\nç”¨`--class`ä¾†æŒ‡å®šç‰¹å®šçš„ Seeder Class\r\n\r\n```cmd\r\nphp artisan db:seed\r\n\r\nphp artisan db:seed --class=UsersTableSeeder\r\n```\r\n\r\n## [Factory](https://learnku.com/docs/laravel/6.x/database-testing/5185)\r\n\r\n> [æ·±å…¥äº†è§£ Faker](https://learnku.com/laravel/t/62386)\r\n\r\n### ç”¢ç”Ÿ Factory æª”æ¡ˆ\r\n\r\n```cmd\r\nphp artisan make:factory PersonFactory --model=Person\r\n```\r\n\r\n`--model=Person`é¸é …ç”¨åœ¨æŒ‡å®š Factory å‰µå»ºçš„ model åç¨±ï¼Œå°‡æœƒç‚ºæŒ‡å®š model ç”¢ç”Ÿ Factory æ–‡ä»¶ã€‚\r\n\r\nåˆ°`/database/factories/PersonFactory.php`ï¼Œè¨­å®šè¦å¡«å……çš„è³‡æ–™æ¬„ä½ã€‚\r\n\r\n```php=\r\n$factory->define(Person::class, function (Faker $faker) {\r\n    return [\r\n        'last_name' => $faker->lastName,\r\n        'email'     => $faker->safeEmail,\r\n        'password'  => $faker->password\r\n    ];\r\n});\r\n```\r\n\r\n### [Faker Formatters](https://github.com/fzaninotto/Faker#formatters)\r\n\r\n- Faker ä½¿ç”¨ä¸­æ–‡\r\n\r\nåœ¨ config\\app.php ä¸‹æ–°å¢ä¸€è¡Œï¼ŒæŒ‡å®š Faker ä½¿ç”¨ zh_TW èªè¨€\r\n\r\n```php=\r\n'faker_locale' => 'zh_TW',\r\n```\r\n","date":"2023-07-18T02:45:07.706Z","matchingLines":["## Migration\r","## [Seed](https://ithelp.ithome.com.tw/articles/10216376)\r","## [Factory](https://learnku.com/docs/laravel/6.x/database-testing/5185)\r"],"tocContent":"- [Laravel Migration \\& Seeder \\& Factory](#laravel-migration--seeder--factory)\r\n  - [Migration](#migration)\r\n    - [ç”¢ç”Ÿ Migration æª”æ¡ˆ](#ç”¢ç”Ÿ-migration-æª”æ¡ˆ)\r\n    - [åŸ·è¡Œ Migrate](#åŸ·è¡Œ-migrate)\r\n    - [é‚„åŸ Migrate](#é‚„åŸ-migrate)\r\n    - [é‡ç½® Migration](#é‡ç½®-migration)\r\n  - [Seed](#seed)\r\n    - [ç”¢ç”Ÿ Seeder æª”æ¡ˆ](#ç”¢ç”Ÿ-seeder-æª”æ¡ˆ)\r\n    - [åŸ·è¡Œ Seeder](#åŸ·è¡Œ-seeder)\r\n  - [Factory](#factory)\r\n    - [ç”¢ç”Ÿ Factory æª”æ¡ˆ](#ç”¢ç”Ÿ-factory-æª”æ¡ˆ)\r\n    - [Faker Formatters](#faker-formatters)"},{"name":"Laravel Eloquent ORM.md","content":"# Laravel Eloquent ORM\r\n\r\n>\r\n\r\n## models\r\n\r\n### å»ºç«‹ Model\r\n\r\n```php\r\nphp artisan make:model New\r\n```\r\n\r\nå»ºç«‹ Model åŒæ™‚å»ºç«‹èˆ‡å…¶ç›¸é—œçš„ class\r\n\r\n```php\r\n// migration\r\nphp artisan make:model New -m\r\n\r\n// factory\r\nphp artisan make:model New -f\r\n\r\n// seed\r\nphp artisan make:model New -s\r\n\r\n// controller\r\nphp artisan make:model New -c\r\n\r\n// åŒæ™‚å»ºç«‹å¤šå€‹class\r\nphp artisan make:model New -mfsc\r\n\r\n```\r\n\r\n### åŸºæœ¬å±¬æ€§\r\n\r\n```php\r\nclass UserInfo extends Model\r\n{\r\n    protected $table = 'user_data';  // è³‡æ–™è¡¨åç¨±\r\n\r\n    protected $primaryKey = 'id';   // ä¸»éµ\r\n\r\n    public $timestamps = false;\r\n\r\n    protected $fillable = [\r\n        'userId',\r\n        'userName',\r\n        'account',\r\n        'password',\r\n        'email'\r\n    ];\r\n\r\n    protected $casts = [\r\n        'is_admin' => 'boolean',\r\n    ];\r\n}\r\n```\r\n\r\n- public $timestamps = false // é—œé–‰æ™‚é–“æˆ³è¨˜ï¼Œé è¨­ç‚ºé–‹å•Ÿ\r\n- æ‰¹é‡è³¦å€¼ï¼šèª¿ç”¨ create() update() æ™‚ï¼Œå¯ä»¥å¤§é‡æ–°å¢ã€ä¿®æ”¹çš„æ¬„ä½ã€‚è‹¥æ²’æœ‰æ·»åŠ é€™å€‹å±¬æ€§ï¼Œæ–°å¢ä¿®æ”¹çš„å‹•ä½œå°‡ç„¡æ³•å¯¦ç¾ã€‚\r\n\r\n  - $fillable è¨­å®šå¯ä»¥å¤§é‡æ–°å¢çš„æ¬„ä½ï¼ˆç™½åå–®ï¼‰\r\n\r\n    ```php\r\n    protected $fillable = ['userId','userName','account','pw','email'];\r\n    ```\r\n\r\n  - $guarded è¨­å®šéœ€è¦è¢«ä¿è­·çš„æ¬„ä½ï¼ˆé»‘åå–®ï¼‰\r\n\r\n    ```php\r\n    protected $guarded = [â€˜uuidâ€™, â€˜pwâ€™];\r\n    ```\r\n\r\n- å±¬æ€§é¡å‹è½‰æ›ï¼š`$casts` å¯ä»¥å°‡å±¬æ€§è½‰æ›ç‚ºæŒ‡å®šçš„é¡å‹ï¼Œæ”¯æ´çš„é¡å‹æœ‰\r\n  - `integer`\r\n  - `real`\r\n  - `float`\r\n  - `double`\r\n  - `decimal:<digits>` éœ€å®šç¾©å°æ•¸ä½çš„å€‹æ•¸ï¼Œå¦‚ `decimal:2`\r\n  - `string`\r\n  - `boolean`\r\n  - `object`\r\n  - `array`\r\n  - `collection`\r\n  - `date`\r\n  - `datetime`\r\n  - `timestamps`\r\n\r\n## é—œè¯\r\n\r\n### å¤šå‹æ…‹é—œè¯\r\n\r\n> [åƒè€ƒè³‡æ–™](https://laravelacademy.org/post/9725)\r\n>\r\n> å¤šå‹æ…‹é—œè¯å¯ä»¥è®“ä¸€å¼µè¡¨åŒæ™‚é—œé€£åˆ°å…©å¼µä»¥ä¸Šçš„è³‡æ–™è¡¨\r\n>\r\n> å„ªé»:\r\n> å¯ä»¥åˆä¸€ç®¡ç†è³‡é¡é¡ä¼¼çš„è³‡æ–™çµæ§‹èˆ‡è™•ç†é‚è¼¯\r\n> ç¼ºé»:\r\n> è€¦åˆæé«˜ï¼Œè®Šå‹•é‚è¼¯æ™‚å®¹æ˜“å½±éŸ¿åˆ°æŸä¸€æ–¹çš„æ“ä½œ\r\n\r\nå‡è¨­æˆ‘å€‘æœ‰ user è·Ÿ post å…©ç¨®è³‡æ–™ï¼Œè€Œä»–å€‘å„è‡ªæœ‰æ‰€å±¬çš„ image è³‡æ–™è¡¨\r\n\r\n| users |\r\n| :---: |\r\n|  id   |\r\n| name  |\r\n\r\n| user_images |\r\n| :---------: |\r\n|     id      |\r\n|   user_id   |\r\n|     url     |\r\n\r\n| posts |\r\n| :---: |\r\n|  id   |\r\n| name  |\r\n\r\n| post_images |\r\n| :---------: |\r\n|     id      |\r\n|   post_id   |\r\n|     url     |\r\n\r\nå¦‚æœ image çš„è³‡æ–™çµæ§‹å’Œè™•ç†é‚è¼¯ç›¸ä¼¼ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤šå‹æ…‹é—œè¯ï¼Œå°‡è¡¨å–®åˆæˆä¸€å¼µ\r\n\r\n| users |\r\n| :---: |\r\n|  id   |\r\n| name  |\r\n\r\n| posts |\r\n| :---: |\r\n|  id   |\r\n| name  |\r\n\r\n|     images      |\r\n| :-------------: |\r\n|       id        |\r\n| imaginable_type |\r\n|  imaginable_id  |\r\n|       url       |\r\n\r\n- imaginable_id : é—œè¯çš„ä¸»éµå€¼\r\n- imaginable_type : æŒ‡å®šé€™ç­†è³‡æ–™æ˜¯é—œè¯ users è³‡æ–™è¡¨é‚„æ˜¯ posts è³‡æ–™è¡¨ï¼Œæ¬„å…§å„²å­˜çš„æ˜¯é¡åˆ¥åç¨±ï¼Œå‹æ…‹ç‚ºå­—ä¸²ï¼Œå¦‚ï¼š'App\\Models\\User' 'App\\Models\\Post'\r\n\r\n#### å¤šå½¢ä¸€å°ä¸€é—œè¯\r\n\r\n```php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Image extends Model\r\n{\r\n    public function imaginable()\r\n    {\r\n        return $this->morphTo();\r\n    }\r\n}\r\n\r\nclass Post extends Model\r\n{\r\n\r\n    public function image()\r\n    {\r\n        return $this->morphOne(Image::class, 'imaginable');\r\n    }\r\n}\r\n\r\nclass User extends Model\r\n{\r\n\r\n    public function image()\r\n    {\r\n        return $this->morphOne(Image::class, 'imaginable');\r\n    }\r\n}\r\n```\r\n\r\n- `morphOne`: hasOne çš„å¤šå‹æ…‹ç‰ˆæœ¬\r\n\r\n  å’Œ hasOne ç›¸æ¯”ï¼Œæ¨™é¡åˆ¥å¾Œé¢å¤šäº†ä¸€å€‹ name åƒæ•¸ imaginableï¼ŒEloquent æœƒæ ¹æ“šé€™å€‹ name é è¨­ç›®æ¨™è¡¨å–®ä¸Šçš„æŸ¥è©¢æ¬„ä½ï¼Œä»¥ imaginable ç‚ºä¾‹çš„è©±å°±æ˜¯æŸ¥è©¢ imaginable_type è·Ÿ imaginable_id\r\n\r\n  - è‡ªè¨‚ç›®æ¨™çš„æŸ¥è©¢æ¬„ä½åç¨±\r\n\r\n    ```php\r\n    // morphOne(ç›®æ¨™è¡¨å–®åç¨±ï¼Œå¤šå½¢åç¨±ï¼Œç›®æ¨™çš„å‹åˆ¥æ¬„ä½åç¨±ï¼Œç›®æ¨™çš„å¤–éµæ¬„ä½åç¨±ï¼Œè‡ªå·±çš„é—œè¯éµ)\r\n     $this->morphOne(Image::class, 'imaginable','imaginable_type',  'imaginable_id','id');\r\n    ```\r\n\r\n- `morphTo`: belongsTo çš„å¤šå‹æ…‹ç‰ˆæœ¬\r\n\r\n  ```php\r\n  // ä½¿ç”¨æ™‚è¦æ³¨æ„å‡½å¼çš„åç¨±\r\n  public function imaginable()\r\n  {\r\n      return $this->morphTo();\r\n  }\r\n  ```\r\n\r\n  å¦‚æœæ²’æœ‰å¸¶å…¥åƒæ•¸çš„è©±é è¨­æœƒç”¨å‡½å¼çš„åç¨±ç”¢å‡ºé è¨­åç¨±ï¼Œåƒé€™è£¡çš„å‡½å¼åç¨±æ˜¯ imaginable ï¼Œé‚£æŸ¥è©¢æ™‚å°±æœƒä»¥å‹åˆ¥æ¬„ä½ imaginable_type æŸ¥å°æ‡‰çš„è³‡æ–™è¡¨ï¼Œä»¥åŠéµå€¼æ¬„ä½ imaginable_id æŸ¥è³‡æ–™ã€‚\r\n\r\n  - è‡ªè¨‚é è¨­åç¨±\r\n\r\n    ```php\r\n    $this->morphTo('imaginable');\r\n    ```\r\n\r\n  - è‡ªè¨‚æŸ¥è©¢æ¬„ä½çš„åç¨±\r\n\r\n    ```php\r\n    // morphOne(å¤šå½¢åç¨±ï¼Œå‹åˆ¥æ¬„ä½åç¨±ï¼Œå¤–éµæ¬„ä½åç¨±)\r\n    $this->morphTo('imaginable'ï¼Œ'imaginable_type','imaginable_id');\r\n    ```\r\n\r\n#### å¤šå‹ä¸€å°å¤šé—œè¯\r\n\r\nå’Œä¸€å°ä¸€çš„é—œè¯å·®ä¸å¤šï¼Œå·®åˆ¥åœ¨ morphOne æ”¹æˆ morphManyï¼ŒæŸ¥è©¢å¾—åˆ°çš„è³‡æ–™ä¸æ˜¯ä¸€ç­†è€Œæ˜¯ä¸€çµ„\r\n\r\n```php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Image extends Model\r\n{\r\n    public function imaginable()\r\n    {\r\n        return $this->morphTo();\r\n    }\r\n}\r\n\r\nclass Post extends Model\r\n{\r\n\r\n    public function image()\r\n    {\r\n        return $this->morphMany(Image::class, 'imaginable');\r\n    }\r\n}\r\n\r\nclass User extends Model\r\n{\r\n\r\n    public function image()\r\n    {\r\n        return $this->morphMany(Image::class, 'imaginable');\r\n    }\r\n}\r\n```\r\n\r\n#### å¤šå‹å¤šå°å¤šé—œè¯\r\n\r\n> å’Œæ™®é€šå¤šå°å¤šé—œè¯ç›¸æ¯”ï¼Œä¸­ä»‹è¡¨ç‚ºå¤šå‹æ…‹\r\n\r\nå½±ç‰‡å’Œæ–‡ç« æœ‰ç›¸åŒçš„ tagï¼Œä¸€ç¯‡æ–‡ç« å’Œå½±ç‰‡åŒæ™‚æœƒæœ‰å¤šå€‹ tagï¼Œä¸€å€‹ tag ä¹ŸæœƒåŒæ™‚é—œé€£åˆ°å¤šå€‹å½±ç‰‡æˆ–æ–‡ç« \r\n| videos |\r\n| :----: |\r\n| id |\r\n| name |\r\n\r\n| posts |\r\n| :---: |\r\n|  id   |\r\n| name  |\r\n\r\n|   taggable    |\r\n| :-----------: |\r\n|      id       |\r\n|    tag_id     |\r\n| taggable_type |\r\n|  taggable_id  |\r\n\r\n| tags |\r\n| :--: |\r\n|  id  |\r\n| name |\r\n\r\nå¤šå‹çš„ä¸€æ–¹ï¼Œæœƒç”¨ morphToMany æ–¹æ³•\r\n\r\n```php\r\n<?php\r\n\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Video extends Model\r\n{\r\n    /**\r\n     * Get all of the tags for the post.\r\n     */\r\n    public function tags()\r\n    {\r\n        return $this->morphToMany(Tag::class, 'taggable');\r\n    }\r\n}\r\n\r\nclass Post extends Model\r\n{\r\n    /**\r\n     * Get all of the tags for the post.\r\n     */\r\n    public function tags()\r\n    {\r\n        return $this->morphToMany(Tag::class, 'taggable');\r\n    }\r\n}\r\n```\r\n\r\nåå‘é—œè¯æœƒä½¿ç”¨ morphedByMany æ–¹æ³•\r\n\r\n```php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Tag extends Model\r\n{\r\n    /**\r\n     * Get all of the posts that are assigned this tag.\r\n     */\r\n    public function posts()\r\n    {\r\n        return $this->morphedByMany(Post::class, 'taggable');\r\n    }\r\n\r\n    /**\r\n     * Get all of the videos that are assigned this tag.\r\n     */\r\n    public function videos()\r\n    {\r\n        return $this->morphedByMany(Video::class, 'taggable');\r\n    }\r\n}\r\n```\r\n\r\n- `morphToMany`: belongsToMany çš„å¤šå‹æ…‹ç‰ˆ\r\n- `morphedByMany`: å¤šå°å¤šçš„åå‘å¤šå‹é—œè¯\r\n\r\n  éœ€è¦å¸¶å¤šå‹çš„åç¨±åƒæ•¸æ‰èƒ½æŸ¥è©¢è³‡æ–™\r\n\r\n  ```php\r\n  // morphOne(ç›®æ¨™è¡¨å–®åç¨±ï¼Œå¤šå½¢åç¨±)\r\n   $this->morphToMany(Tag::class, 'taggable');\r\n  ```\r\n\r\n  - è‡ªè¨‚åç¨±\r\n\r\n    ```php\r\n    public function morphedByMany(\r\n      $related,                 // ç›®æ¨™è¡¨å–®åç¨±\r\n      $name,                    // å¤šå‹åç¨±\r\n      $table = null,            // ä¸­ä»‹è¡¨å–®åç¨±\r\n      $foreignPivotKey = null,  // ä¸­ä»‹è¡¨å–®ä¸Šåƒç…§è‡ªå·±çš„å¤–éµ\r\n      $relatedPivotKey = null,  // ä¸­ä»‹è¡¨å–®ä¸Šåƒç…§ç›®æ¨™çš„å¤–éµ\r\n      $parentKey = null,        // ç›®æ¨™çš„é—œè¯éµ\r\n      $relatedKey = null        // è‡ªå·±çš„é—œè¯éµ\r\n    )\r\n\r\n    $this->morphToMany(\r\n      Tag::class, 'taggable','taggable','taggable_id','tag_id','id','id'\r\n    );\r\n    ```\r\n\r\n#### è‡ªè¨‚å¤šå‹å‹åˆ¥\r\n\r\né è¨­ laravel æœƒä½¿ç”¨é¡åˆ¥çš„å®Œæ•´åç¨±ä¾†å„²å­˜ model typeã€‚\r\n\r\nå¯ä»¥é€éè‡ªè¨‚å¤šå‹å‹åˆ¥ï¼Œä½¿ç”¨ç°¡å–®çš„å­—ä¸²ä½œç‚º model typeï¼Œå°‡é€™äº›å€¼å¾å°ˆæ¡ˆçš„å…§éƒ¨çµæ§‹ä¸­è§£è€¦å‡ºä¾†ã€‚\r\n\r\nå¦‚æ­¤ä¸€ä¾†ï¼Œå³ä½¿ä¿®æ”¹ model åç¨±ï¼Œè³‡æ–™åº«ä¸­çš„å¤šå‹ type æ¬„ä½ä¹Ÿæœƒç¹¼çºŒæœ‰æ•ˆã€‚\r\n\r\n- ä¾‹å¦‚ï¼š  \r\n  Commit Model å¯ä»¥éš¸å±¬æ–¼ Post Model æˆ– Video Modelã€‚å› æ­¤ï¼Œcomments è³‡æ–™è¡¨ä¸­çš„ commentable_type æ¬„ä½åˆ†åˆ¥æœƒè¨˜è¼‰ App\\Models\\Post æˆ– App\\Models\\Videoã€‚\r\n\r\n  æ­¤æ™‚å¯ä»¥åœ¨ `App\\Providers\\AppServiceProvider` ä¸­çš„ `boot` æ–¹æ³•ï¼Œå‘¼å«`enforceMorphMap`æ–¹æ³•ã€‚å°‡ post åŠ video ç­‰ç°¡å–®å­—ä¸²ä½œç‚º model typeã€‚\r\n\r\n```php\r\nuse Illuminate\\Database\\Eloquent\\Relations\\Relation;\r\n\r\nRelation::enforceMorphMap([\r\n    'post' => 'App\\Models\\Post',\r\n    'video' => 'App\\Models\\Video',\r\n]);\r\n```\r\n\r\n## Laravel ORM å°‡è³‡æ–™å­˜è‡³è³‡æ–™åº«\r\n\r\n### save\r\n\r\nå°‡è¡¨æ ¼ç¬¬ä¸€ç­†è³‡æ–™çš„åå­—ï¼Œæ”¹æˆå°è¯\r\n\r\n```php\r\nUser::find(1)->save(['name' => 'å°è¯']);\r\n```\r\n\r\nä¹Ÿå¯ä»¥ä¸€æ¬¡ç·¨è¼¯å¤šå€‹æ¬„ä½\r\n\r\n```php\r\nUser::find(1)->save([\r\n  'name'=>'å°è¯',\r\n  'email'=>'flower@gmail.com'\r\n  'sex'=>'male'\r\n]);\r\n```\r\n\r\n### ä¿®æ”¹å¤šå°å¤šä¸­é–“è¡¨\r\n\r\n- articles\r\n\r\n| id  | article_name |\r\n| :-: | :----------: |\r\n|  1  |   article1   |\r\n|  2  |   article2   |\r\n|  3  |   article3   |\r\n|  4  |   article5   |\r\n\r\n- tags\r\n\r\n| id  | tag_name |\r\n| :-: | :------: |\r\n|  1  |   tech   |\r\n|  2  |  music   |\r\n|  3  |   art    |\r\n|  4  |   food   |\r\n\r\n- article_tag\r\n\r\n| article_id | tag_id |\r\n| :--------: | :----: |\r\n|     1      |   2    |\r\n|     1      |   3    |\r\n|     1      |   4    |\r\n|     3      |   4    |\r\n\r\nå»ºç«‹å’Œæ§åˆ¶å¤šå°å¤šé—œä¿‚çš„æ–¹æ³•\r\n\r\n- å»ºç«‹:\r\n\r\n  - `attach()`\r\n\r\n    ```php\r\n    // id=3 çš„æ–‡ç« åŸæœ‰çš„æ¨™ç±¤[4]\r\n    Article::find(3)->tags()->attach([1,2]);\r\n    // id=3 çš„æ–‡ç« åŠ å…¥æ¨™ç±¤[1, 2]\r\n    // id=3 çš„æ–‡ç« çš„æ¨™ç±¤æœ‰[1, 2, 4]\r\n    ```\r\n\r\n  - `save()`\r\n\r\n    ```php\r\n    Article::find(3)->tags()->saveMany([\r\n        Tag::find(1),\r\n    Tag::find(2)\r\n    ]);\r\n    // saveè¼¸å…¥çš„é¡å‹é ˆç‚ºmodel\r\n    // å¤šå€‹æ™‚è¦ç”¨saveMany\r\n    ```\r\n\r\n    |   æ–¹æ³•   | å–®å€‹ id | å¤šå€‹ id | å–®å€‹ model |   å¤šå€‹ model    |\r\n    | :------: | :-----: | :-----: | :--------: | :-------------: |\r\n    | attach() |    V    |    V    |     V      |                 |\r\n    |  sync()  |    V    |    V    |     V      |                 |\r\n    |  save()  |         |         |     V      | è¦ç”¨ saveMany() |\r\n\r\n- åˆªå»: `detach()`\r\n\r\n  ```php\r\n  $article = Article::find(1);\r\n\r\n  // å¾æ–‡ç« ä¸Šç§»é™¤æŒ‡å®štag\r\n  $article->tags()->detach($tag_id);\r\n\r\n  // ç§»é™¤æ–‡ç« æ‰€æœ‰tag\r\n  $article->tags()->detach();\r\n  ```\r\n\r\n- åŒæ­¥\r\n\r\n  - `sync`\r\n\r\n    ```php\r\n    // æ›´æ–°æœ‰å‚³å…¥å€¼çš„è©²ç­†è³‡æ–™ï¼Œå…¶ä»–è³‡æ–™æœƒè¢«åˆªé™¤\r\n    $user->roles()->sync([1, 2, 3]);\r\n\r\n    // é€éidå‚³å…¥é¡å¤–çš„å€¼åˆ°ä¸­é–“è¡¨\r\n    $user->roles()->sync([1 => ['expires' => true], 2, 3]);\r\n    ```\r\n\r\n  - `syncWithoutDetaching`\r\n\r\n    ```php\r\n    // æ›´æ–°æœ‰å‚³å…¥å€¼çš„è©²ç­†è³‡æ–™ï¼Œä¸¦ä¿ç•™åŸæœ‰çš„è³‡æ–™\r\n    $user->roles()->syncWithoutDetaching([1, 2, 3]);\r\n    ```\r\n\r\n  - `updateExistingPivot`\r\n\r\n    ```php\r\n    // æ›´æ–°ä¸€ç­†å·²å­˜åœ¨çš„è³‡æ–™ï¼Œæ¥å—ä¸­é–“è¡¨çš„å¤–éµå’Œè¦æ›´æ–°çš„å€¼é€²è¡Œæ›´æ–°\r\n    $user = App\\Models\\User::find(1);\r\n\r\n    $user->roles()->updateExistingPivot($roleId, $attributes);\r\n    ```\r\n\r\n- åˆ‡æ›: `toggle()`\r\n\r\n  ```php\r\n  $article->tags()->toggle([1, 2 ,3]);\r\n  // ç”¨ä¾†åˆ‡æ›å‚³å…¥idçš„é™„åŠ ç‹€æ…‹ï¼Œå¦‚æœå‚³å…¥çš„idç›®å‰å·²ç¶“è¢«é™„åŠ ï¼Œä»–å°‡æœƒè¢«å¸é™¤ã€‚\r\n  // è‹¥å·²ç¶“è¢«å¸é™¤ï¼Œå°‡æœƒè¢«é™„åŠ \r\n  ```\r\n\r\n## ORM N+1\r\n\r\n> ç´€éŒ„ ORM å°è³‡æ–™åº«çš„æŸ¥è©¢èªæ³•\r\n>\r\n> ```php\r\n> // é–‹å§‹ç´€éŒ„\r\n> DB::enableQueryLog();\r\n>\r\n> // çµæŸä¸¦å°å‡º\r\n> dd(DB::getQueryLog());\r\n> ```\r\n\r\n### ä»€éº¼æ˜¯ N+1\r\n\r\nè³‡æ–™è¡¨ä¸­æœ‰é—œè¯é—œä¿‚ï¼Œä»¥è«–å£‡æ–‡ç« ç‚ºä¾‹ã€‚\r\n\r\n- ä¸€åä½¿ç”¨è€…ï¼Œå¯ä»¥ç™¼å¸ƒå¤šç¯‡æ–‡ç« ã€‚\r\n- ä¸€ç¯‡æ–‡ç« åªå±¬æ–¼ä¸€åä½¿ç”¨è€…ã€‚\r\n\r\nä½¿ç”¨è€…èˆ‡æ–‡ç« çš„é—œä¿‚ç‚ºä¸€å°å¤šã€‚ç•¶æˆ‘å€‘è¦å–å¾—å¤šåä½¿ç”¨è€…ï¼Œä¸¦åŒæ™‚å–å¾—é€™äº›ä½¿ç”¨è€…éå»ç™¼å¸ƒçš„æ‰€æœ‰æ–‡ç« æ™‚ï¼š\r\n\r\n```php\r\nuse App\\Models\\User;\r\nuse Illuminate\\Support\\Facades\\Route;\r\n\r\nRoute::get('lazy-loading', function () {\r\n  // é–‹å•Ÿ Query Log\r\n  DB::enableQueryLog();\r\n\r\n  // å–å¾—æ‰€æœ‰ä½¿ç”¨è€…\r\n  $users = User::get();\r\n\r\n  // ä½¿ç”¨è¿´åœˆå–å¾—æ¯ä¸€ä½ä½¿ç”¨è€…æ‰€ç™¼å¸ƒçš„æ–‡ç« \r\n  foreach ($users as $user) {\r\n      $posts = $user->posts;\r\n      dump($posts->toArray());\r\n  }\r\n\r\n  // dump å°è³‡æ–™åº«çš„æŸ¥è©¢èªæ³•\r\n  dump(DB::getQueryLog());\r\n});\r\n```\r\n\r\né€™æ™‚å°±æœƒç”¢ç”Ÿ n+1 çš„å•é¡Œã€‚\r\n\r\nç¬¬ä¸€ç­†æŸ¥è©¢æ˜¯å–å¾—æ‰€æœ‰ç”¨æˆ¶ã€‚\r\n\r\n```php\r\n// å–å¾—æ‰€æœ‰ä½¿ç”¨è€…\r\n$users = User::get();\r\n```\r\n\r\næ¥ä¸‹ä¾†æ¯ä¸€ç­†æ˜¯å–å¾—å„ç”¨æˆ¶ç™¼å¸ƒçš„æ–‡ç« ã€‚\r\n\r\n```php\r\n// ä½¿ç”¨è¿´åœˆå–å¾—æ¯ä¸€ä½ä½¿ç”¨è€…æ‰€ç™¼å¸ƒçš„æ–‡ç« \r\nforeach ($users as $user) {\r\n  $posts = $user->posts;\r\n}\r\n```\r\n\r\n### è§£æ±º N+1 çš„å•é¡Œ\r\n\r\nå¯ä»¥ä½¿ç”¨ laravel æ‰€æä¾›çš„é åŠ è¼‰åŠŸèƒ½ `with()`\r\n\r\n```php\r\nRoute::get('lazy-loading', function () {\r\n  // é–‹å•Ÿ Query Log\r\n  DB::enableQueryLog();\r\n\r\n  // å–å¾—æ‰€æœ‰ä½¿ç”¨è€…ï¼Œä¸¦é å…ˆåŠ è¼‰ Post çš„è³‡æ–™\r\n  // é€™è£¡çš„ 'posts' å°æ‡‰åˆ° User Model ä¸­çš„ posts()\r\n  $users = User::with('posts')->get();\r\n\r\n  // ä½¿ç”¨è¿´åœˆå–å¾—æ¯ä¸€ä½ä½¿ç”¨è€…æ‰€ç™¼å¸ƒçš„æ–‡ç« \r\n  foreach ($users as $user) {\r\n      $posts = $user->posts;\r\n      dump($posts->toArray());\r\n  }\r\n\r\n  // dump å°è³‡æ–™åº«çš„æŸ¥è©¢èªæ³•\r\n  dump(DB::getQueryLog());\r\n});\r\n```\r\n\r\né€™æ™‚åƒ…åŸ·è¡Œäº†å…©å€‹æŸ¥è©¢\r\n\r\n```sql\r\nselect * from users\r\n\r\nselect * from posts where id in (1, 2, 3, 4, 5, ...)\r\n```\r\n\r\nå¯ä»¥æŒ‡å®šä¸éœ€è¦æŸäº›è³‡æ–™\r\n\r\n```php\r\n$users = User::without('posts')->get();\r\n```\r\n\r\næˆ–æ˜¯åªéœ€è¦å…¶ä»–è³‡æ–™\r\n\r\n```php\r\n$users = User::withOnly('loginRecords')->get();\r\n```\r\n\r\nä¹Ÿå¯ä»¥åŠ è¼‰å¤šå€‹é—œè¯\r\n\r\n```php\r\n$users = User::with(['posts', 'commit'])->get();\r\n```\r\n\r\n## åºåˆ—åŒ–\r\n\r\n> å»ºæ§‹ JSON API æ™‚ï¼Œé‡å° model åŠå…¶å–å¾—é—œé€£çš„å€¼ï¼Œå°‡å…¶è½‰åŒ–ç‚º array æˆ–æ˜¯ JSON\r\n\r\n### å°‡ collection åºåˆ—åŒ–\r\n\r\n#### array\r\n\r\n- `toArray()` æ‰€æœ‰çš„å±¬æ€§å’Œé—œè¯(åŒ…æ‹¬é—œè¯çš„é—œè¯)ï¼Œç•¶å°‡è½‰åŒ–ç‚ºé™£åˆ—ã€‚\r\n\r\n  ```php\r\n  $user = App\\Models\\User::with('roles')->first();\r\n\r\n  return $user->toArray();\r\n\r\n  // å°‡æ•´å€‹ model collection åºåˆ—åŒ–\r\n  $users = App\\Models\\User::all();\r\n\r\n  return $users->toArray();\r\n  ```\r\n\r\n- `attributesToArray()` åƒ…å°‡ model çš„å±¬æ€§è½‰æ›ç‚ºé™£åˆ—\r\n\r\n  ```php\r\n  $user = App\\Models\\User::first();\r\n\r\n  return $user->attributesToArray();\r\n  ```\r\n\r\n#### JSON\r\n\r\n- `toJson` æ‰€æœ‰çš„å±¬æ€§å’Œé—œè¯(åŒ…æ‹¬é—œè¯çš„é—œè¯)ï¼Œç•¶å°‡è½‰åŒ–ç‚º JSONã€‚\r\n\r\n  ```php\r\n  $user = App\\Models\\User::find(1);\r\n\r\n  return $user->toJson();\r\n\r\n  // æŒ‡å®šPHPæ”¯æ´çš„JSONç·¨ç¢¼é¸é …\r\n  return $user->toJson(JSON_PRETTY_PRINT);\r\n  ```\r\n\r\n- å°‡ model æˆ– collection è½‰ç‚ºå­—ä¸²æ™‚ï¼Œæœƒè‡ªå‹•èª¿ç”¨`toJson()`ï¼Œå› æ­¤å¯ä»¥æ‡‰ç”¨åœ¨ route æˆ– controller ä¸­ç›´æ¥è¿”å›ã€‚\r\n\r\n  ```php\r\n  Route::get('users', function () {\r\n      return App\\Models\\User::all();\r\n  });\r\n\r\n  $user = App\\Models\\User::find(1);\r\n\r\n  return (string) $user;\r\n  ```\r\n\r\n- é—œè¯å±¬æ€§ï¼šç•¶ model è¢«è½‰åŒ–ç‚º JSON çš„æ™‚å€™ï¼Œä»–åŠ è¼‰çš„é—œè¯é—œä¿‚ä¹Ÿå°‡è‡ªå‹•è½‰åŒ–ç‚º JSON å°è±¡è¢«åŒ…å«é€²ä¾†ï¼ŒåŒæ™‚é€éå°é§å³°å®šç¾©çš„é—œè¯æ–¹å¼ï¼Œé—œè¯çš„ JSON å±¬æ€§å°‡æœƒæ˜¯è›‡åº•å¼å‘½åã€‚\r\n\r\n### éš±è— JSON å±¬æ€§\r\n\r\n> æœ‰æ™‚éœ€è¦å°‡ model array æˆ– JSON ä¸­æŸäº›å±¬æ€§é€²è¡Œéš±è—ï¼Œå¦‚ï¼šå¯†ç¢¼ã€‚\r\n\r\n- `$hidden`\r\n\r\n  ```php\r\n  namespace App\\Models;\r\n\r\n  use Illuminate\\Database\\Eloquent\\Model;\r\n\r\n  class User extends Model\r\n  {\r\n      /**\r\n       * æ•°ç»„ä¸­çš„å±æ€§ä¼šè¢«éšè—\r\n       *\r\n       * @var array\r\n       */\r\n      protected $hidden = ['password'];\r\n  }\r\n  ```\r\n\r\n- `$visible` å®šç¾©ä¸€å€‹ model array å’Œ JSON å¯è¦‹çš„ç™½åå–®ã€‚ç¶“éå®šç¾©å¾Œï¼Œåºåˆ—åŒ–æ­¤ model ä¸æœƒå‡ºç¾ç™½åå–®ä»¥å¤–çš„å±¬æ€§ã€‚\r\n\r\n  ```php\r\n  namespace App\\Models;\r\n\r\n  use Illuminate\\Database\\Eloquent\\Model;\r\n\r\n  class User extends Model\r\n  {\r\n      /**\r\n       * æ•°ç»„ä¸­çš„å±æ€§ä¼šè¢«å±•ç¤º\r\n       *\r\n       * @var array\r\n       */\r\n      protected $visible = ['first_name', 'last_name'];\r\n  }\r\n  ```\r\n\r\n#### è‡¨æ™‚ä¿®æ”¹å±¬æ€§å¯è¦‹åº¦\r\n\r\n- `makeVisible`\r\n\r\n  ```php\r\n  return $user->makeVisitable('attribute')->toArray();\r\n  ```\r\n\r\n- `makeHidden`\r\n\r\n  ```php\r\n  return $user->makeHidden('attribute')->toArray();\r\n  ```\r\n\r\n### è¿½åŠ  JSON å€¼\r\n\r\n> åœ¨ array æˆ–æ˜¯ JSON ä¸­æ·»åŠ ä¸€äº›ä¸å­˜åœ¨æ–¼è³‡æ–™åº«çš„æ¬„ä½ã€‚\r\n\r\nå®šç¾© `getAttribute`\r\n\r\n```php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass User extends Model\r\n{\r\n    /**\r\n     * Get the administrator flag for the user.\r\n     *\r\n     * @return bool\r\n     */\r\n    public function getIsAdminAttribute()\r\n    {\r\n        return $this->attributes['admin'] === 'yes';\r\n    }\r\n}\r\n```\r\n\r\nç„¶å¾Œåœ¨ model ä¸­å®£å‘Šå±¬æ€§ `appends`ã€‚\r\n\r\n```php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass User extends Model\r\n{\r\n    /**\r\n     * The accessors to append to the model's array form.\r\n     *\r\n     * @var array\r\n     */\r\n    protected $appends = ['is_admin'];\r\n}\r\n```\r\n\r\n- **Notice:** åœ¨`getAttribute`ä¸­ä½¿ç”¨é§å³°å‘½åï¼Œä½†åœ¨å®£å‘Šå±¬æ€§æ™‚ï¼Œé€šå¸¸ä»¥è›‡åº•å¼å‘½åã€‚\r\n\r\nå®£å‘Š `append` è¿½åŠ å±¬æ€§å¾Œï¼Œå…¶å°‡æœƒè¢«åŒ…å«åœ¨ model array å’Œ JSON ä¸­ã€‚è¿½åŠ å±¬æ€§ä¹Ÿæœƒéµå¾ª model å®£å‘Šçš„`visible`åŠ`hidden`å±¬æ€§ã€‚\r\n\r\n#### è‡¨æ™‚è¿½åŠ å±¬æ€§\r\n\r\nå¯ä»¥åœ¨å–®ä¸€ model å¯¦ä¾‹ï¼Œä½¿ç”¨`append`æ–¹æ³•è˜­è¿½åŠ å±¬æ€§ã€‚æˆ–è€…ä½¿ç”¨`setAppends`æ–¹æ³•ä¾†é‡å¯«è¿½åŠ å±¬æ€§çš„é™£åˆ—ã€‚\r\n\r\n```php\r\nreturn $user->append('is_admin')->toArray();\r\n\r\n// é‡å¯«æ•´å€‹è¿½åŠ å±¬æ€§çš„é™£åˆ—\r\nreturn $user->setAppends(['is_admin'])->toArray();\r\n```\r\n\r\n### æ—¥æœŸåºåˆ—åŒ–\r\n\r\n- `serializeDate` æ­¤æ–¹æ³•å¯è‡ªè¨‚é è¨­çš„æ—¥æœŸåºåˆ—åŒ–æ ¼å¼\r\n\r\n```php\r\n/**\r\n * ç‚ºarray / JSON åºåˆ—åŒ–æº–å‚™ä¸€å€‹æ—¥æœŸ\r\n *\r\n * @param  \\DateTimeInterface  $date\r\n * @return string\r\n */\r\nprotected function serializeDate(DateTimeInterface $date)\r\n{\r\n    return $date->format('Y-m-d');\r\n}\r\n```\r\n\r\n#### è‡ªè¨‚ä»»æ„å±¬æ€§çš„æ—¥æœŸæ ¼å¼\r\n\r\nå¯ä»¥åœ¨ Eloquent å®£å‘Šå±¬æ€§è½‰æ›ï¼Œå–®ç¨ç‚ºè³‡æ–™åº«ä¸­ç‚ºæ—¥æœŸå±¬æ€§çš„æ¬„ä½å®šç¾©å…¶æ ¼å¼\r\n\r\n```php\r\nprotected $casts = [\r\n    'birthday' => 'date:Y-m-d',\r\n    'joined_at' => 'datetime:Y-m-d H:00',\r\n];\r\n```\r\n\r\n## åˆªé™¤\r\n\r\n### æ™®é€šåˆªé™¤\r\n\r\n```php\r\n$contact = Contact::find(5);\r\n$contact->delete();\r\n```\r\n\r\né€é id åˆªé™¤\r\n\r\n```php\r\nContact::destroy(1);\r\n// or\r\nContact::destroy([1, 5, 7]);\r\n```\r\n\r\nåˆªé™¤æŸ¥è©¢çµæœ\r\n\r\n```php\r\nContact::where('updated_at', '<', now()->subYear())->delete();\r\n```\r\n\r\n### è»Ÿåˆªé™¤\r\n\r\n> é€éåœ¨è³‡æ–™è¡¨ä¸­å¢åŠ ä¸€å€‹ delete_at çš„æ¬„ä½ï¼Œä¾†æ¨™è¨˜è¦åˆªé™¤çš„è³‡æ–™ï¼Œè€Œä¸æ˜¯ç›´æ¥å°‡è³‡æ–™åˆªé™¤ã€‚\r\n>\r\n> å„ªé»ï¼šåˆªé™¤çš„è³‡æ–™å¯ä»¥è¢«å¾©åŸã€å¯ä»¥è¨˜éŒ„è³‡æ–™åˆªé™¤çš„æ™‚é–“é»ã€‚\r\n>\r\n> ç¼ºé»ï¼šä¸­é–“è¡¨ç„¡æ³•ä½¿ç”¨è»Ÿåˆªé™¤ã€éœ€è¦å®šæ™‚æ¸…ç†è»Ÿåˆªé™¤çš„è³‡æ–™ï¼Œä»¥å…è³‡æ–™åº«æ—¥ç›Šè‚¥å¤§ã€‚\r\n\r\n#### å•Ÿç”¨è»Ÿåˆªé™¤\r\n\r\nå°‡ `Illuminate\\Database\\Eloquent\\SoftDeletes` Trait åŠ åˆ° Model ä¸Š\r\n\r\n```php\r\n<?php\r\n\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\nuse Illuminate\\Database\\Eloquent\\SoftDeletes;\r\n\r\nclass Flight extends Model\r\n{\r\n    use SoftDeletes;\r\n}\r\n```\r\n\r\nåˆ©ç”¨ migration å°‡ delete_at æ¬„ä½åŠ å…¥è³‡æ–™è¡¨\r\n\r\n```php\r\nuse Illuminate\\Database\\Schema\\Blueprint;\r\nuse Illuminate\\Support\\Facades\\Schema;\r\n\r\npublic function up() {\r\n    Schema::table('flights', function (Blueprint $table) {\r\n        $table->softDeletes();\r\n    });\r\n}\r\n\r\npublic function down() {\r\n    Schema::table('flights', function (Blueprint $table) {\r\n        $table->dropSoftDeletes();\r\n    });\r\n}\r\n```\r\n\r\nç•¶åœ¨ model ä¸Šå‘¼å« delete æ–¹æ³•æ™‚ï¼Œæœƒè‡ªå‹•æ›´æ–° delete_at æ¬„ä½ï¼Œä¸¦è¨­ç‚ºç•¶å‰æ™‚é–“ã€‚\r\n\r\n#### è»Ÿåˆªé™¤æ‡‰ç”¨\r\n\r\n- åˆ¤æ–·æ˜¯å¦å·²è¢«è»Ÿåˆªé™¤\r\n\r\n  ```php\r\n  if ($flight->trashed()) {\r\n      //\r\n  }\r\n  ```\r\n\r\n- æ¢å¾©è»Ÿåˆªé™¤\r\n\r\n  ```php\r\n  $flight->restore();\r\n\r\n  // æ¢å¾©å¤šå€‹\r\n  Flight::withTrashed()\r\n      ->where('airline_id', 1)\r\n      ->restore();\r\n  ```\r\n\r\n  - æ°¸ä¹…åˆªé™¤ model\r\n\r\n  ```php\r\n  $flight->forceDelete();\r\n  ```\r\n\r\n- æŸ¥è©¢è»Ÿåˆªé™¤çš„ model\r\n\r\n  - åŒ…å«è»Ÿåˆªé™¤çš„ model\r\n\r\n    ```php\r\n    use App\\Models\\Flight;\r\n\r\n    $flights = Flight::withTrashed()\r\n                    ->where('account_id', 1)\r\n                    ->get();\r\n    ```\r\n\r\n  - åªå–å¾—è¢«åˆªé™¤çš„ model\r\n\r\n    ```php\r\n    $flights = Flight::onlyTrashed()\r\n                    ->where('airline_id', 1)\r\n                    ->get();\r\n    ```\r\n\r\n#### å¯¦ç¾ä¸­é–“è¡¨çš„è»Ÿåˆªé™¤\r\n\r\n> ä¸€èˆ¬ä¸å»ºè­°å° pivot é€²è¡Œè»Ÿåˆªé™¤ã€‚\r\n\r\nåœ¨ pivot è¡¨ï¼Œæ·»åŠ ä¸€å€‹ bool æ¬„ä½ï¼Œex: is_deletedã€‚\r\n\r\n- `updateExistingPivot()` æ­¤æ–¹æ³•å¯ä»¥ä¿®æ”¹é€™æ¬„ä½\r\n- `wherePivot('is_deleted', true)` å¯ä»¥ç¯©é¸æ•¸æ“š\r\n\r\n```php\r\nBook::find(1)->buyers()->wherePivot('is_deleted', true)->get()\r\n\r\nBook::find(1)->buyers()->updateExistingPivot(11, ['is_deleted' => false])\r\n```\r\n\r\næˆ–è€…åœ¨é—œè¯ä¸­ï¼Œå®šç¾©å…©è€…çš„é—œä¿‚\r\n\r\n```PHP\r\nfunction buyers() {\r\n    return $this->belongToMany('App\\User')->wherePivot('is_deleted', false);\r\n}\r\n\r\nfunction buyersWithDeleted() {\r\n    return $this->belongToMany('App\\User');\r\n}\r\n```\r\n\r\n#### æ¸…é™¤èˆŠçš„è»Ÿåˆªé™¤è³‡æ–™\r\n\r\n[åƒè€ƒè³‡æ–™](https://github.com/tighten/quicksand)\r\n","date":"2023-07-18T02:44:47.679Z","matchingLines":["## models\r","## é—œè¯\r","## Laravel ORM å°‡è³‡æ–™å­˜è‡³è³‡æ–™åº«\r","## ORM N+1\r","## åºåˆ—åŒ–\r","## åˆªé™¤\r"],"tocContent":"- [Laravel Eloquent ORM](#laravel-eloquent-orm)\r\n  - [models](#models)\r\n    - [å»ºç«‹ Model](#å»ºç«‹-model)\r\n    - [åŸºæœ¬å±¬æ€§](#åŸºæœ¬å±¬æ€§)\r\n  - [é—œè¯](#é—œè¯)\r\n    - [å¤šå‹æ…‹é—œè¯](#å¤šå‹æ…‹é—œè¯)\r\n      - [å¤šå½¢ä¸€å°ä¸€é—œè¯](#å¤šå½¢ä¸€å°ä¸€é—œè¯)\r\n      - [å¤šå‹ä¸€å°å¤šé—œè¯](#å¤šå‹ä¸€å°å¤šé—œè¯)\r\n      - [å¤šå‹å¤šå°å¤šé—œè¯](#å¤šå‹å¤šå°å¤šé—œè¯)\r\n      - [è‡ªè¨‚å¤šå‹å‹åˆ¥](#è‡ªè¨‚å¤šå‹å‹åˆ¥)\r\n  - [Laravel ORM å°‡è³‡æ–™å­˜è‡³è³‡æ–™åº«](#laravel-orm-å°‡è³‡æ–™å­˜è‡³è³‡æ–™åº«)\r\n    - [save](#save)\r\n    - [ä¿®æ”¹å¤šå°å¤šä¸­é–“è¡¨](#ä¿®æ”¹å¤šå°å¤šä¸­é–“è¡¨)\r\n  - [ORM N+1](#orm-n1)\r\n    - [ä»€éº¼æ˜¯ N+1](#ä»€éº¼æ˜¯-n1)\r\n    - [è§£æ±º N+1 çš„å•é¡Œ](#è§£æ±º-n1-çš„å•é¡Œ)\r\n  - [åºåˆ—åŒ–](#åºåˆ—åŒ–)\r\n    - [å°‡ collection åºåˆ—åŒ–](#å°‡-collection-åºåˆ—åŒ–)\r\n      - [array](#array)\r\n      - [JSON](#json)\r\n    - [éš±è— JSON å±¬æ€§](#éš±è—-json-å±¬æ€§)\r\n      - [è‡¨æ™‚ä¿®æ”¹å±¬æ€§å¯è¦‹åº¦](#è‡¨æ™‚ä¿®æ”¹å±¬æ€§å¯è¦‹åº¦)\r\n    - [è¿½åŠ  JSON å€¼](#è¿½åŠ -json-å€¼)\r\n      - [è‡¨æ™‚è¿½åŠ å±¬æ€§](#è‡¨æ™‚è¿½åŠ å±¬æ€§)\r\n    - [æ—¥æœŸåºåˆ—åŒ–](#æ—¥æœŸåºåˆ—åŒ–)\r\n      - [è‡ªè¨‚ä»»æ„å±¬æ€§çš„æ—¥æœŸæ ¼å¼](#è‡ªè¨‚ä»»æ„å±¬æ€§çš„æ—¥æœŸæ ¼å¼)\r\n  - [åˆªé™¤](#åˆªé™¤)\r\n    - [æ™®é€šåˆªé™¤](#æ™®é€šåˆªé™¤)\r\n    - [è»Ÿåˆªé™¤](#è»Ÿåˆªé™¤)\r\n      - [å•Ÿç”¨è»Ÿåˆªé™¤](#å•Ÿç”¨è»Ÿåˆªé™¤)\r\n      - [è»Ÿåˆªé™¤æ‡‰ç”¨](#è»Ÿåˆªé™¤æ‡‰ç”¨)\r\n      - [å¯¦ç¾ä¸­é–“è¡¨çš„è»Ÿåˆªé™¤](#å¯¦ç¾ä¸­é–“è¡¨çš„è»Ÿåˆªé™¤)\r\n      - [æ¸…é™¤èˆŠçš„è»Ÿåˆªé™¤è³‡æ–™](#æ¸…é™¤èˆŠçš„è»Ÿåˆªé™¤è³‡æ–™)"},{"name":"Laravel API Format.md","content":"# Laravel API Format\r\n\r\n>\r\n\r\n> api è¿”å›è³‡æ–™è‹¥ä»¥åŸç”Ÿæ ¼å¼è¿”å›ï¼Œæ²’æœ‰ç¶“éä»»ä½•è™•ç†ï¼Œå¯èƒ½åŒ…å«æ•æ„Ÿè³‡è¨Š\r\n>\r\n> åˆ©ç”¨ transformer å¯ä»¥å°‡ api éŸ¿æ‡‰çš„è¨Šæ¯ç³»çµ±åŒ–è¦å‰‡ï¼Œé€²è¡Œçµ±ä¸€è¼¸å‡ºï¼Œæ–¹ä¾¿ç®¡ç†èˆ‡ç·¨è¼¯\r\n>\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [Laravel API ç³»åˆ—æ•™ç¨‹ï¼ˆä¸‰ï¼‰ï¼šä½¿ç”¨ API Resource æ¥åˆ›å»ºè‡ªå·±çš„ {JSON:API} æ ¼å¼ API](https://laravelacademy.org/post/9203)\r\n>\r\n> [Laravel æ§‹å»º API ä¼ºæœå™¨ä¹‹éŸ¿æ‡‰è³‡æ–™è™•ç†](https://www.796t.com/content/1545181747.html)\r\n>\r\n> [Laravel 8 ä¸­æ–‡æ–‡æª” API èµ„æº](https://learnku.com/docs/laravel/8.x/eloquent-resources/9410)\r\n\r\n## spatie/laravel-fractal å¥—ä»¶\r\n\r\n```bash\r\ncomposer require spatie/laravel-fractal\r\n```\r\n\r\nå®‰è£å®Œæˆå¾Œï¼Œåœ¨ laravel ä¸­è¨»å†Š\r\n\r\n```bash\r\nphp artisan vendor:publish --provider=\"Spatie\\Fractal\\FractalServiceProvider\"\r\n```\r\n\r\n### å»ºç«‹ transformer\r\n\r\nåœ¨ app/Http çš„ç›®éŒ„ä¸‹å»ºç«‹ Transformers ç›®éŒ„\r\n\r\n```bash\r\nphp artisan make:transformer TestTransformer\r\n```\r\n\r\n```php\r\nnamespace App\\Transformers;\r\n\r\nuse League\\Fractal\\TransformerAbstract;\r\n\r\nclass TeatTransformer extends TransformerAbstract\r\n{\r\n    /**\r\n     * List of resources to automatically include\r\n     *\r\n     * @var array\r\n     */\r\n    protected $defaultIncludes = [\r\n        //\r\n    ];\r\n\r\n    /**\r\n     * List of resources possible to include\r\n     *\r\n     * @var array\r\n     */\r\n    protected $availableIncludes = [\r\n        //\r\n    ];\r\n\r\n    /**\r\n     * A Fractal transformer.\r\n     *\r\n     * @return array\r\n     */\r\n    public function transform()\r\n    {\r\n        return [\r\n            'id' => $user->id,\r\n            'name' => $user->name,\r\n            'signature' => $user->signature,\r\n            'created_at' => $user->created_at->toDateTimeString()\r\n        ];\r\n    }\r\n}\r\n```\r\n\r\nè¿”å›çš„é™£åˆ—ä»£è¡¨çœŸå¯¦è¦éŸ¿æ‡‰çš„ json è³‡æ–™æ ¼å¼\r\n\r\n### åœ¨ controller ä¸­ä½¿ç”¨ transformer\r\n\r\nåŒ¯å…¥ transformer å‘½åç©ºé–“\r\n\r\n```php\r\nclass UserController extends Controller\r\n{\r\n\r\n    /**\r\n     * ä½¿ç”¨è€…åˆ—è¡¨ä»‹é¢\r\n     */\r\n    public function index()\r\n    {\r\n      $users = User::all();\r\n\r\n      return $this->response->collection($users, new TestTransformer());\r\n    }\r\n\r\n}\r\n```\r\n\r\nè¼¸å‡ºï¼š\r\n\r\n```json\r\n{\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"name\": \"å¼µä¸‰\",\r\n      \"signature\": \"Hello, World\",\r\n      \"created_at\": \"2018-11-02 16:21:20\"\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"name\": \"æå››\",\r\n      \"signature\": \"é€™å€‹äººå¾ˆæ‡¶...ä»€éº¼ä¹Ÿæ²’æœ‰ç•™ä¸‹\",\r\n      \"created_at\": \"2018-11-02 16:21:20\"\r\n    }\r\n  ],\r\n  \"meta\": {\r\n    // ...è‡ªå‹•ç”Ÿæˆçš„å…ƒè³‡æ–™ï¼Œå¦‚æœä½ æŸ¥è©¢å‡ºçš„è³‡æ–™å¸¶æœ‰åˆ†é è³‡æ–™ï¼ˆlaravelä¸­çš„Paginateï¼‰\r\n    // é‚£éº¼Transformerå°‡æœƒè‡ªå‹•å¹«ä½ æŠŠåˆ†é è³‡æ–™åŠ å…¥åœ¨æ­¤è™•\r\n  }\r\n}\r\n```\r\n\r\n## API Resource\r\n\r\nLaravel 5.5 æ–°å¢çš„ API Resourceï¼Œå’Œ transformer åŠŸèƒ½èˆ‡æ€è·¯åŸºæœ¬ä¸Šä¸€æ¨£\r\n\r\nä½†ç”±æ–¼æ˜¯ laravel å®˜æ–¹é‡‹å‡ºï¼Œå› æ­¤èˆ‡ Laravel Eloquent model å„ç¨®åŠŸèƒ½çµåˆçš„æ›´åŠ ç·Šå¯†\r\n\r\n```bash\r\nphp artisan make:resource ArticleResource\r\n```\r\n\r\nç”Ÿæˆçš„æª”æ¡ˆä½æ–¼ app/Http/Resources ç›®éŒ„åº•ä¸‹\r\n\r\n```php\r\nnamespace App\\Http\\Resources;\r\n\r\nuse Illuminate\\Http\\Resources\\Json\\Resource;\r\n\r\nclass TestResource extends Resource\r\n{\r\n    /** * Transform the resource into an array.\r\n     *\r\n     * @param \\Illuminate\\Http\\Request $request\r\n     * @return array\r\n     */\r\n    public function toArray($request)\r\n    {\r\n        return [\r\n            'id' => $user->id,\r\n            'name' => $user->name,\r\n            'signature' => $user->signature,\r\n            'created_at' => $user->created_at->toDateTimeString()\r\n        ];\r\n    }\r\n}\r\n```\r\n\r\nåœ¨ controller ä¸­å°‡ transformer å¯¦ä¾‹åŒ–\r\n\r\n```php\r\npublic function show(User $user)\r\n{\r\n    return new ArticleResource($user);\r\n}\r\n```\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n        {\r\n          \"id\": 1,\r\n          \"name\": \"å¼µä¸‰\",\r\n          \"signature\": \"Hello, World\",\r\n          \"created_at\": \"2018-11-02 16:21:20\"\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\né è¨­æ•¸æ“šæœƒè¢«åŒ…åœ¨ data çš„ç‰©ä»¶è£¡é¢ï¼Œå¯ä»¥é€é `withoutWrapping()` ä¾†å°‡å…¶å»é™¤\r\n\r\n```php\r\npublic function show(User $user)\r\n{\r\n    TestResource::withoutWrapping();\r\n    return new TestResource($user);\r\n}\r\n```\r\n","date":"2023-07-18T02:44:02.656Z","matchingLines":["## spatie/laravel-fractal å¥—ä»¶\r","## API Resource\r"],"tocContent":"- [Laravel API Format](#laravel-api-format)\r\n  - [spatie/laravel-fractal å¥—ä»¶](#spatielaravel-fractal-å¥—ä»¶)\r\n    - [å»ºç«‹ transformer](#å»ºç«‹-transformer)\r\n    - [åœ¨ controller ä¸­ä½¿ç”¨ transformer](#åœ¨-controller-ä¸­ä½¿ç”¨-transformer)\r\n  - [API Resource](#api-resource)"},{"name":"Laravel å­¸ç¿’ç­†è¨˜.md","content":"# Laravel å­¸ç¿’ç­†è¨˜\r\n\r\n> è«‹å…ˆå®Œæˆ laravel ç’°å¢ƒè¨­ç½®\r\n\r\n>\r\n\r\n## åŸºç¤å»ºç«‹\r\n\r\n- å»ºç«‹æ–°çš„å°ˆæ¡ˆ\r\n\r\n  ```cmd\r\n  laravel new ProjectName\r\n  ```\r\n\r\n- å®‰è£æŒ‡å®šæœ¬ç‰ˆ\r\n\r\n  ```cmd\r\n  composer create-project laravel/laravel=6.* ProjectName\r\n  ```\r\n\r\n- åŒæ™‚å»ºç«‹ migration controller model\r\n\r\n  ```cmd\r\n  php artisan make:model New -mcr\r\n  ```\r\n\r\n- å»ºç«‹ Controller\r\n\r\n  - æ§åˆ¶å™¨è·¯å¾‘ app/Http/controllers/NewController.php\r\n  - æ§åˆ¶å™¨åç¨±å­—é¦–éœ€å¤§å¯«\r\n\r\n  ```cmd\r\n  php artisan make:controller NewController\r\n  ```\r\n\r\n- å•Ÿå‹• Laravel ä¼ºæœå™¨\r\n\r\n  ```cmd\r\n  php artisan serve\r\n  ```\r\n\r\n- ä½¿ç”¨è·¯ç”±\r\n\r\n  ```php\r\n  // routes/web.php\r\n  Route::get('/home/news', \"App\\Http\\Controllers\\NewController@index\");\r\n\r\n  // app/Http/controllers/NewController.php\r\n  public function index()\r\n  {\r\n    return \"<h1>OK</h1>\";\r\n  }\r\n  ```\r\n\r\n## é€£ç·šè³‡æ–™åº«å°‡è³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Š\r\n\r\n### mysql\r\n\r\n- Laravel è³‡æ–™åº«è¨­å®šæª” `.env`\r\n\r\n  ```php\r\n  APP_NAME=Laravel        ï¼ˆå°ˆæ¡ˆçš„åç¨±ï¼‰\r\n  APP_ENV=local           ï¼ˆå°ˆæ¡ˆé–‹ç™¼çš„ç’°å¢ƒï¼Œlocal / stagingï¼‰\r\n  APP_KEY=                (APP KEY)\r\n  APP_DEBUG=true          ï¼ˆæä¾›åœ¨ç€è¦½å™¨ä¸­é¡¯ç¤ºè©³ç´°çš„éŒ¯èª¤è¨Šæ¯ä¾†é€²è¡Œdebugï¼‰\r\n  APP_URL=http://localhostï¼ˆå°ˆæ¡ˆç¶²å€ï¼ŒEX. http://example.comï¼Œä½¿ç”¨æ–¹æ³•url()æ™‚ä¾¿å¯å–å¾—è©²ç¶²å€ï¼‰\r\n\r\n  LOG_CHANNEL=stack\r\n\r\n  DB_CONNECTION=mysql (ä½¿ç”¨çš„è³‡æ–™åº«)\r\n  DB_HOST=127.0.0.1   (è³‡æ–™åº«ä¸»æ©Ÿä½ç½®)\r\n  DB_PORT=3306        (è³‡æ–™åº«çš„åŸ è™Ÿ)\r\n  DB_DATABASE=test    (è³‡æ–™åº«åç¨±)\r\n  DB_USERNAME=        ï¼ˆè³‡æ–™åº«å¸³è™Ÿï¼‰\r\n  DB_PASSWORD=        ï¼ˆè³‡æ–™åº«å¯†ç¢¼ï¼‰\r\n  ```\r\n\r\n- å»ºç«‹ä¸€å€‹ model\r\n\r\n  - model è·¯å¾‘ app/Models/News.php\r\n\r\n  ```cmd\r\n  php artisan make:model News\r\n  ```\r\n\r\n- Controller åƒç”¨ News model\r\n\r\n  ```php\r\n  use App\\Models\\News;\r\n  ```\r\n\r\n- å¦‚ä½•æŠŠé™£åˆ—é¡¯ç¤ºåœ¨å‰å° (å›å‚³`json`æ ¼å¼)\r\n\r\n  ```php\r\n  public function index()\r\n  {\r\n    $dataList = News::all();\r\n\r\n    return json_encode($dataList);\r\n  }\r\n  ```\r\n\r\n- æ¥æ”¶ `Route::post` çš„è·¯ç”±æ¥å¼•åˆ° `store(`) å®Œæˆè³‡æ–™åº«çš„æ–°å¢\r\n\r\n  ```php\r\n  Route::post('/home/news', \"App\\Http\\Controllers\\NewController@store\");\r\n  ```\r\n\r\n### redis\r\n\r\n> éœ€å…ˆåœ¨ç’°å¢ƒå®‰è£ redis\r\n\r\n- å®‰è£ `predis`\r\n\r\n  ```bash\r\n  composer require predis/predis\r\n  ```\r\n\r\n- redis é è¨­æœ‰ 16 å€‹è³‡æ–™åº«ï¼ŒLaravel æœƒä½¿ç”¨é è¨­çš„è³‡æ–™åº«`0`\r\n- ä¿®æ”¹ `env`\r\n\r\n  ```config\r\n  REDIS_HOST=127.0.0.1\r\n  REDIS_PASSWORD=null\r\n  REDIS_PORT=6379\r\n  REDIS_CLIENT=predis\r\n  REDIS_PREFIX=\"\"\r\n  ```\r\n\r\n- ä½¿ç”¨æ–¹æ³•\r\n\r\n  ```php\r\n  use Illuminate\\Support\\Facades\\Redis;\r\n  Redis::set('name', 'Vic');\r\n  Redis::get('name');\r\n  ```\r\n\r\n- redis-cil\r\n\r\n  ```bash\r\n  $ redis-cli\r\n  $ select 0   //é¸æ“‡è³‡æ–™åº«0\r\n  $ keys *     //åˆ—å‡ºæ‰€æœ‰keys\r\n  $ get laravel_database_name  //å–å¾—key value\r\n  ```\r\n\r\n- é ˆæ³¨æ„ laravel é è¨­çš„ redis key æœƒæœ‰ `laravel_database_` é€™å€‹å‰ç¶´ï¼š`$ get laravel_database_${your_key}`ã€‚é€™å€‹å‰ç¶´è¨­å®šå¯ä»¥åœ¨ `env` ä¸­çš„ `REDIS_PREFIX` ä¿®æ”¹\r\n\r\n## æ–°å¢ä¸€å€‹ html æ¸¬è©¦`input`åˆ°è³‡æ–™åº«\r\n\r\n- ä¿®æ”¹ controller\r\n\r\n  ```php\r\n  store(Request $request){\r\n    $newItem = new News();\r\n    $newItem->title = $request->input(\"title\");\r\n    $newItem->title = $request->input(\"ymd\");\r\n    $newItem->save();\r\n\r\n    return \"é€²ä¾†äº†\";\r\n  }\r\n  ```\r\n\r\n- ä¿®æ”¹ `VerifyCsrfToken.php`ï¼Œå…ˆç•¥éè³‡æ–™å‚³é€çš„è³‡å®‰å•é¡Œ\r\n\r\n  - è·¯å¾‘ `/home` åº•ä¸‹éƒ½å…ˆå¿½ç•¥\r\n\r\n  ```php\r\n  protected $except = [\r\n    \"/home/*\"\r\n  ];\r\n  ```\r\n\r\n- åœ¨ model å¢åŠ \r\n\r\n  ```php\r\n  public $timestamps = false;\r\n  // redirect => é‡æ–°å°å‘\r\n  ```\r\n\r\n### å°‡è®Šæ•¸å‚³å…¥ `view` çš„ä¸‰ç¨®æ–¹æ³•\r\n\r\n1. with: ç”¨æ–¼ç°¡å–®å‚³éè®Šæ•¸ï¼Œä½†ä¸æ˜“æ“´å……å‚³éè®Šæ•¸ï¼Œæ‰€ä»¥ä¸å¸¸ç”¨åˆ°\r\n\r\n   ```php\r\n   $name =Â \"test\";\r\n   $age = 23;Â \r\n\r\n   return view('my_laravel')->with('name', $name);\r\n   // &\r\n   return view('my_laravel')->with('name', $name)->with('age', $age);\r\n\r\n   // ç”¨é™£åˆ—åŒ…èµ·ä¾†\r\n   $data = [\r\n     'name' = 'test',\r\n     'age' Â =26\r\n   ];\r\n\r\n   return view('my_laravel')->with('data', $data);\r\n\r\n   // view\r\n   {{ $data['name'] }}\r\n   ```\r\n\r\n2. Array\r\n\r\n   ```php\r\n   $data = [\r\n     'name' => 'test',\r\n     'age' => 26\r\n   ]\r\n\r\n   return view('my_laravel', $data)\r\n\r\n   // view\r\n   {{ $name }}\r\n   ```\r\n\r\n3. compact\r\n\r\n   ```php\r\n   // å¸¸ç”¨æ–¼è¤‡é›œè®Šæ•¸ï¼Œä¸ç”¨åŒ…è£æˆæ–°çš„è®Šæ•¸åç¨±\r\n   $data = [\r\n     'name' => 'test',\r\n     'age' => 26\r\n   ];\r\n   $title = 'title';\r\n\r\n   return view('my_laravel', compact('data', 'title'));\r\n\r\n   // view\r\n   {{ $data['name']Â }} Â // å› ç‚ºåœ¨ data é™£åˆ—ä¸­Â \r\n   {{ $title }} Â // è®Šæ•¸å€¼ç›´æ¥ä½¿ç”¨\r\n   ```\r\n\r\n## Controller\r\n\r\n### ç”Ÿæˆ controller\r\n\r\n```bash\r\nphp artisan make:controller NewController\r\n```\r\n\r\n- `--resource`\r\n\r\n  ```bash\r\n  php artisan make:controller function/NewController --resource\r\n  ```\r\n\r\n  - åœ¨`function/` çš„ç›®éŒ„ä¸‹ï¼Œæ–°å¢ä¸€å€‹è³‡æºæ§åˆ¶å™¨\r\n  - ç”Ÿæˆ`index()` `create()` `store()` `show()` `edit()` `update()` `destroy()`\r\n\r\n- `--api`\r\n\r\n  ```bash\r\n  php artisan make:controller api/NewController --api\r\n  ```\r\n\r\n  - ä¸€èˆ¬ api æ§åˆ¶å™¨æœƒæ–°å¢åœ¨ Controller/api çš„ç›®éŒ„ä¹‹ä¸‹\r\n  - ç”Ÿæˆ`index()` `store()` `show()` `update()` `destroy()`ï¼Œçœç•¥ `create()` `edit()` æ–¹æ³•\r\n\r\n### resource controller function\r\n\r\n- `index()`: é¡¯ç¤ºæ‰€æœ‰è³‡æ–™çš„åˆ—è¡¨\r\n\r\n- `create()`: é¡¯ç¤ºæ–°å¢ç•«é¢\r\n- `store()`: æ–°å¢è³‡æ–™\r\n- `show()`: é¡¯ç¤ºæŒ‡å®š id çš„è³‡æ–™\r\n- `edit()`: é¡¯ç¤ºç·¨è¼¯çš„ç•«é¢\r\n- `update()`: æ›´æ–°è³‡æ–™\r\n- `destroy()`: åˆªé™¤è³‡æ–™\r\n\r\n### controller å‚³å…¥åƒæ•¸\r\n\r\nä¸€èˆ¬åƒæ•¸\r\n\r\n```php\r\npublic function show($id)\r\n{\r\n   return response()->json(New::find($id), 200);\r\n}\r\n```\r\n\r\næ§‹é€ å‡½æ•¸æ³¨å…¥(Constructor Injection)\r\n\r\n```php\r\npublic function show(New $new)\r\n{\r\n    return response()->json($new, 200);\r\n}\r\n```\r\n\r\n### åƒæ•¸é è¨­å€¼\r\n\r\nç•¶å‚³å…¥ controller çš„åƒæ•¸ç‚ºç©ºæ™‚ï¼Œåƒæ•¸è¿”å›é è¨­å€¼ã€‚\r\n\r\n```php\r\n// route/api.php:\r\nRoute::post('new/{new?}', 'NewController@show');\r\n\r\n// NewController.php:\r\nclass NewController extends Controller\r\n{\r\n    public function show($new = \"nothing news\")\r\n    {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n## Route\r\n\r\nlaravel ä¸­ route æœ‰å…©ç¨®:`routes/web.php` `routes/api.php`ï¼Œåˆ†åˆ¥ç‚ºä¸€èˆ¬é é¢å’Œ api\r\n\r\n### route åŸºæœ¬å¯«æ³•\r\n\r\n- ä¸€èˆ¬åƒæ•¸\r\n\r\n  ```php\r\n  Route::get(â€˜newâ€™, â€˜api\\NewController@indexâ€™);\r\n  Route::get(â€˜new/{id}â€™, â€˜api\\NewController@showâ€™);\r\n  Route::post(â€˜newâ€™, â€˜api\\NewController@storeâ€™);\r\n  Route::put(â€˜new/{id}â€™, â€˜api\\NewController@updateâ€™);\r\n  Route::delete(â€˜new/{id}â€™, â€˜api\\NewController@destroyâ€™);\r\n  ```\r\n\r\n- æ§‹é€ å‡½æ•¸æ³¨å…¥\r\n\r\n  ```php\r\n  Route::get(â€˜newâ€™, â€˜api\\NewController@indexâ€™);\r\n  Route::get(â€˜new/{new}â€™, â€˜api\\NewController@showâ€™);\r\n  Route::post(â€˜newâ€™, â€˜api\\NewController@storeâ€™);\r\n  Route::put(â€˜new/{new}â€™, â€˜api\\NewController@updateâ€™);\r\n  Route::delete(â€˜new/{new}â€™, â€˜api\\NewController@destroyâ€™);\r\n  ```\r\n\r\n  - ç¬¬ä¸€å€‹åƒæ•¸æ˜¯å°æ‡‰çš„è·¯å¾‘ï¼Œå¾Œé¢æœ‰`{}`ä»£è¡¨å‚³å…¥çš„åƒæ•¸\r\n  - ç¬¬äºŒå€‹åƒæ•¸æ˜¯å°æ‡‰çš„ controller @å¾Œé¢ç‚º controller å…§è¦å‘¼å«çš„æ–¹æ³•\r\n\r\n### resource controller è³‡æºæ§åˆ¶å™¨\r\n\r\n```php\r\nRoute::Resource('new', 'NewController');\r\n\r\n// apiè³‡æºæ§åˆ¶å™¨\r\nRoute::apiResource('new', 'api\\NewController');\r\n```\r\n\r\n### route åˆ†çµ„\r\n\r\n- prefix: å‰ç¶´ç”¨ä¾†è¨­å®š URL é–‹å§‹å…±åŒçš„éƒ¨åˆ†ã€‚\r\n\r\n```php\r\nRoute::prefix(\"new\")->group(function () {\r\n    Route::get('view', 'NewController@show');\r\n    Route::post('create', 'NewController@create');\r\n    Route::put('update', 'NewController@edit');\r\n    // ...\r\n});\r\n\r\n```\r\n\r\n- namespace: è‹¥è¦ç¶å®šçš„ controller ä¸åœ¨é è¨­çš„ app/Http/Controller è£¡ï¼Œè€Œæ˜¯æœ‰æ›´é€²ä¸€æ­¥çš„åˆ†é¡ï¼Œå¯ä»¥è¨­å®š namespace()æ–¹ä¾¿ç®¡ç†ã€‚\r\n\r\n```php\r\n// app/Http/Controller/New\r\nRoute::namespace(\"new\")->group(function () {\r\n    Route::get('new/view/{id}', 'NewController@show');\r\n    Route::post('new/create', 'NewController@create');\r\n    Route::put('new/update', 'NewController@edit');\r\n    // ...\r\n});\r\n```\r\n\r\n- middleware: laravel é€²å…¥ action ä¹‹å‰æœƒå…ˆå° http request é€²è¡Œæª¢æŸ¥\r\n\r\n```php\r\nRoute::middleware('adminonly')->group(function () {\r\n    Route::get('new/create', 'NewController@create');\r\n    Route::get('new/{id}/delete', 'NewController@delete');\r\n    // ...\r\n});\r\n```\r\n\r\n## Laravel åŠŸèƒ½å¯¦ç¾\r\n\r\n### å„²å­˜æª”æ¡ˆä¸¦åˆªé™¤èˆŠæª”\r\n\r\n```php\r\npublic function updateProfile(Request $request)\r\n{\r\n  $user = auth()->user();\r\n  // è¡¨å–®é©—è­‰è¦å‰‡\r\n  $validated = $this->validateUserProfile($request->all(), $user->id)->validate();\r\n  if ($request->has('image')) {\r\n    // å–å¾—è³‡æ–™è¡¨ä¸­åŸå§‹è³‡æ–™\r\n    $originalData = User::find(auth()->user()->id)->getAttributes();\r\n    if ($originalData['image']) {\r\n      $filename = $originalData['image'];\r\n      $storage = Storage::disk('upload');\r\n      // å¦‚æœè³‡æ–™è¡¨ä¸­æœ‰ç´€éŒ„ï¼Œé‚£å°±åˆªé™¤æª”æ¡ˆ\r\n      if ($storage->exists($filename)) {\r\n        $storage->delete($filename);\r\n      }\r\n    }\r\n    // åŸå§‹$request['image']çš„å€¼ç‚ºæš«å­˜è·¯å¾‘ï¼Œç¾å°‡å…¶æ”¹ç‚ºè³‡æ–™è¡¨ä¸­çš„è·¯å¾‘\r\n    if ($request->hasFile('image')) {\r\n      $validated['image'] = $request->file('image')->store('images/users', 'upload');\r\n    }\r\n  }\r\n  $user->update($validated);\r\n}\r\n```\r\n\r\n## Class not found\r\n\r\nç•¶å‡ºç¾ `Class 'xxx\\\\xxx\\\\xxx\\\\xxx' not found` æ™‚ï¼Œå¯èƒ½åŸå› ç‚º composer autoload å°šæœªè¨»å†Šæˆ–æ˜¯è¨»å†ŠéŒ¯èª¤ã€‚\r\n\r\nè§£æ±ºæ–¹æ³•ï¼š\r\n\r\n- æ–¹æ³•ä¸€\r\n\r\n  ```terminal\r\n  composer dump-autoload -o\r\n  ```\r\n\r\n- æ–¹æ³•äºŒ\r\n\r\n  æª¢æŸ¥ vendor/composer ä¸‹é¢çš„ autoload è³‡æ–™å¤¾ä¸­çš„æª”æ¡ˆ autoload_classmap.php å’Œ autoload_static.php\r\n\r\n## æ¡†æ¶è¨­è¨ˆæ¨¡å¼\r\n\r\nåœ¨å°å‹å°ˆæ¡ˆä¸­ï¼Œå…¸å‹çš„ MVC æ¶æ§‹æ²’ä»€éº¼å•é¡Œï¼Œä½†éš¨è‘—ç³»çµ±è¶Šä¾†è¶Šè¤‡é›œï¼Œå¿…é ˆå†ç´°åˆ†æ›´å¤šå±¤ï¼Œæ–¼æ˜¯è¡ç”Ÿå‡º View - Presenter - Controller - Service - Repository - Model å…­å±¤æ¡†æ¶è¨­è¨ˆæ¨¡å¼ã€‚\r\n\r\n### æ¯ä¸€å±¤çš„è·è²¬\r\n\r\n- Model ç›¡å¯èƒ½éš±è—æ“ä½œè³‡æ–™çš„ know-howï¼Œå°‡è³‡æ–™æŠ½è±¡åŒ–ï¼Œä½œç‚ºä¸€å€‹ Object Relational Mappingã€‚\r\n- Repository è—‰ç”±æ“ä½œ Modelï¼Œå¹«åŠ© Service å¯¦ç¾å„ç¨®å•†å‹™é‚è¼¯å°æ‡‰çš„è³‡æ–™åº«æ“ä½œæ–¹æ³•ã€‚\r\n- Service å¯¦ç¾å•†å‹™é‚è¼¯ï¼Œä¸¦ä¸”è®“ Controller åƒ…éœ€è¦å°ˆæ³¨åœ¨æºé€šä¸Šã€‚\r\n- Controller ä½œç‚º View èˆ‡å•†å‹™é‚è¼¯é–“çš„æºé€šæ©‹æ¨‘ã€‚\r\n- Presenter è² è²¬ \"å¦‚ä½•è™•ç†è³‡æ–™\"\r\n- View è² è²¬\"è¦çµ¦å®¢æˆ¶çœ‹åˆ°ä»€éº¼\"\r\n\r\n### MVC æ¡†æ¶\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [Laravel åŠ å…¥ Repository èˆ‡ Service](https://vocus.cc/article/5fa7fe49fd8978000125da22)\r\n\r\nè‹¥å°‡é€™å…­å€‹ layer çš„è·è²¬å°æ‡‰åˆ° MVC æ¡†æ¶ä¸­ï¼Œå°å°ˆæ¡ˆä¸‹çš„ model å…¶å¯¦å°±æ˜¯ Business Modelï¼ŒåŒ…å«å•†æ¥­é‚è¼¯ä»¥åŠå’Œè³‡æ–™åº«æºé€šã€‚è€Œ View ä¹Ÿä¸æœƒåˆ»æ„æŠŠè³‡æ–™æ“ä½œé‚è¼¯èˆ‡è³‡æ–™è™•ç†æ–¹å¼ç¨ç«‹æˆä¸€å€‹ Presenterï¼Œå› æ­¤\r\nå°å‹å°ˆæ¡ˆçš„ View å¾€å¾€æ··è‘—ä¸€äº›é‚è¼¯åˆ¤æ–·ã€‚\r\n\r\n- Model\r\n  - Service\r\n  - Repository\r\n  - Model\r\n- Controller\r\n  - Controller\r\n- View\r\n  - View\r\n  - Presenter\r\n\r\n### Web API Service\r\n\r\né€š Web API Service åƒ…åƒ…æ˜¯å°‡ service é€ä¾†çš„è³‡æ–™è®Šæˆ JSON format è¼¸å‡ºåˆ° View ä¸Šï¼Œæ‰€ä»¥æœ‰æ™‚ Controller å°±æ¶µè“‹äº† Presenter çš„è·è²¬ï¼ŒView ç´”ç²¹åªæ˜¯ JSON, XML ç­‰æ ¼å¼è³‡æ–™ã€‚\r\n\r\n- Model\r\n  - Service\r\n  - Repository\r\n  - Model\r\n- Controller\r\n  - Presenter\r\n  - Controller\r\n- View\r\n  - View\r\n","date":"2023-07-18T02:43:32.257Z","matchingLines":["## åŸºç¤å»ºç«‹\r","## é€£ç·šè³‡æ–™åº«å°‡è³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Š\r","## æ–°å¢ä¸€å€‹ html æ¸¬è©¦`input`åˆ°è³‡æ–™åº«\r","## Controller\r","## Route\r","## Laravel åŠŸèƒ½å¯¦ç¾\r","## Class not found\r","## æ¡†æ¶è¨­è¨ˆæ¨¡å¼\r"],"tocContent":"- [Laravel å­¸ç¿’ç­†è¨˜](#laravel-å­¸ç¿’ç­†è¨˜)\r\n  - [åŸºç¤å»ºç«‹](#åŸºç¤å»ºç«‹)\r\n  - [é€£ç·šè³‡æ–™åº«å°‡è³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Š](#é€£ç·šè³‡æ–™åº«å°‡è³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Š)\r\n    - [mysql](#mysql)\r\n    - [redis](#redis)\r\n  - [æ–°å¢ä¸€å€‹ html æ¸¬è©¦`input`åˆ°è³‡æ–™åº«](#æ–°å¢ä¸€å€‹-html-æ¸¬è©¦inputåˆ°è³‡æ–™åº«)\r\n    - [å°‡è®Šæ•¸å‚³å…¥ `view` çš„ä¸‰ç¨®æ–¹æ³•](#å°‡è®Šæ•¸å‚³å…¥-view-çš„ä¸‰ç¨®æ–¹æ³•)\r\n  - [Controller](#controller)\r\n    - [ç”Ÿæˆ controller](#ç”Ÿæˆ-controller)\r\n    - [resource controller function](#resource-controller-function)\r\n    - [controller å‚³å…¥åƒæ•¸](#controller-å‚³å…¥åƒæ•¸)\r\n    - [åƒæ•¸é è¨­å€¼](#åƒæ•¸é è¨­å€¼)\r\n  - [Route](#route)\r\n    - [route åŸºæœ¬å¯«æ³•](#route-åŸºæœ¬å¯«æ³•)\r\n    - [resource controller è³‡æºæ§åˆ¶å™¨](#resource-controller-è³‡æºæ§åˆ¶å™¨)\r\n    - [route åˆ†çµ„](#route-åˆ†çµ„)\r\n  - [Laravel åŠŸèƒ½å¯¦ç¾](#laravel-åŠŸèƒ½å¯¦ç¾)\r\n    - [å„²å­˜æª”æ¡ˆä¸¦åˆªé™¤èˆŠæª”](#å„²å­˜æª”æ¡ˆä¸¦åˆªé™¤èˆŠæª”)\r\n  - [Class not found](#class-not-found)\r\n  - [æ¡†æ¶è¨­è¨ˆæ¨¡å¼](#æ¡†æ¶è¨­è¨ˆæ¨¡å¼)\r\n    - [æ¯ä¸€å±¤çš„è·è²¬](#æ¯ä¸€å±¤çš„è·è²¬)\r\n    - [MVC æ¡†æ¶](#mvc-æ¡†æ¶)\r\n    - [Web API Service](#web-api-service)"},{"name":"å‰ç«¯å·¥å…·.md","content":"# å‰ç«¯é–‹ç™¼å·¥å…·\r\n\r\n## å‡åœ–ç”Ÿç”¢å™¨ï¼šLorem Picsum\r\n\r\n### ä½¿ç”¨æ–¹æ³•\r\n\r\n- æŒ‡å®šé•·å¯¬\r\n\r\n  ```html\r\n  <img src=\"https://picsum.photos/<length>/<width>\" />\r\n  ```\r\n\r\n- random ç”Ÿæˆä¸åŒåœ–ç‰‡\r\n\r\n  ```html\r\n  <img src=\"https://picsum.photos/80?random=1\" />\r\n  <img src=\"https://picsum.photos/80?random=2\" />\r\n  <img src=\"https://picsum.photos/80?random=3\" />\r\n  ```\r\n\r\n  è‹¥æ²’æœ‰å¸¶ random åƒæ•¸ï¼Œåœ¨ç›¸åŒçš„ url ä¹‹ä¸‹ï¼ŒåŒä¸€æ¬¡é é¢è¼‰å…¥æ™‚ï¼Œæ¯ä¸€å¼µåœ–ç‰‡éƒ½æœƒæ˜¯ä¸€æ¨£çš„ã€‚\r\n\r\n- grayscale ç”Ÿæˆç°éšåœ–ç‰‡\r\n\r\n  ```html\r\n  <img src=\"https://picsum.photos/80?grayscale\" />\r\n  ```\r\n\r\n- blur ç”Ÿæˆæ¨¡ç³Šæ¿¾é¡åœ–ç‰‡\r\n\r\n  ```html\r\n  <img src=\"https://picsum.photos/80?blur\" />\r\n  ```\r\n","date":"2023-06-28T03:01:37.977Z","matchingLines":["## å‡åœ–ç”Ÿç”¢å™¨ï¼šLorem Picsum\r"],"tocContent":""},{"name":"Javascript é™£åˆ—.md","content":"# JavaScript é™£åˆ—\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [JavaScript Array é™£åˆ—æ“ä½œæ–¹æ³•å¤§å…¨ ( å« ES6 )](https://www.oxxostudio.tw/articles/201908/js-array.html)\r\n\r\n## æ”¹è®ŠåŸå§‹é™£åˆ—\r\n\r\n### push() åŠ å…¥é™£åˆ—æœ€å¾Œä¸€å€‹ä½ç½®\r\n\r\nå°‡å€¼åŠ å…¥é™£åˆ—çš„æœ€å¾Œä¸€å€‹ä½ç½®ï¼Œpush() æœƒå›å‚³æ–°çš„é™£åˆ—é•·åº¦ã€‚\r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5, 6, 7, 8];\r\nconsole.log(arr.push(9, 10)); // 10\r\nconsole.log(arr); // [1, 2, 3, 4, 5, 6, 7, 8, ,9, 10]\r\n```\r\n\r\n### pop() å–å‡ºé™£åˆ—çš„æœ€å¾Œä¸€å€‹å…ƒç´ \r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5, 6];\r\nlet new_arr = arr.pop();\r\nconsole.log(arr); // [1,2,3,4,5]\r\nconsole.log(new_arr); // 6\r\n```\r\n\r\n### shift() å–å‡ºä¸¦ç§»é™¤é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ \r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5];\r\nlet new_arr = arr.shift();\r\nconsole.log(arr); // [2, 3, 4, 5]\r\nconsole.log(new_arr); // 1\r\n```\r\n\r\n### unshift() å°‡å…ƒç´ æ·»åŠ åˆ°ç¬¬ä¸€å€‹ä½ç½®\r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5];\r\narr.unshift(100, 200, 300);\r\nconsole.log(arr); // [100, 200, 300, 1, 2, 3, 4, 5]\r\n```\r\n\r\n### reverse() åè½‰é™£åˆ—\r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5];\r\narr.reverse();\r\nconsole.log(arr); // [5, 4, 3, 2, 1]\r\n```\r\n\r\n### splice(start, delete_count, item) æ–°å¢æˆ–ç§»é™¤é™£åˆ—ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ \r\n\r\nå¯ä»¥ç§»é™¤æˆ–æ–°å¢é™£åˆ—çš„å…ƒç´ ï¼ŒåŒ…å«ä¸‰å€‹åƒæ•¸\r\n\r\n- start è¦ç·¨è¼¯çš„åºåˆ—è™Ÿç¢¼\r\n- delete_count è¦ç§»é™¤çš„é•·åº¦(é¸å¡«ï¼Œè‹¥ä¸å¡«ï¼Œå‰‡å°‡ç¬¬ä¸€å€‹è™Ÿç¢¼ä½ç½®é¢çš„æ‰€æœ‰å…ƒç´ æ¸…é™¤ï¼Œè‹¥ç‚º 0 å‰‡ä¸åˆªé™¤å…ƒç´ )\r\n- item è¦æ·»åŠ çš„å…§å®¹(é¸å¡«)\r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5, 6, 7, 8];\r\narr.splice(5, 1);\r\nconsole.log(arr); // [1, 2, 3, 4, 5, 7, 8] (6 è¢«ç§»é™¤äº†)\r\n```\r\n\r\nè¨­å®šç¬¬ä¸‰å€‹åƒæ•¸å°±èƒ½æ·»åŠ æˆ–å–ä»£å…ƒç´ \r\n\r\n```javascript\r\nlet arr = [1, 2, 3, 4, 5, 6, 7, 8];\r\narr.splice(5, 1, 100);\r\nconsole.log(arr); // [1, 2, 3, 4, 5, 100, 7, 8]; (6 è¢«ç§»é™¤ï¼Œ100 è¢«åŠ åˆ°ç¬¬äº”çš„ä½ç½®)\r\n```\r\n\r\nsplice æ–¹æ³•æœƒå›å‚³è¢«åˆªé™¤çš„å…ƒç´ ï¼Œè‹¥ç„¡åˆªé™¤å…ƒç´ ï¼Œå‰‡å›å‚³ç©ºé™£åˆ—\r\n\r\n### sort() é‡å°é™£åˆ—çš„å…ƒç´ é€²è¡Œæ’åˆ—\r\n\r\n### copyWithin()\r\n\r\n### fill()ã€€ç½®æ›é™£åˆ—ä¸­çš„å€¼\r\n\r\næœƒå°‡é™£åˆ—ä¸­æ‰€æœ‰å…ƒç´ ï¼Œç½®æ›ç‚ºæŒ‡å®šçš„å€¼ã€‚\r\n\r\nå…¶åŒ…å«ä¸‰å€‹åƒæ•¸ï¼š\r\n\r\n1. æº–å‚™è¦ç½®æ›çš„å…§å®¹(å¿…å¡«)\r\n2. èµ·ä½¿ä½ç½®(é¸å¡«ï¼Œé è¨­ç‚ºå…¨éƒ¨ç½®æ›)\r\n3. åœæ­¢ç½®æ›çš„å…ƒç´ çš„å‰ä¸€å€‹ä½ç½®(é¸å¡«ï¼Œé è¨­ç­‰æ–¼é™£åˆ—é•·åº¦)\r\n\r\n> ä½¿ç”¨ fill() æœƒæ”¹è®ŠåŸæœ¬çš„é™£åˆ—å…§å®¹\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\na.fill(\"a\");\r\nconsole.log(a); // ['a','a','a','a','a','a','a','a']\r\n\r\nlet b = [1, 2, 3, 4, 5, 6, 7, 8];\r\nb.fill(\"b\", 3, 5);\r\nconsole.log(b); // [1,2,3,'b','b',6,7,8]\r\n```\r\n\r\n## å›å‚³é™£åˆ—å…ƒç´ è³‡è¨Šæˆ–ç´¢å¼•å€¼\r\n\r\n### length() å–å¾—é™£åˆ—é•·åº¦\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nconsole.log(a.length); // 8\r\n```\r\n\r\n### indexOf()\r\n\r\n### lastIndexOf()\r\n\r\n### find() å›å‚³ç¬¬ä¸€å€‹ç¬¦åˆåˆ¤æ–·æ¢ä»¶çš„å…ƒç´ \r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nconsole.log(a.find((e) => e > 3)); // 4\r\nconsole.log(a.find((e) => e < 0)); // undefined\r\n```\r\n\r\n### findIndex()\r\n\r\n### filter() å›å‚³æ¢ä»¶ç‚º true çš„å…ƒç´ çµ„æˆçš„é™£åˆ—\r\n\r\næœƒå°‡é™£åˆ—ä¸­æ¯ä¸€å€‹å…ƒç´ ï¼Œå¸¶å…¥æŒ‡å®šçš„å‡½å¼åšåˆ¤æ–·ï¼Œè‹¥å…ƒç´ ç¬¦åˆåˆ¤æ–·æ¢ä»¶æœƒå‚³å‡ºæˆå”¯ä¸€å€‹æ–°çš„é™£åˆ—å…ƒç´ ã€‚\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nconsole.log(a.filter((e) => e > 3)); // [4, 5, 6, 7, 8]\r\nconsole.log(a.filter((e) => e % 2 == 0)); // [2, 4, 6, 8]\r\n```\r\n\r\n## é‡å°æ¯å€‹å…ƒç´ é€²è¡Œè™•ç†\r\n\r\n### forEach()\r\n\r\nå°‡é™£åˆ—ä¸­æ¯å€‹å…ƒç´ å¥—ç”¨åˆ°æŒ‡å®šå‡½å¼è£¡é¢é€²è¡Œé‹ç®—ã€‚\r\n\r\nå‡½å¼æœ‰ä¸‰å€‹åƒæ•¸ï¼š\r\n\r\n1. è¡¨ç¤ºæ¯å€‹å…ƒç´ çš„å€¼(å¿…å¡«)\r\n2. è©²å…ƒç´ çš„ç´¢å¼•å€¼(é¸å¡«)\r\n3. è¡¨ç¤ºåŸæœ¬çš„é™£åˆ—(é¸å¡«)\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5];\r\nlet b = 0;\r\na.forEach((item) => {\r\n  b = b + item;\r\n});\r\nconsole.log(b); // 15 => (1 + 2 + 3 + 3 + 4 + 5)\r\n```\r\n\r\n## ç”¢ç”Ÿæ–°çš„é™£åˆ—æˆ–å€¼\r\n\r\n### join()\r\n\r\n### concat()\r\n\r\n### slice()\r\n\r\n### map() è™•ç†é™£åˆ—ä¸­æ¯ä¸€å€‹å…ƒç´ ï¼Œæœ€å¾Œå›å‚³ä¸€å€‹æ–°çš„é™£åˆ—\r\n\r\nè£¡é¢æœ‰ä¸€å€‹å‡½å¼(å¿…å¡«)å’Œä¸€å€‹å›å‚³å‡½å¼è£¡é¢çš„ this åƒæ•¸(é¸å¡«)ï¼Œå‡½å¼ä¸­åŒ…å«ä¸‰å€‹åƒæ•¸ï¼š\r\n\r\n1. æ¯å€‹å…ƒç´ çš„å€¼(å¿…å¡«)\r\n2. ç•¶å‰å…ƒç´ çš„ index å€¼(é¸å¡«)\r\n3. ç•¶å‰çš„é™£åˆ—(é¸å¡«)\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.map((e) => {\r\n  return e + 10;\r\n});\r\nconsole.log(b); // [11, 12, 13, 14, 15, 16, 17, 18]\r\n```\r\n\r\nå¥—ç”¨ç¬¬äºŒå’Œç¬¬ä¸‰å€‹åƒæ•¸çš„è®ŠåŒ–\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.map((e, i, arr) => {\r\n  return `${e}${i}${arr.find((e) => e % 5 == 1)}`; // çµ„åˆæˆã€Œå…ƒç´  + ç´¢å¼•å€¼ + é™¤ä»¥äº”é¤˜æ•¸ç‚º 1 çš„å…ƒç´ ã€\r\n});\r\nconsole.log(b); // ['101', '211', '321', '431', '541', '651', '761', '871']\r\n```\r\n\r\nè‹¥è¦ä½¿ç”¨å›å‚³å‡½å¼è£¡ this çš„å‡½æ•¸ï¼Œå‰‡ã€Œä¸èƒ½ä½¿ç”¨ã€ç®­é ­å‡½å¼ï¼Œå› ç‚ºç®­é ­å‡½å¼çš„ this æŒ‡å‘ï¼Œå’Œå‡½å¼çš„ this æŒ‡å‘ä¸åŒï¼Œæ‰€ä»¥è¦ç”¨ä¸€èˆ¬çš„å‡½å¼è™•ç†ã€‚\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.map(function (e) {\r\n  return e + this; // æ­¤è™•çš„ this ç‚º 10\r\n}, 10);\r\nconsole.log(b); // [11, 12, 13, 14, 15, 16, 17, 18]\r\n```\r\n\r\n### reduce() è¨ˆç®—é™£åˆ—ä¸­æ¯å€‹å…ƒç´ ï¼Œä¸¦å°‡çµæœèˆ‡ä¸‹å€‹å…ƒç´ åšè¨ˆç®—\r\n\r\nå¯ä»¥å°‡é™£åˆ—ä¸­çš„æ¯ä¸€å€‹å…ƒç´ åšè¨ˆç®—ï¼Œæ¯æ¬¡è¨ˆç®—çš„çµæœï¼Œæœƒå†èˆ‡ä¸‹å€‹å…ƒç´ åšè¨ˆç®—åˆ°çµæŸç‚ºæ­¢ã€‚\r\n\r\nåŒ…å«ä¸€å€‹å‡½å¼ï¼Œå‡½å¼å…§æœ‰å››å€‹åƒæ•¸ï¼š\r\n\r\n1. è¨ˆç®—çš„å€¼(å¿…å¡«)\r\n2. å–å¾—çš„å…ƒç´ (å¿…å¡«)\r\n3. è©²å…ƒç´ çš„ index å€¼(é¸å¡«)\r\n4. åŸæœ¬çš„é™£åˆ— (é¸å¡«)\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.reduce(function (total, e) {\r\n  return total + e;\r\n});\r\nconsole.log(b); // 36 => (1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 = 36)\r\n```\r\n\r\n### reduceRight() è¨ˆç®—æ–¹å¼ç‚ºå¾å³åˆ°å·¦\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.reduce(function (total, e) {\r\n  return total - e;\r\n});\r\nconsole.log(b); // -34 (1 - 2 - 3 - 4 - 5 - 6 - 7 - 8 = -34)\r\nlet c = a.reduceRight(function (total, e) {\r\n  return total - e;\r\n});\r\nconsole.log(c); // -20 (8 - 7 - 6 - 5 - 4 - 3 - 2 - 1 = -20)\r\n```\r\n\r\n### flat() å°‡å¤šç¶­é™£åˆ—æ‰å¹³åŒ–\r\n\r\nå¯ä»¥å°‡ä¸€å€‹å¤šç¶­é™£åˆ—çš„æ·±åº¦è½‰æ›ç‚ºä¸€ç¶­(æ‰å¹³åŒ–)ï¼Œä»–æœ‰ä¸€å€‹é¸å¡«çš„åƒæ•¸ï¼Œä»£è¡¨è¦è½‰æ›çš„æ·±åº¦ï¼Œå…¶é è¨­ç‚º 1ï¼Œå¦‚æœæ·±åº¦å¾ˆå¤šå±¤ï¼Œå¯ä»¥ç”¨`infinity`ä¾†å…¨éƒ¨å±•é–‹æˆä¸€ç¶­é™£åˆ—ã€‚\r\n\r\n```javascript\r\nlet a = [1, 2, [3], [4, [5, [6]]]];\r\nlet b = a.flat();\r\nlet c = a.flat(2);\r\nlet d = a.flat(Infinity);\r\nconsole.log(b); // [1, 2, 3, 4, [5, [6]]]\r\nconsole.log(c); // [1, 2, 3, 4, 5, [6]]\r\nconsole.log(d); // [1, 2, 3, 4, 5, 6]\r\n```\r\n\r\n### flatMap() map + flat()\r\n\r\nåœ¨é‹ç®—å¾Œç›´æ¥å°‡é™£åˆ—æ‰å¹³åŒ–\r\n\r\n```javascript\r\nlet a = [1, 2, [3], [4, 5]];\r\nlet b = a.flatMap((e) => e + 1);\r\nlet c = a.map((e) => e + 1).flat();\r\nconsole.log(b); // [2, 3, \"31\", \"4,51\"] ( å¯ä»¥çœ‹åˆ° b å’Œ c å¾—åˆ°çš„çµæœç›¸åŒ )\r\nconsole.log(c); // [2, 3, \"31\", \"4,51\"]\r\n```\r\n\r\n### Array.from()\r\n\r\n### Array.of() å°‡æ•¸å€¼ã€å­—ä¸²ç­‰å…§å®¹ï¼Œè½‰æ›ç‚ºé™£åˆ—\r\n\r\n```javascript\r\nlet a = Array.Of(1, \"a\", 2, \"b\", 3);\r\nconsole.log(a); // [1, \"a\", 2, \"b\", 3]\r\n```\r\n\r\n### toString() å°‡é™£åˆ—è½‰æ›ç‚ºå­—ä¸²\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.toString();\r\nconsole.log(b); // 1,2,3,4,5,6,7,8\r\n```\r\n\r\n## åˆ¤æ–·\r\n\r\n### every() å…¨éƒ¨ç¬¦åˆåˆ¤æ–·æ¢ä»¶å›å‚³ true\r\n\r\nåªè¦æœ‰ä»»ä½•ä¸€å€‹å…ƒç´ ä¸ç¬¦åˆåˆ¤æ–·æ¢ä»¶ï¼Œå°±æœƒå›å‚³ falseï¼Œå…¨éƒ¨ç¬¦åˆå°±æœƒå›å‚³ trueã€‚\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6];\r\nconsole.log(a.every((e) => e > 3)); // false (1, 2 å°æ–¼ 3ï¼Œ3ã€€ç­‰æ–¼ 3)\r\nconsole.log(a.every((e) => e > 0)); // true\r\n```\r\n\r\n### some() å…¶ä¸­ä»»ä¸€ç¬¦åˆå›å‚³ true\r\n\r\næœƒå°‡é™£åˆ—ä¸­æ¯ä¸€å€‹å…ƒç´ å¸¶å…¥æŒ‡å®šçš„å‡½å¼ä¸­åšåˆ¤æ–·ï¼Œåªè¦æœ‰ä»»ä¸€å€‹å…ƒç´ ç¬¦åˆåˆ¤æ–·æ¨™æº–ï¼Œå°±æœƒå›å‚³ trueï¼Œè‹¥å®Œå…¨ä¸ç¬¦åˆï¼Œå›å‚³ false\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nconsole.log(a.some((e) => e > 3)); // true (å› ç‚º 4, 5, 6 å¤§æ–¼ 3)\r\nconsole.log(a.some((e) => e > 6)); // false (å› ç‚ºå…¨éƒ¨éƒ½å°æ–¼æˆ–ç­‰æ–¼ 6)\r\n```\r\n\r\n### include() é™£åˆ—ä¸­ä½¿å¦åŒ…å«æŒ‡å®šå€¼\r\n\r\næœƒåˆ¤æ–·é™£åˆ—ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå€¼ï¼ŒåŒ…å«å›å‚³ trueï¼Œå¦å‰‡å›å‚³ falseã€‚\r\n\r\næœ‰å…©å€‹åƒæ•¸ï¼š\r\n\r\n1. è¡¨ç¤ºè¦åˆ¤æ–·çš„å€¼(å¿…å¡«)\r\n2. é™£åˆ—çš„é–‹å§‹ä½ç½®(é¸å¡«)\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nconsole.log(a.includes(2)); // true\r\nconsole.log(a.includes(2, 2)); // false (å¾é™£åˆ—ä¸­ç¬¬äºŒå€‹ä½ç½®é–‹å§‹æœå°‹ï¼Œæ²’æœ‰ 2)\r\n```\r\n\r\n### Array.inArray()\r\n\r\n## å…¶ä»–\r\n\r\n### keys()\r\n\r\n### valueOf() å›å‚³é™£åˆ—çš„åŸå§‹å€¼\r\n\r\n```javascript\r\nlet a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nlet b = a.valueOf();\r\nconsole.log(a); // [1, 2, 3, 4, 5, 6, 7, 8]\r\nlet c = a.valueOf();\r\na.shift();\r\nconsole.log(a); // [2, 3, 4, 5, 6, 7, 8]\r\nconsole.log(b); // [2, 3, 4, 5, 6, 7, 8] ( å› ç‚º a çš„åŸå§‹å€¼æ›´å‹•äº†ï¼Œæ‰€ä»¥ b ä¹Ÿè®Šäº† )\r\nconsole.log(c); // [2, 3, 4, 5, 6, 7, 8]\r\n```\r\n","date":"2023-06-26T05:41:29.138Z","matchingLines":["## æ”¹è®ŠåŸå§‹é™£åˆ—\r","## å›å‚³é™£åˆ—å…ƒç´ è³‡è¨Šæˆ–ç´¢å¼•å€¼\r","## é‡å°æ¯å€‹å…ƒç´ é€²è¡Œè™•ç†\r","## ç”¢ç”Ÿæ–°çš„é™£åˆ—æˆ–å€¼\r","## åˆ¤æ–·\r","## å…¶ä»–\r"],"tocContent":""},{"name":"Design Pattern.md","content":"# è¨­è¨ˆæ¨¡å¼ Design Pattern\r\n\r\n> åƒè€ƒè³‡æ–™\r\n>\r\n> [è¨­è¨ˆæ¨¡å¼ç³»åˆ—æ–‡](https://kimlin20011.medium.com/%E4%BB%80%E9%BA%BC%E6%98%AF%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F-design-pattern-%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F%E7%B3%BB%E5%88%97%E6%96%87-%E4%B8%8A-5988dacfda4a)\r\n\r\n## ä»€éº¼æ˜¯è¨­è¨ˆæ¨¡å¼\r\n\r\n> æ¯ä¸€å€‹æ¨¡å¼(Pattern)éƒ½æ˜¯åœ¨æŸå€‹ç‰¹å®šæƒ…å¢ƒ(context)ä¸‹ï¼Œé‡å°æŸå•é¡Œ(Problem)æå‡ºçš„è§£æ±ºæ–¹æ¡ˆ(solution)ã€‚\r\n\r\nåœ¨è»Ÿé«”å·¥ç¨‹ä¸­å°‡ Pattern åˆ†ç‚ºï¼š\r\n\r\n- Architecture Pattern: è§£æ±ºè»Ÿé«”ç³»çµ±æ¶æ§‹å±¤é¢çš„å•é¡Œã€‚å¦‚ï¼šMVC æ¶æ§‹ã€Layer...\r\n- Design Pattern: æä¾›æ”¹å–„è»Ÿé«”ç³»çµ±ä¸­å­ç³»çµ±èˆ‡å…ƒä»¶(components)çš„æ–¹æ¡ˆã€‚å¸¸è¦‹å¦‚ï¼šObserver, Facade, Adapter...\r\n- Idioms: æ˜¯ä¸€ç¨® lowest-level patternï¼Œç‚º programming(ç¨‹å¼æ’°å¯«)å±¤ç´šæä¾›ç¨‹å¼æ”¹å–„æ–¹æ¡ˆï¼Œä¸»è¦é€éç¨‹å¼èªè¨€çš„è§£æ±ºæ–¹æ¡ˆä¾†å¯¦ç¾ã€‚\r\n\r\n### ç¯„ä¾‹\r\n\r\næƒ…å¢ƒ(context)ï¼šæ¯å€‹äººéƒ½å–œæ­¡ååœ¨çª—é‚Šï¼Œæœ‰ä½çŸ®çš„å¤§çª—å°èˆ‡èˆ’é©çš„æ¤…å­ï¼Œè‹¥ä¸€å€‹æˆ¿é–“ä¸­æ²’æœ‰å¦‚æ­¤ç’°å¢ƒï¼Œå¾ˆé›£è®“äººæ„Ÿåˆ°èˆ’æœã€‚\r\n\r\næ­¤æ™‚çš„å•é¡Œ(problem)æ­£æ˜¯ï¼šå¦‚ä½•è®“äººæ„Ÿåˆ°èˆ’æœè‡ªåœ¨ï¼Ÿ\r\n\r\næ­¤æ™‚æœ‰å…©å€‹éœ€æ±‚(Force)ï¼š\r\n\r\n- ä½ æƒ³è¦èˆ’æœåœ°åä¸‹\r\n- ä½ æƒ³è¦é¢å°çª—æˆ¶\r\n\r\nä½†å¾€å¾€å…©å€‹éœ€æ±‚æœƒäº’ç›¸è¡çªï¼š\r\n\r\n- èˆ’æœçš„æ¤…å­èƒŒå°çª—æˆ¶\r\n- é¢å°çª—æˆ¶åªæœ‰ä¸€å¼µå£æ‰çš„æ¤…å­\r\n\r\næœ€å¥½çš„æ–¹æ³•å°±æ˜¯ç•¶ä½ æ¯æ¬¡åœ¨å®‰æ’å®¤å…§å¸ƒå±€æ™‚ï¼Œé›–ç„¶æˆ¿é–“å¯èƒ½æ²’æœ‰å¤ªå¤šæ“ºè¨­çš„é¸æ“‡ï¼Œä½†è‡³å°‘ä¾å¾ªè‘—ä¸€å€‹\"é¢å°çª—æˆ¶æœ‰ä¸€å€‹èˆ’æœçš„ä½ç½®\"é€™æ¨£çš„æ¨¡å¼ã€‚\r\n\r\n## å¦‚ä½•æè¿°è¨­è¨ˆæ¨¡å¼\r\n\r\nè¨­è¨ˆæ¨¡å¼çš„ç™¼è¡¨é›–ç„¶ä¹Ÿæ˜¯å­¸è¡“çš„ä¸€ç’°ï¼Œä½†å…¶è¬›æ±‚çš„é‡é»èˆ‡ä¸€èˆ¬å­¸è¡“è«–æ–‡ä¸åŒã€‚\r\n\r\næ¯”èµ·ä¸€èˆ¬å­¸è¡“è«–æ–‡è¦æ±‚æ·±å…¥åš´è¬¹ï¼Œè¨­è¨ˆæ¨¡å¼æ›´åƒæ˜¯ä¸€å€‹ç”¢å“èªªæ˜ï¼Œé ˆå…·å‚™é«˜åº¦çµæ§‹æ€§çš„æ–¹æ³•èˆ‡æ·ºé¡¯æ˜“æ‡‚çš„è¡Œæ–‡ä¾†è¡¨é”ã€‚\r\n\r\né€™è£¡ä¸»è¦ä½¿ç”¨çš„æ˜¯ POSA ä¸­ï¼Œè¨­è¨ˆæ¨¡å¼çš„æè¿°çµæ§‹ã€‚\r\n\r\n### Name\r\n\r\nåå­—æ˜¯ä¸€å€‹è®€è€…äº†è§£æ¨¡å¼æœ€å¿«çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç¸½çµä¸€å€‹æ¨¡å¼çš„é‡è¦æ–¹æ³•ã€‚è€Œä¸”è¦å° pattern å‘½åæœ‰å¾ˆå¤šç¨®æ–¹æ³•ï¼Œå¸¸è¦‹çš„æœ‰ï¼š\r\n\r\n- å–è‡ª solution çš„æŠ½è±¡ç‰¹å¾µï¼Œå¦‚ï¼š\r\n  - Adapter æ¨¡å¼(åƒæ˜¯ä¸€å€‹è½‰æ¥å™¨ï¼Œè½‰ä»‹ä¸åŒè¦æ ¼çš„ç‰©å“)\r\n  - Observer æ¨¡å¼(åƒä¸€å€‹è§€å¯Ÿè€…ï¼Œè‹¥è¨‚é–±çš„æ¨™çš„æœ‰ç‹€æ…‹çš„è®ŠåŒ–ï¼Œå‰‡é¦¬ä¸Šé€šçŸ¥è¨‚é–±è€…)\r\n- å–è‡ª solution ä¸­å…ƒä»¶çš„åç¨±ï¼Œåƒæ˜¯ MVC (å–è‡ªç³»çµ±ä¸­çš„ modelã€viewã€controller ä¸‰å€‹å…ƒä»¶çš„é ­ä¸€å€‹å­—æ¯)\r\n\r\n### Context\r\n\r\nèˆ‰å‡ºæ¨¡å¼å¯èƒ½é©ç”¨çš„æƒ…æ³ã€‚ä¸»è¦æ˜¯æ•´ç† problem å¯èƒ½ç™¼ç”Ÿçš„æƒ…å¢ƒä¾†ç•Œå®š problem å¯èƒ½ç™¼ç”Ÿçš„ç¯„åœã€‚é›–ç„¶ context ä¸èƒ½åˆ—å‡ºæ‰€æœ‰æƒ…å¢ƒï¼Œä½†è‡³å°‘å¯ä»¥æä¾›é‡è¦çš„æŒ‡å¼•ã€‚\r\n\r\n### Problem\r\n\r\nproblem æ˜¯æè¿°æœƒåœ¨ context ä¸­é‡è¤‡ç™¼ç”Ÿçš„å•é¡Œã€‚å¦ä¸€æ–¹é¢ problem ä¹Ÿæ˜¯ pattern çš„æ ¸å¿ƒå…ƒç´ ï¼Œèªªæ˜ä¸»è¦æ¨¡å¼çš„è¨­è¨ˆè­°é¡Œã€‚\r\nproblem ä¸­æœ‰ä¸€å€‹å¾ˆé‡è¦çš„å…ƒç´ ï¼šforceã€‚åœ¨å‰é¢çš„ç¯„ä¾‹ä¸­æœ‰æåˆ°ï¼Œforce æ˜¯å°è‡´è¨­è¨ˆå•é¡Œä¸­å­˜åœ¨çš„å…·é«”çš„åŠ›ï¼ŒåŒæ™‚ï¼Œforce å¹«åŠ© context ä¸­å…·é«”å½¢å¡‘å‡º solution çš„é‚Šç•Œã€‚ä¸»è¦åˆ—å‡ºå¹¾å€‹éœ€è¦è§£æ±ºçš„å±¤é¢ï¼š\r\n\r\n- solution éœ€è¦æ»¿è¶³çš„éœ€æ±‚\r\n- solution éœ€è¦è€ƒæ…®çš„é™åˆ¶\r\n- solution éœ€è¦åŒ…å«çš„ç‰¹æ€§\r\n\r\nä½†ä¸å¹¸çš„æ˜¯ï¼Œforce å¸¸å¸¸æ˜¯äº’ç›¸çŸ›ç›¾ä¸”è¡çªçš„ï¼Œåœ¨è¨­è¨ˆ solution æ™‚å¸¸å¸¸éœ€è¦æ¬Šè¡¡ä¸åŒçš„ force ä¾†å¾—åˆ°æœ€é©åˆçš„è§£æ±ºæ–¹æ¡ˆã€‚\r\n\r\n### Solution(è§£æ±ºæ–¹æ¡ˆ)\r\n\r\nä»¥é«˜éšçš„æ–¹å¼æè¿° pattern è§£æ±ºæ–¹æ¡ˆåŸç†ã€‚solution æä¾›è§£æ±ºé‡è¤‡ç™¼ç”Ÿçš„ problem çš„æ–¹æ³•ï¼Œä¸¦ç›¡å¯èƒ½å¹³è¡¡ç›¸é—œçš„ force (å‰æ–‡æåˆ° force å¸¸å¸¸æ˜¯äº’ç›¸çŸ›ç›¾çš„)ã€‚å¦ä¸€æ–¹é¢ï¼Œsolution åˆä»¥ structure(å»ºæ§‹) (åƒæ˜¯ä»¥ UML é¡åˆ¥åœ–æè¿°å„å€‹é¡åˆ¥å…ƒä»¶ä¹‹é–“çš„é—œä¿‚)èˆ‡ Dynamics(å‹•åŠ›å­¸) (åƒæ˜¯ä»¥ UML çš„å¾ªç’°åœ–æè¿°å…ƒä»¶ä¹‹é–“çš„å‹•æ…‹è¡Œç‚ºèˆ‡å”ä½œ)å±¤é¢ä¾†æè¿° pattern ä¸­ä¸åŒå…ƒä»¶ä¹‹é–“çš„éœæ…‹é—œé€£èˆ‡å‹•æ…‹å”ä½œã€‚\r\n\r\n### Implementation(åŸ·è¡Œ)\r\n\r\nå¼•å°è®€è€…å¯¦ä½œ patternã€‚æ­¤éƒ¨åˆ†å¯ä»¥ä¾ç…§ pattern æè¿°çš„éœ€æ±‚æ¡ç”¨ï¼Œä¸¦é©ç•¶æä¾›å¯¦ä½œç¯„ä¾‹(å¦‚ï¼šç¨‹å¼ç¢¼ç­‰ç­‰)ï¼Œé€šå¸¸æä¾›èˆ‡ Example éƒ¨åˆ†ç›¸é—œçš„å¯¦ä½œæ–¹æ¡ˆã€‚\r\n\r\n### Example\r\n\r\né€éèˆ‰å¯¦éš›æ¡ˆä¾‹ä¾†è£œè¶³åœ¨ solution èˆ‡ Implementation éƒ¨åˆ†æ²’æœ‰è¢«æ¶µè“‹ä½†åˆç‚ºè§£æ±ºæ–¹æ¡ˆä¸­é‡è¦çš„å±¤é¢ã€‚\r\n\r\n### Variants(è®Šé«”)\r\n\r\næ­¤éƒ¨åˆ†å¯ä»¥ä¾ç…§ pattern æè¿°çš„éœ€æ±‚æ¡ç”¨ã€‚ç°¡è¿° pattern ç›¸é—œè®Šå½¢çš„å…¶ä»– patternã€‚\r\n\r\n### Known uses\r\n\r\nåˆ—èˆ‰èˆ‡ pattern ç›¸é—œçš„ç¾å­˜ç³»çµ±ã€‚ç”¨ä¾†è­‰æ˜æå‡ºçš„ pattern æ˜¯çœŸå¯¦ä¸–ç•Œä¸­ç›¸é—œæƒ…å¢ƒå­˜åœ¨çš„è¨­è¨ˆå•é¡Œï¼Œpattern çš„è§£æ±ºæ–¹æ¡ˆå·²è¢«æ‡‰ç”¨ä¸”èƒ½æœ‰æ•ˆçš„è§£æ±ºå•é¡Œã€‚\r\n\r\n### Consequences(çµæœ)\r\n\r\nåˆ—èˆ‰ pattern çš„å„ªåŠ£å‹¢ã€‚ä¸€å€‹ pattern ä¸å¯èƒ½æ˜¯å®Œç¾çš„ï¼Œå› æ­¤ä¹Ÿéœ€è¦åˆ—å‡ºåœ¨ç‰¹å®šæƒ…å¢ƒä¸‹å¯èƒ½é€ æˆçš„é™åˆ¶æˆ–ç¼ºé™·ã€‚\r\n\r\n### Related pattern\r\n\r\nåˆ—èˆ‰ç”¨ä¾†è§£æ±ºç›¸ä¼¼æƒ…å¢ƒä¸‹çš„è¨­è¨ˆå•é¡Œæˆ–èƒ½èˆ‡è©² pattern æ•´åˆå”ä½œçš„å…¶ä»– patternã€‚\r\n\r\n## æ’°å¯«è¨­è¨ˆæ¨¡å¼æ™‚éœ€è¦çš„æ€è€ƒè„ˆçµ¡\r\n\r\nå†æ¬¡åˆ—èˆ‰ä¸Šé¢æåˆ°çš„ä¾‹å­ï¼š\r\n\r\n1. é¦–å…ˆï¼Œå…ˆç¢ºå®šç›®æ¨™çš„æƒ…å¢ƒã€‚\r\n   > æˆ‘å€‘è¦è¨­è¨ˆä¸€å€‹å·¥ä½œå®¤ï¼Œè€Œé€™å€‹å·¥ä½œå®¤åªæœ‰å…©æ‰‡çª—ï¼Œå¹¾å¼µèˆ’é©çš„æ¤…å­ï¼Œå¹¾å¼µé›£åçš„æ¤…å­\r\n2. ç¢ºå®šè¨­è¨ˆå•é¡Œ\r\n   > å¦‚ä½•è®“å·¥ä½œå®¤å·¥ä½œçš„äººä¸€æ•´å¤©éƒ½èƒ½èˆ’æœè‡ªåœ¨ã€‚\r\n3. æ¥è‘—æ€è€ƒå½±éŸ¿ä¸Šè¿°å•é¡Œç™¼ç”Ÿçš„å…·é«”ä½œç”¨åŠ›ï¼Œä»¥å½¢å¡‘è§£æ±ºæ–¹æ¡ˆçš„é‚Šç•Œ\r\n   > éœ€è¦èˆ’é©çš„åè‘—\r\n   > æƒ³è¦é çª—ï¼Œæ‰èƒ½å¶çˆ¾çœ‹çœ‹çª—å¤–ä¾†ç´“è§£å£“åŠ›ã€‚\r\n4. åˆ—å‡ºé€™äº› force å¾Œï¼Œæ¥è‘—å¯ä»¥é–‹å§‹è¨­è¨ˆè§£æ±ºæ–¹æ¡ˆ\r\n   > éœ€è¦èˆ’æœåœ°åè‘—ï¼šåœ¨å·¥ä½œä½ç½®ä¸ŠæŒ‘é¸èˆ’é©çš„æ¤…å­\r\n   > æƒ³è¦é çª—ï¼šå°‡è¾¦å·¥ä½œæ¡Œèˆ‡è¾¦å…¬æ¤…ï¼Œç›¡å¯èƒ½çš„ç·Šé çª—æˆ¶\r\n5. å¯ä»¥ç”¨ç¹ªåœ–çš„æ–¹å¼è¼”åŠ©èªªæ˜è§£æ±ºæ–¹æ¡ˆï¼Œåˆ—å‡ºå·¥ä½œå®¤æ“ºè¨­çš„å‹•æ…‹(é€™å€‹æ¨¡å¼å¯èƒ½ä¸éœ€è¦)èˆ‡éœæ…‹(æ“ºè¨­åœ–)é—œä¿‚\r\n6. é€éèˆ‰ä¾‹ï¼Œå¼•å°åƒè€ƒæ­¤æ¨¡å¼çš„æ–½å·¥äººå“¡ï¼Œå¯¦ä½œæœ¬æ¨¡å¼æå‡ºçš„æ–¹æ³•\r\n   > ä¾‹å¦‚ï¼šåˆ—å‡ºæ¤…å­çš„è¦æ ¼ã€çª—æˆ¶å’Œæ¤…å­çš„è·é›¢ã€æ“ºæ”¾è§’åº¦ç­‰ç­‰\r\n7. ç‚ºäº†è­‰æ˜æ­¤æ–¹æ¡ˆæ˜¯æœ‰æ•ˆçš„ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨å¹¾å€‹ç¶“å…¸çš„å®¤å…§è¨­è¨ˆæ¡ˆä¾‹ä¾†ä½è­‰\r\n8. å®Œæˆå¤§éƒ¨åˆ†çš„è¨­è¨ˆæ¨¡å¼å…§å®¹å¾Œï¼Œå¯ä»¥é€éåˆ—èˆ‰å„ªé»èˆ‡é™åˆ¶ä¾†ç‚ºè¨­è¨ˆæ¨¡å¼åšå€‹ç¸½çµ\r\n   > å„ªé»ï¼šå¯ä»¥ä½¿äººé•·æ™‚é–“èˆ’é©çš„å¾…åœ¨å·¥ä½œå®¤å·¥ä½œ\r\n   > ç¼ºé»ï¼šé¸æ“‡èˆ’é©çš„æ¤…å­ï¼Œéœ€èŠ±è²»è¼ƒé«˜çš„æˆæœ¬ã€‚çª—æˆ¶é ˆæœ‰ä¸åŒé«˜åº¦(äººåè‘—å¯ä»¥ç›´æ¥çœ‹åˆ°çª—å¤–çš„é«˜åº¦)\r\n9. é€éæå‡ºçš„è§£æ±ºæ–¹æ¡ˆçš„ç‰¹å¾µï¼Œä¾†ç‚ºæ­¤è¨­è¨ˆæ¨¡å¼å‘½å\r\n   > æ¤…å­èˆ‡çª—æˆ¶çš„å°å‘æ¨¡å¼\r\n\r\n## è¨­è¨ˆæ¨¡å¼æ’°å¯«æ™‚çš„æ€è€ƒè„ˆçµ¡\r\n\r\n- ç•Œå®šæƒ…å¢ƒ(context)\r\n- å®šç¾©è¨­è¨ˆå•é¡Œ(problem)\r\n- å¾è¨­è¨ˆå•é¡Œä¸­åˆ—å‡ºæœƒå½±éŸ¿è©²å•é¡Œç™¼ç”Ÿå…·é«”çš„åŠ›(force)\r\n- ä¾å¾ªæ‰€åˆ—å‡ºçš„ force ä¾†è¨­è¨ˆè§£æ±ºæ–¹æ³•(solution)\r\n- çµ±æ•´è§£æ±ºæ–¹æ¡ˆï¼Œä»¥éœæ…‹(structure)èˆ‡å‹•æ…‹(dynamics)çš„æè¿°æ–¹å¼è¡¨è¿°ä¹‹\r\n- æœ€å¾Œå¼•å°è®€è€…å¯¦ä½œ pattern ä¸¦æå‡ºç›¸é—œçš„ç¯„ä¾‹(example)\r\n- ç‚ºäº†è­‰æ˜ pattern çš„å¯¦ç”¨æ€§ï¼Œå¯åˆ—èˆ‰å‡ºå·²çŸ¥æ‡‰ç”¨ pattern ä¸­ç›¸ä¼¼è§£æ³•çš„ä¾‹å­(known uses)\r\n- æœ€å¾Œåˆ—å‡ºæ‡‰ç”¨è©² pattern å¾Œç”¢ç”Ÿçš„å„ªé»èˆ‡é™åˆ¶(consequences)\r\n- é€šå¸¸åœ¨ pattern å®Œæˆä¹‹å¾Œå¯ä»¥ä¾æ“š pattern çš„ç‰¹æ€§ç‚º pattern å‘½å(name)ï¼Œä¹Ÿå¯ä»¥é‚Šæ’°å¯«æ™‚é‚Šæ€è€ƒã€‚\r\n\r\n## å¦‚ä½•å®Œå–„å·²å®Œæˆçš„è¨­è¨ˆæ¨¡å¼ï¼Ÿ\r\n\r\n### Big Picture\r\n\r\n- å¦‚ä½•æŒæ¡è¨­è¨ˆæ¨¡å¼çš„ä¸»æ—¨ï¼š\r\n\r\n  - è¨­è¨ˆæ¨¡å¼çš„åˆç¨¿é€šå¸¸é›£ä»¥ç†è§£ã€‚è€Œæè¿°å¾—å¤ªç°¡æ½”å¾€å¾€ç¼ºä¹å¯¦è³ªçš„å…§å®¹ï¼›ç›¸åçš„ï¼Œå…§å®¹å¤ªéé¾å¤§ï¼ˆæè¿°çš„å¤šè€Œæ·±å…¥ï¼‰é€šå¸¸å› ç‚ºå¤ªå°ˆæ³¨ç´°ç¯€çš„æè¿°è€Œæ¨¡ç³Šäº†æ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µã€‚\r\n\r\n- ThereFore\r\n  - shepherd åœ¨å‰›å‰›æ¥è§¸è¨­è¨ˆæ¨¡å¼çš„æ™‚å€™å¿…é ˆå…ˆé–±è®€ problem èˆ‡ solution çš„éƒ¨åˆ†ä¾†æŒæ¡è©²æ¨¡å¼çš„å¤§ç¶±ï¼Œé€™ä¸»è¦æ˜¯å› ç‚º sheep é€šå¸¸æœ€æ³¨é‡å†è§£æ±ºæ–¹æ¡ˆçš„è¨­è¨ˆéƒ¨åˆ†ï¼Œä¸¦å°‡æ‰€æœ‰å°æ¨¡å¼çš„æƒ³æ³•ï¼ŒçŒè¼¸åœ¨ solution ä¸­ã€‚\r\n\r\n### Matching Problem and Solution\r\n\r\n- å¦‚ä½•ç¢ºå®šæ¨¡å¼çœŸçš„æ˜¯æ¨¡å¼çš„æ¨£å­(pattern-ish)\r\n\r\n  - åœ¨æ’°å¯«æ¨¡å¼æ™‚ï¼Œå¸¸æœƒå…ˆå¯«å¥½ solution ï¼ˆå› ç‚ºå¯èƒ½åœ¨ä¸æ–·å¯¦ä½œä¸­é ˜æ‚Ÿåˆ°é€šç”¨è§£æ±ºæ–¹æ³•ï¼‰ï¼Œè€Œå¾Œåœ¨å»è¨­è¨ˆæ¨¡å¼çš„å•é¡Œï¼Œæ‰€ä»¥åœ¨å¯©ç¨¿çš„æ™‚å€™ï¼Œå¸¸å¸¸è®€èµ·ä¾†ä¸æ¸…æ¥šé€™å€‹æ¨¡å¼çš„çœŸæ­£ç›®çš„æ˜¯ä»€éº¼ã€‚\r\n\r\n- ThereFore\r\n  - å¯©ç¨¿çš„æ™‚å€™è¦ç¢ºèªè¨­è¨ˆæ¨¡å¼çš„ solution æœ‰å®Œæ•´çš„é‡å° problem è§£æ±ºï¼Œè§£æ±ºæ–¹æ¡ˆä¹Ÿä¸èƒ½è¶…é problem çš„ç¯„åœï¼ˆå‰›å¥½å°±å¥½ï¼Œä¸èƒ½å¤šé¤˜ï¼‰ï¼Œä¹‹å¾Œå†åŠ å¼·å…¶ä¸­ä¸è¶³çš„éƒ¨åˆ†ï¼ˆproblem æˆ–æ˜¯ solution ï¼‰ã€‚\r\n\r\n### Convincing Solution\r\n\r\n- å¦‚ä½•æé«˜è¨­è¨ˆæ¨¡å¼çš„å¯ä¿¡åº¦(believable)\r\n  - æœ‰æ™‚å€™ solution æä¾›çš„è§£æ³•æ ¹æœ¬ç„¡æ¿Ÿæ–¼äº‹ï¼Œçœ‹èµ·ä¾†æ²’æœ‰å¯¦ç¾çš„èƒ½åŠ›ã€‚\r\n- therefore\r\n  - ä¸€èˆ¬çš„ pattern åœ¨çœ‹å®Œ solution å¾Œé€šå¸¸è¦æœ‰ã€ŒåŸä¾†å¯ä»¥è€…éº¼è§£æ±ºã€çš„æ„Ÿè¦ºã€‚å¦‚æœæ²’æœ‰ï¼Œå‰‡æ¯”éœ€è¦æä¾›çœŸæ­£å¯¦ä½œæ‡‰ç”¨çš„ç´°ç¯€ï¼Œæ‰èƒ½ä½¿äººä¿¡æœã€‚\r\n\r\n### Forces Define Problem\r\n\r\n- å¦‚ä½•æ›´æ·±å±¤çš„ç­è§£å•é¡Œ\r\n  - å¾ˆå¤šè¨­è¨ˆæ¨¡å¼çš„åˆç¨¿ï¼Œå°æ–¼ problem çš„æè¿°éƒ½å¾ˆè–„å¼±ã€‚\r\n- Therefore\r\n  - é ˆè¦é€é Force ä¾†å…·é«”åŒ–å° problem çš„æ•˜è¿°ã€‚è€Œä½œè€…é ˆè¦ä»¥è¿­ä»£çš„æ–¹å¼ä¸å°æ–·ä¿®æ­£èˆ‡å¢å¼·å° Force èˆ‡ Problem çš„æ•˜è¿°ï¼Œé€éåˆ—å‡ºå…·é«”åŒ–ä¸åŒçš„ Forceï¼Œå°‹æ‰¾äº¤é›†å¾Œï¼Œæœ€å¾Œç‚ºå…¶ç¸½çµå‡ºæ ¸å¿ƒå•é¡Œã€‚\r\n\r\n### Balance Context\r\n\r\n- å¦‚ä½•ç‚º pattern åŠƒå®šå‡ºåˆé©çš„ç¯„åœ\r\n  - åœ¨æ’°å¯«è¨­è¨ˆæ¨¡å¼çš„ context æ™‚ï¼Œå¸¸å¸¸ä¸å°å¿ƒæŠŠæƒ…å¢ƒçš„ç¯„åœç•Œå®šçš„å¤ªå¤§æˆ–å¤ªå°ï¼Œä¹Ÿå¾€å¾€å¿½ç•¥äº†ç•Œå®šè©²æƒ…å¢ƒæ‡‰ç”¨ pattern ä¹‹å¾Œå¯èƒ½çš„çµæœã€‚\r\n- Therefore\r\n  - åœ¨æ’°å¯«è¨­è¨ˆæ¨¡å¼æ™‚ï¼Œå¿…é ˆè¦å…·é«”æ€è€ƒä¸¦èªªæ˜æƒ…å¢ƒä½¿ç”¨èˆ‡ä¸é©ç”¨é€™å€‹æ¨¡å¼å‰å¾Œçš„å·®ç•°ï¼Œé€™æ¨£ä¸åƒ…èƒ½å¤ è³¦äºˆæ¨¡å¼çš„ä½¿ç”¨è€…å°æ¨¡å¼æ‡‰æœ‰çš„æœŸæœ›ï¼Œä¹Ÿèƒ½å¹«åŠ©æˆ‘å€‘ç•Œå®šå‰›å¥½ç¬¦åˆæ‰€æå‡ºçš„æ¨¡å¼ç¯„åœã€‚\r\n\r\n### War Store\r\n\r\n- å¦‚ä½•æ¨é€²æ¨¡å¼å‰é€²ï¼Ÿ\r\n  - æœ‰æ™‚ä¸ç®¡å¦‚ä½• sheep å¦‚ä½•ä¿®æ”¹æˆ–æ˜¯æ›´æ­£ shepherd çš„å»ºè­°ï¼Œshepherd é‚„æ˜¯è¦ºå¾—è¨­è¨ˆæ¨¡å¼æè¿°çš„ä¸æ¸…æ¥šã€ç¼ºä¹å°è©²æ¨¡å¼çš„å¯¦éš›æ‡‰ç”¨æƒ³åƒã€‚\r\n- Therefore\r\n  - é€™æ™‚ shepherd æ‡‰è¦æ±‚ sheep æä¾›è¨­è¨ˆæ¨¡å¼æ‡‰ç”¨çš„çœŸå¯¦æ¡ˆä¾‹ï¼Œå¹«åŠ©å°æ¨¡å¼çš„æƒ³åƒæ›´ç‚ºç”Ÿå‹•å¯¦éš›ã€‚\r\n\r\n### Form Follows Function\r\n\r\n- å¦‚ä½•å°‡è¨­è¨ˆæ¨¡å¼å¥—ç”¨åˆ°ä¸€å€‹æ–°çš„æ ¼å¼(form)\r\n  - æœ‰æ™‚ sheep æ‰€é¸æ“‡å¾— patten æ ¼å¼ï¼Œæ²’è¾¦æ³•å®Œè¡¨é”(æˆ–æ˜¯ä¸é©åˆ)æ‰€æå‡ºçš„è¨­è¨ˆæ¨¡å¼ï¼Œé€™å¯èƒ½æ˜¯å› ç‚º sheep å° patten çš„æ ¼å¼ä¸ç†Ÿæ‚‰(å¯èƒ½åªçŸ¥é“ä¸€å…©å€‹)ï¼Œæˆ–æ˜¯å› ç‚ºè¦æŠŠæ ¼å¼æ•´å€‹æ›æ‰ï¼Œé ˆè¦èŠ±è²»ç›¸ç•¶å¤§çš„åŠŸå¤«ï¼Œå› æ­¤é¸æ“‡ä¸æ›ã€‚\r\n- Therefore\r\n  - shepherd é ˆè¦ä¸€æ­¥ä¸€æ­¥çš„å¼•å° sheep ä¿®æ”¹åŸæœ¬æ¨¡å¼æ‰€æ‡‰ç”¨çš„æ ¼å¼(ä¸€æ¬¡æ”¹ä¸€äº›å°±å¥½)ï¼Œè€Œçµ‚æ¥µç›®çš„æ˜¯ã€Œmaking the form serve the pattenã€\r\n\r\n### Small Patterns\r\n\r\n- å¦‚ä½•ä½¿è¨­è¨ˆæ¨¡å¼è®Šçš„æ›´å¯æ¶ˆåŒ–\r\n  - è¨­è¨ˆæ¨¡å¼å¸¸å¸¸ç¶“ç”±ä¸æ–·ä¿®æ­£(å¯èƒ½æ˜¯å› ç‚º sheep ä¸é¡˜æ„å°å·²å®Œæˆçš„å…§å®¹åšåˆªæ¸›)å¾Œï¼Œå…§å®¹è®Šçš„å¾ˆé¾å¤§ã€‚\r\n- Therefore\r\n  - å…ˆæ”¾ä»»å…§å®¹å¢åŠ ï¼Œæœ€å¾Œå†åšåˆªæ¸›ã€‚åˆªæ¸›å¯ä»¥é€éç§»é™¤ä¸å¿…è¦çš„å€å¡Šï¼Œæˆ–æ˜¯å°‡éæ–¼é¾å¤§æ¨¡å¼ï¼Œæ‹†åˆ†æˆå¤šå€‹å°æ¨¡å¼(è¦åšåˆ°ä¸€å€‹æ¨¡å¼åªèƒ½æœ‰ä¸€å€‹ context, problem èˆ‡ solution)\r\n","date":"2023-06-16T08:19:41.704Z","matchingLines":["## ä»€éº¼æ˜¯è¨­è¨ˆæ¨¡å¼\r","## å¦‚ä½•æè¿°è¨­è¨ˆæ¨¡å¼\r","## æ’°å¯«è¨­è¨ˆæ¨¡å¼æ™‚éœ€è¦çš„æ€è€ƒè„ˆçµ¡\r","## è¨­è¨ˆæ¨¡å¼æ’°å¯«æ™‚çš„æ€è€ƒè„ˆçµ¡\r","## å¦‚ä½•å®Œå–„å·²å®Œæˆçš„è¨­è¨ˆæ¨¡å¼ï¼Ÿ\r"],"tocContent":""},{"name":"Laravel Test.md","content":"# Laravel Test\r\n\r\n> Laravel é è¨­æ”¯æ´ PHPUnit ä¾†é€²è¡Œæ¸¬è©¦\r\n>\r\n> è¨­å®šæ–‡ä»¶ phpunit.xml\r\n>\r\n> åœ¨ test è³‡æ–™å¤¾ä¸­æœ‰å…©å€‹å­è³‡æ–™å¤¾\r\n>\r\n> Feature åŠŸèƒ½æ¸¬è©¦æ˜¯é‡å°å¤§é¢ç©çš„ç¨‹å¼ç¢¼é€²è¡Œæ¸¬è©¦\r\n>\r\n> Unit å–®å…ƒæ¸¬è©¦æ˜¯é‡å°å–®ä¸€æ–¹æ³•å–®ç¨é€²è¡Œæ¸¬è©¦\r\n\r\n## å•Ÿå‹•æ¸¬è©¦\r\n\r\nå»ºç«‹æ¸¬è©¦æ–‡ä»¶\r\n\r\n```bash\r\n// åœ¨ feature è³‡æ–™å¤¾ä¸‹å»ºç«‹ä¸€å€‹æ¸¬è©¦çš„ class\r\nphp artisan make:test UserTest\r\n\r\n// åœ¨ unit è³‡æ–™å¤¾åº•ä¸‹éµç«‹ä¸€å€‹æ¸¬è©¦ class\r\nphp artisan make:test UserTest --unit\r\n```\r\n\r\n```php\r\nnamespace Tests\\Unit;\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\n\r\nclass ExampleTest extends TestCase\r\n{\r\n    public function testBasicTest()\r\n    {\r\n        $this->assertTrue(true);\r\n    }\r\n}\r\n```\r\n\r\nå•Ÿå‹•æ¸¬è©¦\r\n\r\n```bash\r\nphp artisan test\r\n\r\n// æŒ‡å®šè¦é‹è¡Œçš„ç‰¹å®šæ¸¬è©¦é¡åˆ¥\r\nphp artisan test --filter ExampleTest\r\n\r\n// é‹å®šç‰¹å®šçš„æ¸¬è©¦æ–¹æ³•\r\nphp artisan test --filter ExampleTest::testExample\r\n\r\n// å‚³éåƒæ•¸\r\nphp artisan test --testsuite=Feature --stop-on-failure\r\n```\r\n","date":"2023-06-09T06:47:30.828Z","matchingLines":["## å•Ÿå‹•æ¸¬è©¦\r"],"tocContent":""},{"name":"Laravel Excel.md","content":"# Laravel Excel\r\n\r\n> ä½¿ç”¨å¥—ä»¶ï¼š\r\n>\r\n> - maatwebsite/Excel 3.1\r\n>\r\n> ç’°å¢ƒè¦æ±‚ï¼š\r\n>\r\n> - PHP `^7.0`\r\n>\r\n> - Laravel `^5.5`\r\n>\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> - [maatwebsite/Excel 3.1 ä½¿ç”¨æ•™ç¨‹ ï¼ˆå¯¼å…¥ç¯‡ï¼‰](https://learnku.com/articles/32400)\r\n>\r\n> - [maatwebsite/Excel 3.1 ä½¿ç”¨æ•™ç¨‹ ï¼ˆå¯¼å‡ºç¯‡ï¼‰](https://learnku.com/articles/32391)\r\n\r\n## å®‰è£\r\n\r\n```bash\r\ncomposer require maatwebsite/excel\r\n```\r\n\r\n## excel åŒ¯å‡º\r\n\r\nå»ºç«‹åŒ¯å‡ºæ–‡ä»¶ï¼ŒåŒ¯å…¥åŒ¯å‡ºçš„æ¥­å‹™ç›¡é‡ä¸è¦å’ŒåŸä¾†çš„æ¥­å‹™è€¦åˆ\r\n\r\n```bash\r\nphp artisan make:export UserExport --model=User\r\n```\r\n\r\nåœ¨ app ç›®éŒ„ä¸‹å»ºç«‹ Export è³‡æ–™å¤¾\r\n\r\n- UserExport.php\r\n\r\n```php\r\nnamespace App\\Exports;\r\n\r\nuse App\\User;\r\nuse Maatwebsite\\Excel\\Concerns\\FromCollection;\r\n\r\nclass UsersExport implements FromCollection\r\n{\r\n    protected $data;\r\n\r\n    public function __construct($data)\r\n    {\r\n        $this->data = $data;\r\n    }\r\n\r\n    // é™£åˆ—è½‰é›†åˆ\r\n    public function collection()\r\n    {\r\n        return new Collection($this->createData());\r\n    }\r\n\r\n    // å•†æ¥­é‚è¼¯\r\n    public function createData()\r\n    {\r\n      // to-do\r\n    }\r\n}\r\n```\r\n\r\n- UserController.php\r\n\r\n```php\r\nuse App\\Exports\\UsersExport;\r\nuse Maatwebsite\\Excel\\Facades\\Excel;\r\nuse App\\Http\\Controllers\\Controller;\r\n\r\nclass UsersController extends Controller\r\n{\r\n    public function export()\r\n    {\r\n        return Excel::download(new UsersExport, 'users.xlsx');\r\n    }\r\n}\r\n```\r\n\r\n### æ¬„ä½æ ¼å¼åŒ–ï¼šè¨­å®šå„²å­˜æ ¼æ ¼å¼\r\n\r\n```php\r\nuse PhpOffice\\PhpSpreadsheet\\Style\\NumberFormat;\r\nuse Maatwebsite\\Excel\\Concerns\\WithColumnFormatting;\r\n\r\n// æ–°å¢ WithColumnFormatting\r\nclass UsersExport implements FromCollection, WithColumnFormatting\r\n{\r\n    public function columnFormats(): array\r\n    {\r\n        return [\r\n            'B' => NumberFormat::FORMAT_DATE_DDMMYYYY, // æ—¥æœŸ\r\n            'C' => NumberFormat::FORMAT_NUMBER_00, // å–åˆ°å°æ•¸é»ç¬¬äºŒä½\r\n        ];\r\n    }\r\n}\r\n```\r\n\r\n### è‡ªå‹•æ¬„å¯¬\r\n\r\n```php\r\nuse Maatwebsite\\Excel\\Concerns\\ShouldAutoSize;\r\n\r\n// æ–°å¢ ShouldAutoSize\r\nclass UsersExport implements FromCollection, ShouldAutoSize\r\n```\r\n\r\n### åŒ¯å‡ºå¤šå€‹å·¥ä½œè¡¨(sheet)\r\n\r\nåŒ¯å‡ºå¤šå€‹è¡¨éœ€è¦å…©æ­¥é©Ÿï¼Œå…ˆçµ„è£ sheetï¼Œå¾Œå»ºç«‹å°æ‡‰çš„ sheet è¡¨ã€‚\r\n\r\n```php\r\nuse Maatwebsite\\Excel\\Concerns\\Exportable;\r\nuse Maatwebsite\\Excel\\Concerns\\WithMultipleSheets;\r\n\r\n// æ–°å¢ WithMultipleSheets\r\nclass UsersExport implements WithMultipleSheets\r\n{\r\n    use Exportable;\r\n\r\n    protected $year;\r\n\r\n    public function __construct(int $year)\r\n    {\r\n        $this->year = $year;\r\n    }\r\n\r\n    /**\r\n     * @return array\r\n     */\r\n    public function sheets(): array\r\n    {\r\n        $sheets = [];\r\n\r\n        for ($month = 1; $month <= 12; $month++) {\r\n            // ä¸åŒçš„è³‡æ–™å¯ä»¥å‘¼å«ä¸åŒçš„æ–¹æ³•\r\n            $sheets[] = new UserPerMonthSheet($this->year, $month);\r\n        }\r\n\r\n        return $sheets;\r\n    }\r\n}\r\n```\r\n\r\nç„¶å¾Œæ–°å¢ UserPerMonthSheet Class\r\n\r\n```php\r\nnamespace App\\Exports;\r\n\r\nuse Maatwebsite\\Excel\\Concerns\\FromQuery;\r\nuse Maatwebsite\\Excel\\Concerns\\WithTitle;\r\n\r\nclass UserPerMonthSheet implements FromQuery, WithTitle\r\n{\r\n    private $month;\r\n    private $year;\r\n\r\n    public function __construct(int $year, int $month)\r\n    {\r\n        $this->month = $month;\r\n        $this->year  = $year;\r\n    }\r\n\r\n    /**\r\n     * @return Builder\r\n     */\r\n    public function query()\r\n    {\r\n        return User\r\n            ::query()\r\n            ->whereYear('created_at', $this->year)\r\n            ->whereMonth('created_at', $this->month);\r\n    }\r\n\r\n    /**\r\n     * sheet å·¥ä½œè¡¨åç¨±\r\n     * @return string\r\n     */\r\n    public function title(): string\r\n    {\r\n        return 'Month ' . $this->month;\r\n    }\r\n}\r\n```\r\n\r\n### äº‹ä»¶æ¨¡çµ„ï¼šè¨­å®šå„²å­˜æ ¼é«˜åº¦ã€å‚ç›´ç½®ä¸­ã€å­—é«”é¡è‰²ã€èƒŒæ™¯é¡è‰²\r\n\r\næä¾›å¤šç¨®äº‹ä»¶ï¼šBeforeExport, BeforeWriting, BeforeSheet, AfterSheet ç­‰ç­‰ï¼Œä¿®æ”¹å„²å­˜æ ¼ä½¿ç”¨ AfterSheet\r\n\r\n```php\r\nnamespace App\\Exports;\r\n\r\nuse Maatwebsite\\Excel\\Concerns\\WithEvents;\r\nuse Maatwebsite\\Excel\\Events\\BeforeExport;\r\nuse Maatwebsite\\Excel\\Events\\BeforeWriting;\r\nuse Maatwebsite\\Excel\\Events\\BeforeSheet;\r\n\r\nclass UserExport implements WithEvents\r\n{\r\n    /**\r\n     * è¨»å†Šäº‹ä»¶\r\n     * @return array\r\n     */\r\n    public function registerEvents(): array\r\n    {\r\n        return [\r\n            AfterSheet::class  => function(AfterSheet $event) {\r\n                // ä½œè€…\r\n                $event->writer->setCreator('Patrick');\r\n                // åˆ—å¯¬\r\n                $event->sheet->getDelegate()->getColumnDimension('A')->setWidth(50);\r\n                // è¡Œé«˜ï¼Œ$i ç‚ºè³‡æ–™è¡Œæ•¸\r\n                for ($i = 0; $i<=1265; $i++) {\r\n                    $event->sheet->getDelegate()->getRowDimension($i)->setRowHeight(50);\r\n                }\r\n                // å‚ç›´ç½®ä¸­\r\n                $event->sheet->getDelegate()->getStyle('A1:K1265')->getAlignment()->setVertical('center');\r\n                // å­—é«”ã€é¡è‰²ã€èƒŒæ™¯ï¼Œè©³ç´°è¨­å®šæŸ¥çœ‹ applyFromArray æ–¹æ³•\r\n                $event->sheet->getDelegate()->getStyle('A1:K6')->applyFromArray([\r\n                    'font' => [\r\n                        'name' => 'Arial',\r\n                        'bold' => true,\r\n                        'italic' => false,\r\n                        'strikethrough' => false,\r\n                        'color' => [\r\n                            'rgb' => '808080'\r\n                        ]\r\n                    ],\r\n                    'fill' => [\r\n                        'fillType' => 'linear', // æ¼¸å±¤æ•ˆæœ\r\n                        'rotation' => 45, // æ¼¸å±¤è§’åº¦\r\n                        'startColor' => [\r\n                            'rgb' => '000000' // èµ·å§‹é¡è‰²\r\n                        ],\r\n                        // çµæŸé¡è‰²\r\n                        'endColor' => [\r\n                            'argb' => 'FFFFFF'\r\n                        ]\r\n                    ]\r\n                ]);\r\n                // åˆä½µå„²å­˜æ ¼ mergeCells('A1:B1')\r\n                $event->sheet->getDelegate()->mergeCells('A1:B1');\r\n            }\r\n        ];\r\n    }\r\n}\r\n```\r\n\r\n### æ­é… vue å‰ç«¯\r\n\r\n> åƒè€ƒè³‡æ–™\r\n>\r\n> [Day17 ä½¿ç”¨ Laravel Excel ä¾†åŒ¯å‡ºè³‡æ–™](https://ithelp.ithome.com.tw/articles/10302013)\r\n\r\n## excel åŒ¯å…¥\r\n","date":"2023-05-25T08:50:35.608Z","matchingLines":["## å®‰è£\r","## excel åŒ¯å‡º\r","## excel åŒ¯å…¥\r"],"tocContent":""},{"name":"Postman å­¸ç¿’ç­†è¨˜.md","content":"# [Postman å­¸ç¿’ç­†è¨˜](https://tw.alphacamp.co/blog/postman-api-tutorial-for-beginners)\r\n\r\n## åƒæ•¸å€ä»‹ç´¹\r\n\r\n### Params ç¶²å€åƒæ•¸é \r\n\r\nè¨­å®š Query Params æœå°‹åƒæ•¸ Path Variables è·¯å¾‘è®Šæ•¸\r\n\r\n- é è¨­åªæœ‰ Query Params æœå°‹åƒæ•¸ï¼ŒPath Variable è·¯å¾‘è®Šæ•¸ï¼Œéœ€è¦è‡ªè¡Œåœ¨ç¶²å€ä¸Šæ‰“ä¸Šå†’è™Ÿï¼‹è®Šæ•¸å (ex. \" : name \" )ï¼Œæ‰æœƒå‡ºç¾\r\n- è¨­å®šæ–¹å¼éƒ½æ˜¯æ¡ Key - value ï¼Œå¯ä»¥æ ¹æ“šæƒ…æ³å½ˆæ€§å‹¾é¸\r\n\r\n### Authorization é©—è­‰è¨­å®šé \r\n\r\nç”¨ä¾†è¨­å®š Header ä¸­çš„ Authorization åƒæ•¸\r\n\r\n- No Auth | ä¸éœ€è¦é©—è­‰\r\n- Basic Auth ï½œå¸³è™Ÿï¼Œå¯†ç¢¼å‹é©—è­‰\r\n- token é©—è­‰ ï½œ token å‹é©—è­‰\r\n\r\n### Header\r\n\r\nç”¨ä¾†è¨­å®š Header ä¸­çš„å…¶ä»–åƒæ•¸\r\n\r\npostman æŠŠä¸€äº›å¿…è¦çš„åƒæ•¸éš±è—èµ·ä¾†ï¼Œå¦‚éœ€ç‰¹æ®Šè¨­å®šï¼Œå¯ä»¥å–æ¶ˆéš±è—ï¼Œé€²è¡Œä¿®æ”¹ã€‚\r\n\r\n- User-Agent | å‘ŠçŸ¥ Serverï¼Œç™¼å‡º Request çš„ Client ç€è¦½å™¨ã€ä½œæ¥­ç³»çµ±ç­‰è³‡è¨Š\r\n- Accept ï½œå‘ŠçŸ¥ Serverï¼ŒClient å¯ä»¥è§£è®€çš„å…§å®¹é¡å‹\r\n- Content-type | å‘ŠçŸ¥ Serverï¼ŒClient æäº¤ä»€éº¼é¡å‹å…§å®¹\r\n\r\n### body\r\n\r\nè¼ƒå¸¸ç”¨çš„æ˜¯ form-data, x-www-form-urlencoded, rawï¼Œå‰å…©è€…éƒ½æ˜¯é€å‡ºè¡¨å–®è³‡æ–™ï¼Œæœ€å¾Œä¸€å€‹æä¾›è¼ƒå¤šå½ˆæ€§çš„è³‡æ–™æ ¼å¼ã€‚\r\n\r\n- form-data ä¸æœƒé‡å°å…§å®¹é€²è¡Œç·¨ç¢¼ï¼Œå¯é¸æ“‡ file é¡å‹é€²è¡Œä¸Šå‚³æª”æ¡ˆ\r\n- x-www-form-urlencoded æœƒä»¥ Key = val1 é€²è¡Œç·¨ç¢¼ï¼Œä¸€èˆ¬çš„è¡¨å–®è³‡æ–™ä½¿ç”¨\r\n- raw æ”¾ postman JSON è³‡æ–™\r\n\r\n## Laravel CSRF\r\n\r\n### åŸå› \r\n\r\nç•¶ä½¿ç”¨ postman ç™¼å‡º post è«‹æ±‚æ™‚ï¼Œlaravel å›å‚³ 419 | expired\r\n\r\nlaravel æœƒé€éæ‡‰ç”¨ç¨‹å¼è‡ªå‹•ç”¢ç”Ÿä¸€å€‹ CSRF token ä¾†ç®¡ç†æ¯ä¸€å€‹ä½¿ç”¨è€…çš„ sessionã€‚\r\n\r\né€™å€‹ token ç”¨æ–¼é©—è­‰å·²èªè­‰ä½¿ç”¨è€…ï¼Œæ˜¯å¦å¯¦éš›å‘æ‡‰ç”¨ç¨‹å¼ç™¼å‡ºè«‹æ±‚ã€‚\r\n\r\nåœ¨`vender/laravel/framework/src/Illuminate/Session/Store.php`ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¬¡é€²å…¥ laravel å°ˆæ¡ˆçš„æ™‚å€™ï¼Œéƒ½æœƒæª¢æŸ¥ session ä¸­\\_token æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨å°±æœƒå‘¼å« `regenerateToken` é‡æ–°ç”Ÿæˆä¸€å€‹ tokenã€‚\r\n\r\n```php\r\npublic function start()\r\n{\r\n    $this->loadSession();\r\n    if (! $this->has('_token')) {\r\n        $this->regenerateToken();\r\n    }\r\n\r\n    return $this->started = true;\r\n}\r\n```\r\n\r\n`regenerateToken` å¯¦ä½œï¼Œéš¨æ©Ÿç”¢ç”Ÿäº‚æ•¸å­—å…ƒã€‚\r\n\r\n```php\r\npublic function regenerateToken()\r\n{\r\n    $this->put('_token', Str::random(40));\r\n}\r\n```\r\n\r\n### postman æ·»åŠ æ ¡é©— token\r\n\r\nå…ˆé€²å…¥ç¶²ç«™é¦–é å–å¾— token\r\n\r\nå°‡ token æ”¾å…¥ post request çš„ headerï¼Œ X-XSRF-TOKEN çš„æ¬„ä½ä¸­ã€‚\r\n\r\n### æ’°å¯« javascript è‡ªå‹•ç²å– token\r\n\r\nåœ¨é€²å…¥ç¶²ç«™é¦–é çš„ API çš„ test ä¸­ï¼ŒåŠ å…¥ä»¥ä¸‹ç¨‹å¼ï¼Œä»¥è‡ªå‹•ç²å– tokenã€‚\r\n\r\n```php\r\npm.environment.set(\r\n    \"XSRF-TOKEN\",\r\n    decodeURIComponent(pm.cookies.get(\"XSRF-TOKEN\"))\r\n)\r\n```\r\n\r\næ¥è‘—åœ¨ post çš„ request ä¸­çš„ header åŠ å…¥ `X-XSRF-TOKEN:{{XSRF-TOKEN}}`\r\n\r\n## Postman å£“åŠ›æ¸¬è©¦(ä¸²è¡Œè™•ç†)\r\n\r\nåœ¨è¦æ¸¬è©¦çš„ request test ä¸­å®šç¾©æ¸¬è©¦çš„ç¨‹å¼ç¢¼\r\n\r\n```javascript\r\n// æª¢æŸ¥ api æ˜¯å¦è¿”å› 200 status code\r\npm.test(\"Status code is 200\", function () {\r\n  console.log(JSON.parse(responseBody));\r\n  pm.response.to.have.status(200);\r\n});\r\n```\r\n\r\né–‹å•Ÿ Runner é¸æ“‡è¦æ¸¬è©¦çš„ api\r\n\r\né¸æ“‡ environmentï¼Œèª¿æ•´è«‹æ±‚æ¬¡æ•¸: iterationsï¼Œèª¿æ•´å»¶é²æ™‚é–“ï¼šDelay\r\n\r\n## http status\r\n\r\n- è³‡è¨Šå›æ‡‰ (informational responses) 100 - 199\r\n- æˆåŠŸå›æ‡‰ (Successful responses) 200 - 299\r\n- é‡å®šå‘ (Redirect) 300 - 399\r\n- ç”¨æˆ¶ç«¯éŒ¯èª¤ (Client errors) 400 - 499\r\n- ä¼ºæœå™¨ç«¯éŒ¯èª¤ (Server error) 500-599\r\n\r\n## postman ç„¡æ³•é–‹å•Ÿ collection\r\n\r\n1. å°‡ postman è§£é™¤å®‰è£\r\n2. åˆªé™¤ C:\\Users\\AppData\\Local\\Postman\r\n3. åˆªé™¤ C:\\Users\\AppData\\Roaming\\Postman\r\n4. ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬çš„ postman\r\n","date":"2023-05-15T03:40:34.420Z","matchingLines":["## åƒæ•¸å€ä»‹ç´¹\r","## Laravel CSRF\r","## Postman å£“åŠ›æ¸¬è©¦(ä¸²è¡Œè™•ç†)\r","## http status\r","## postman ç„¡æ³•é–‹å•Ÿ collection\r"],"tocContent":""},{"name":"Laravel è³‡æ–™åº«è¨­è¨ˆç¯„ä¾‹.md","content":"# Laravel è³‡æ–™åº«è¨­è¨ˆç¯„ä¾‹\r\n\r\n## å»ºç«‹æ–°å°ˆæ¡ˆ\r\n\r\n```cmd\r\nlaravel new blog\r\n```\r\n\r\n## ç·¨è¼¯ .env\r\n\r\n```php\r\nDB_CONNECTION=mysql\r\nDB_HOST=127.0.0.1\r\nDB_PORT=3306\r\nDB_DATABASE=your_database\r\nDB_USERNAME=your_name\r\nDB_PASSWORD=your_password\r\n```\r\n\r\n- XAMPP é è¨­çš„å¯†ç¢¼æ˜¯ç©ºç™½ï¼ŒphpEnv è¦å…ˆè¡Œè¨­å®šè³‡æ–™åº«å¯†ç¢¼\r\n\r\n## åŒæ™‚å»ºç«‹ migration controller model\r\n\r\nçµ‚ç«¯æ©ŸåŸ·è¡Œ\r\n\r\n```cmd\r\nphp artisan make:model Employee -mcr\r\n```\r\n\r\nå®Œæˆå¾Œç”¢ç”Ÿä¸‰å€‹æª”æ¡ˆ\r\n\r\n- database\\migrations\\yyyy_mm_dd_time_create_employees_table.php\r\n- app\\Http\\Controllers\\EmployeeController.php\r\n- app\\Models\\Employee.php\r\n\r\nä¿®æ”¹ migration æª”æ¡ˆï¼Œå°‡ up() å‡½å¼æ”¹æˆ\r\n\r\n```php\r\npublic function up()\r\n{\r\n    Schema::create('employees', function (Blueprint $table) {\r\n        $table->bigIncrements('id');\r\n        $table->string('firstName');\r\n        $table->string('lastName');\r\n        $table->timestamps();\r\n    });\r\n}\r\n```\r\n\r\nåŸ·è¡Œ migrate ï¼Œåœ¨è³‡æ–™åº«ä¸­å»ºç«‹è³‡æ–™è¡¨\r\n\r\n```cmd\r\nphp artisan migrate\r\n```\r\n\r\n## å»ºç«‹è³‡æ–™\r\n\r\nçµ‚ç«¯æ©Ÿé–‹å•Ÿ tinker å·¥å…·ç¨‹å¼\r\n\r\n```cmd\r\nphp artisan tinker\r\n```\r\n\r\nä¾åºè¼¸å…¥æŒ‡ä»¤\r\n\r\n```cmd\r\n1 + 2\r\nDB::table('employees')->insert(['firstName' => 'Jeremy', 'lastName' => 'Lin', 'created_at' => new Datetime, 'updated_at' => new Datetime ])\r\nDB::table('employees')->insert(['firstName' => 'Derek', 'lastName' => 'Jeter', 'created_at' => new Datetime, 'updated_at' => new Datetime ])\r\nDB::table('employees')->insert(['firstName' => 'Lionel', 'lastName' => 'Messi', 'created_at' => new Datetime, 'updated_at' => new Datetime ])\r\nDB::table('employees')->insert(['firstName' => 'test', 'lastName' => 'test', 'created_at' => new Datetime, 'updated_at' => new Datetime ])\r\n\r\nDB::table('employees')->get();\r\nDB::table('employees')->find(1)\r\nDB::table('employees')->where('lastName', 'test')->first()\r\nDB::table('employees')->where('lastName', 'test')->delete()\r\n\r\nApp\\Models\\Employee::all();\r\nApp\\Models\\Employee::find(1);\r\n\r\nexit\r\n```\r\n\r\n## æ¸²æŸ“å“¡å·¥æ¸…å–®\r\n\r\nç·¨è¼¯ web.php\r\n\r\n```php\r\nRoute::get('/', 'App\\Http\\Controllers\\EmployeeController@index');\r\nRoute::resource('employees', 'App\\Http\\Controllers\\EmployeeController');\r\n```\r\n\r\nç·¨è¼¯ EmployeesControllerï¼Œéœ€åƒç”¨ Employee é¡åˆ¥\r\n\r\n```php\r\nuse App\\Models\\Employee;\r\n```\r\n\r\nä¿®æ”¹ index()\r\n\r\n```php\r\npublic function index() {\r\n        $employeeList = Employee::all();\r\n        return view('employees.index', compact('employeeList'));\r\n    }\r\n```\r\n\r\nå»ºç«‹ resources\\views\\employees\\index.blade.php\r\n\r\n```php\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <title>Employee</title>\r\n  <meta charset=\"utf-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n  <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\">\r\n  <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"></script>\r\n  <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js\"></script>\r\n</head>\r\n<body>\r\n\r\n<div class=\"container\">\r\n  <h2>Employee List\r\n    <a href=\"/employees/create\" class=\"btn btn-md btn-success pull-right\">\r\n      <span class=\"glyphicon glyphicon-plus\"></span> æ–°å¢\r\n    </a>\r\n  </h2>\r\n  <table class=\"table table-hover\">\r\n    <thead>\r\n      <tr>\r\n        <th>Firstname</th>\r\n        <th>Lastname</th>\r\n        <th>&nbsp;</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr>\r\n        <td>firstName1</td>\r\n        <td>lastName1</td>\r\n        <td>\r\n            <span class=\"pull-right\">\r\n                <form method=\"post\" action=\"/employees/1\">\r\n                    <a href=\"/employees/1/edit\" class=\"btn btn-xs btn-info\">\r\n               <span class=\"glyphicon glyphicon-pencil\"></span> ä¿®æ”¹\r\n              </a> |\r\n                    @csrf\r\n                    @method('DELETE')\r\n                    <button type=\"submit\" class=\"btn btn-xs btn-danger\">\r\n               <span class=\"glyphicon glyphicon-remove\"></span> åˆªé™¤\r\n              </button>\r\n                </form>\r\n            </span>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td>firstName2</td>\r\n        <td>lastName2</td>\r\n        <td>\r\n            <span class=\"pull-right\">\r\n                <form method=\"post\" action=\"/employees/2\">\r\n                    <a href=\"/employees/2/edit\" class=\"btn btn-xs btn-info\">\r\n               <span class=\"glyphicon glyphicon-pencil\"></span> ä¿®æ”¹\r\n              </a> |\r\n                    @csrf\r\n                    @method('DELETE')\r\n                    <button type=\"submit\" class=\"btn btn-xs btn-danger\">\r\n               <span class=\"glyphicon glyphicon-remove\"></span> åˆªé™¤\r\n              </button>\r\n                </form>\r\n            </span>\r\n        </td>\r\n    </tr>\r\n    <tr>\r\n        <td>firstName3</td>\r\n        <td>lastName3</td>\r\n        <td>\r\n            <span class=\"pull-right\">\r\n                <form method=\"post\" action=\"/employees/3\">\r\n                    <a href=\"/employees/3/edit\" class=\"btn btn-xs btn-info\">\r\n               <span class=\"glyphicon glyphicon-pencil\"></span> ä¿®æ”¹\r\n              </a> |\r\n                    @csrf\r\n                    @method('DELETE')\r\n                    <button type=\"submit\" class=\"btn btn-xs btn-danger\">\r\n               <span class=\"glyphicon glyphicon-remove\"></span> åˆªé™¤\r\n              </button>\r\n                </form>\r\n            </span>\r\n        </td>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n</body>\r\n</html>\r\n```\r\n\r\nå•Ÿå‹• Web ä¼ºæœå™¨\r\n\r\n```cmd\r\nphp artisan serve\r\n```\r\n\r\n## å‹•æ…‹æ¸²æŸ“å“¡å·¥è³‡æ–™\r\n\r\nä¿®æ”¹ resources\\views\\employees\\index.blade.php\r\n\r\n```php\r\n<tbody>\r\n    @foreach ($employeeList as $emp)\r\n     <tr>\r\n         <td>{{$emp->firstName}}</td>\r\n         <td>{{$emp->lastName}}</td>\r\n         <td>\r\n             <span class=\"pull-right\">\r\n                 <form method=\"post\" action=\"/employees/{{$emp->id}}\">\r\n                     <a href=\"/employees/{{$emp->id}}/edit\" class=\"btn btn-xs btn-info\">\r\n          <span class=\"glyphicon glyphicon-pencil\"></span> ä¿®æ”¹\r\n         </a> |\r\n                     @csrf\r\n                     @method('DELETE')\r\n                     <button type=\"submit\" class=\"btn btn-xs btn-danger\">\r\n          <span class=\"glyphicon glyphicon-remove\"></span> åˆªé™¤\r\n         </button>\r\n                  </form>\r\n             </span>\r\n         </td>\r\n     </tr>\r\n    @endforeach\r\n</tbody>\r\n```\r\n\r\n## æ–°å¢å“¡å·¥è³‡æ–™\r\n\r\nä¿®æ”¹ EmployeesController.php\r\n\r\n```php\r\npublic function create()\r\n    {\r\n        return view(\"employees.create\");\r\n    }\r\n```\r\n\r\næ–°å¢æª”æ¡ˆ resources\\views\\employees\\create.blade.php\r\n\r\n```php\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <title>Employee</title>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\">\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"></script>\r\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js\"></script>\r\n</head>\r\n\r\n<body>\r\n    <div class=\"container\">\r\n        <form class=\"form-horizontal\">\r\n     @csrf\r\n            <fieldset>\r\n                <!-- Form Name -->\r\n                <legend>Employee Data</legend>\r\n                <!-- Text input-->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-4 control-label\" for=\"firstName\">First Name:</label>\r\n                    <div class=\"col-md-4\">\r\n                        <input id=\"firstName\" name=\"firstName\" type=\"text\" placeholder=\"\" class=\"form-control input-md\">\r\n                    </div>\r\n                </div>\r\n                <!-- Text input-->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-4 control-label\" for=\"lastName\">Last Name:</label>\r\n                    <div class=\"col-md-4\">\r\n                        <input id=\"lastName\" name=\"lastName\" type=\"text\" placeholder=\"\" class=\"form-control input-md\">\r\n                    </div>\r\n                </div>\r\n                <!-- Button (Double) -->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-4 control-label\" for=\"okOrCancel\"></label>\r\n                    <div class=\"col-md-8\">\r\n                        <button type=\"submit\" id=\"okOrCancel\" name=\"okOrCancel\" class=\"btn btn-success\">\r\n                         OK\r\n                        </button>\r\n         <button type=\"submit\" id=\"okOrCancel\" name=\"okOrCancel\" class=\"btn btn-danger\">\r\n                         Cancel\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n</body>\r\n</html>\r\n```\r\n\r\nä¿®æ”¹ EmployeesController.php\r\n\r\n```php\r\npublic function store(Request $request)\r\n    {\r\n        $emp = new Employee();\r\n        $emp->firstName = $request->firstName;\r\n        $emp->lastName = $request->lastName;\r\n        $emp->save();\r\n        return redirect(\"/employees\");\r\n    }\r\n```\r\n\r\n## ä¿®æ”¹æœƒå“¡è³‡æ–™\r\n\r\nä¿®æ”¹ EmployeesController.php\r\n\r\n```php\r\npublic function edit($id)\r\n    {\r\n        $emp = Employee::find($id);\r\n        return view('employees.edit', compact('emp'));\r\n    }\r\n```\r\n\r\næ–°å¢æª”æ¡ˆ resources\\views\\employees\\edit.blade.php\r\n\r\n```php\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <title>Employee</title>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n    <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\">\r\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"></script>\r\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js\"></script>\r\n</head>\r\n\r\n<body>\r\n    <div class=\"container\">\r\n        <form class=\"form-horizontal\">\r\n     @csrf\r\n  @method('PUT')\r\n            <fieldset>\r\n                <!-- Form Name -->\r\n                <legend>Employee Data</legend>\r\n                <!-- Text input-->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-4 control-label\" for=\"firstName\">First Name:</label>\r\n                    <div class=\"col-md-4\">\r\n                        <input id=\"firstName\" name=\"firstName\" value=\"{{ $emp->firstName }}\" type=\"text\" placeholder=\"\" class=\"form-control input-md\">\r\n                    </div>\r\n                </div>\r\n                <!-- Text input-->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-4 control-label\" for=\"lastName\">Last Name:</label>\r\n                    <div class=\"col-md-4\">\r\n                        <input id=\"firstName\" name=\"firstName\" value=\"{{ $emp->lastName }}\" type=\"text\" placeholder=\"\" class=\"form-control input-md\">\r\n                    </div>\r\n                </div>\r\n                <!-- Button (Double) -->\r\n                <div class=\"form-group\">\r\n                    <label class=\"col-md-4 control-label\" for=\"okOrCancel\"></label>\r\n                    <div class=\"col-md-8\">\r\n                     <button type=\"submit\" id=\"okOrCancel\" name=\"okOrCancel\" class=\"btn btn-success\">\r\n                         OK\r\n                        </button>\r\n         <button type=\"submit\" id=\"okOrCancel\" name=\"okOrCancel\" class=\"btn btn-danger\">\r\n                         Cancel\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n</body>\r\n</html>\r\n```\r\n\r\nä¿®æ”¹ EmployeesController.php\r\n\r\n```php\r\npublic function update(Request $request, $id)\r\n    {\r\n        $emp = Employee::find($id);\r\n        $emp->firstName = $request->firstName;\r\n        $emp->lastName = $request->lastName;\r\n        $emp->save();\r\n        return redirect(\"/employees\");\r\n    }\r\n```\r\n\r\n## åˆªé™¤æœƒå“¡è³‡æ–™\r\n\r\nä¿®æ”¹ EmployeesController.php\r\n\r\n```php\r\npublic function destroy($id)\r\n    {\r\n        $emp = Employee::find($id);\r\n        $emp->delete();\r\n        return redirect(\"/employees\");\r\n    }\r\n```\r\n","date":"2023-04-28T01:41:44.769Z","matchingLines":["## å»ºç«‹æ–°å°ˆæ¡ˆ\r","## ç·¨è¼¯ .env\r","## åŒæ™‚å»ºç«‹ migration controller model\r","## å»ºç«‹è³‡æ–™\r","## æ¸²æŸ“å“¡å·¥æ¸…å–®\r","## å‹•æ…‹æ¸²æŸ“å“¡å·¥è³‡æ–™\r","## æ–°å¢å“¡å·¥è³‡æ–™\r","## ä¿®æ”¹æœƒå“¡è³‡æ–™\r","## åˆªé™¤æœƒå“¡è³‡æ–™\r"],"tocContent":""},{"name":"Ubuntu å­¸ç¿’ç­†è¨˜.md","content":"# ubuntu å­¸ç¿’ç­†è¨˜\r\n\r\n>\r\n\r\n## ubuntu æª”æ¡ˆçµæ§‹\r\n\r\n- `/bin` å­˜æ”¾ linux / ubuntu ç³»çµ±å•Ÿå‹•å’Œé‹è¡Œæ™‚æœƒä½¿ç”¨åˆ°çš„åŸ·è¡Œæª”\r\n- `/boot` linux æ ¸å¿ƒå’Œ RAM disk Image å­˜æ”¾çš„åœ°æ–¹ï¼ŒåŒæ™‚ç‚ºå•Ÿå‹•é¸å–®è¨­å®šæª”å­˜æ”¾çš„åœ°æ–¹\r\n- `/dev` æ‰€æœ‰ linux æ ¸å¿ƒæœ‰èªè­˜çš„è¨­å‚™å’Œè£ç½®çš„è³‡è¨Šéƒ½å­˜æ”¾åœ¨æ­¤è³‡æ–™å¤¾\r\n- `/etc` æ‰€æœ‰å½±éŸ¿åˆ°ç³»çµ±é‹ä½œçš„è¨­å®šæª”\r\n- `/home` ç³»çµ±ä¸Šæ‰€æœ‰ä½¿ç”¨è€…çš„å®¶ç›®éŒ„éƒ½æœƒæ”¾åœ¨æ­¤è³‡æ–™å¤¾ä¸‹çš„è³‡æ–™å¤¾\r\n- `/lib` æ­¤è³‡æ–™å¤¾å­˜æ”¾ linux / ubuntu ç³»çµ±æœƒç”¨åˆ°çš„ç¨‹å¼åº«åŠæ ¸å¿ƒæ¨¡çµ„\r\n- `/lost+found` è‹¥ ubuntu çš„æª”æ¡ˆç³»çµ±æ›æ‰äº†ï¼Œç³»çµ±å›å¾©å¾Œï¼Œæœƒå°‡æ‰€æœ‰ç„¡æ³•æ­£ç¢ºå›å¾©çš„è³‡æ–™æ”¾é€²æ­¤è³‡æ–™å¤¾ä¸­\r\n- `/media` ä½œç‚ºéš¨èº«ç¢Ÿæˆ– CD ä¹‹é¡çš„å¯ç§»é™¤è£ç½®çš„æ›è¼‰é»\r\n- `/mnt` æ—©æœŸ linux ç‰ˆæœ¬æ‰€ä½¿ç”¨çš„å¯ç§»é™¤è£ç½®çš„æ›è¼‰é»ï¼Œåœ¨ ubuntu ä¸Šç”¨ä¾†å°ˆé–€åšæ›è¼‰æš«æ™‚æ€§çš„æª”æ¡ˆç³»çµ±ç”¨\r\n- `/opt` ç„¡æ³•é€éå¥—ä»¶å®‰è£çš„è»Ÿé«”ï¼Œæœƒå°‡ç¨‹å¼å®‰è£åœ¨æ­¤è³‡æ–™å¤¾\r\n- `/proc` æ­¤ç‚ºä¸€å€‹è™›æ“¬çš„æª”æ¡ˆç³»çµ±ï¼Œè£¡é¢æ”¾çš„æ˜¯ç³»çµ±æ­£åœ¨é‹è¡Œçš„ç¨‹åºï¼Œlinux æ ¸å¿ƒé€éæ­¤è³‡æ–™å¤¾å…§çš„æª”æ¡ˆä¾†å‚³é€è¨Šæ¯çµ¦åŸ·è¡Œä¸­çš„ç¨‹åº\r\n- `/root` æ­¤ç‚º root å¸³è™Ÿçš„å®¶ç›®éŒ„\r\n- `/sbin` æ­¤è³‡æ–™å¤¾å…§çš„æª”æ¡ˆå¤§å¤šæ˜¯è¶…ç´šä½¿ç”¨è€…æˆ– root å¯ä»¥ä½¿ç”¨çš„ç®¡ç†ç”¨æŒ‡ä»¤ç¨‹å¼\r\n- `/tmp` ç³»çµ±ã€è»Ÿé«”å’Œç¨‹å¼ç”¨ä¾†å­˜æ”¾æš«æ™‚æ€§è³‡æ–™çš„åœ°æ–¹\r\n- `/usr/bin` ç„¡è«–æ˜¯ ubuntu é è¼‰çš„æˆ–æ˜¯ä½¿ç”¨è€…è‡ªå·±å®‰è£çš„ç¨‹å¼æˆ–è»Ÿé«”ï¼Œéƒ½æœƒè¢«å®‰è£åˆ°æ­¤è³‡æ–™å¤¾\r\n- `/usr/lib` æ­¤è³‡æ–™å¤¾æ–‡å­˜æ”¾ /usr/bin çš„ç¨‹å¼æœƒç”¨åˆ°çš„ç¨‹å¼åº«\r\n- `/usr/local` é€šå¸¸é€éè‡ªå·±ç·¨è­¯æ¡ˆå®‰è£çš„ç¨‹å¼æœƒè¢«æ”¾åˆ°æ­¤è³‡æ–™å¤¾ä¹‹ä¸‹\r\n- `/usr/share` æ­¤è³‡æ–™å¤¾ç”¨ä¾†å­˜æ”¾ /usr/bin çš„ç¨‹å¼çš„å…±ç”¨è³‡æ–™\r\n- `/usr/share/doc` æ‰€æœ‰è»Ÿé«”çš„èªªæ˜æ–‡ä»¶æœƒæ”¾åœ¨é€™é‚Š\r\n- `/var` ç”¨ä¾†å­˜æ”¾ç³»çµ±ä¸Šçš„å‹•æ…‹è³‡æ–™ï¼Œåƒæ˜¯ç¶²ç«™ã€log å’Œéƒµä»¶é¡å‹çš„è³‡æ–™\r\n- `/selinux` æ­¤è³‡æ–™å¤¾ç”¨ä¾†å­˜æ”¾ SELinux å¥—ä»¶ï¼Œé è¨­ä¸¦æ²’æœ‰å®‰è£ï¼Œå› æ­¤ç‚ºç©º\r\n- `/srv` ç‚ºç›¸å®¹ FHS æ¨™æº–ï¼Œå› æ­¤æœƒéœ€è¦å°‡æ¶ç¶²ç«™æˆ– FTP server ç­‰ç¶²è·¯æœå‹™æ”¹æ”¾åˆ°æ­¤è³‡æ–™å¤¾\r\n- `/sys` æ­¤è³‡æ–™å¤¾å’Œ /proc ä¸€æ¨£ç‚ºè™›æ“¬çš„æª”æ¡ˆç³»çµ±ï¼Œç”¨é€”ç‚ºæä¾›ç›®å‰ç³»çµ±çš„å„é …è³‡è¨Š\r\n\r\n## æ¬Šé™\r\n\r\n> [åƒè€ƒè³‡æ–™](https://shian420.pixnet.net/blog/post/344938711-%5Blinux%5D-chmod-****%E6%AA%94%E6%A1%88%E6%AC%8A%E9%99%90%E5%A4%A7%E7%B5%B1%E6%95%B4!)\r\n\r\n### æ¦‚è¿°\r\n\r\nLinux ç‚ºå¤šç”¨æˆ¶ç³»çµ±ï¼Œå¯åŒæ™‚é–“è®“èˆ‡å¤šç”¨æˆ¶ä½¿ç”¨ã€‚\r\n\r\næ¯å€‹æ–‡ä»¶å’Œç›®éŒ„éƒ½åˆ†é…äº†ä¸‰ç¨®é¡å‹çš„èº«åˆ†\r\n\r\n- `owner` å‰µå»ºæª”æ¡ˆçš„äºº\r\n- `group` ä¸€å€‹ group å¯ä»¥æœ‰å¾ˆå¤š userï¼Œå¦‚æœé€™å€‹ group çš„æ¬Šé™ç‚ºè®€è·Ÿå¯«ï¼Œé‚£æ­¤ group ä¸­çš„ user éƒ½å¯ä»¥è®€è·Ÿå¯«\r\n- `others` æ‰€æœ‰äºº\r\n\r\nèˆ‡ä¸‰ç¨®æ¬Šé™\r\n\r\n- `r` å¯ä»¥é–‹å•Ÿå’Œè®€å–æª”æ¡ˆã€‚è‹¥ç‚ºè³‡æ–™å¤¾ï¼Œå‰‡å¯ä»¥æŸ¥çœ‹ç›®éŒ„ä¸‹çš„å…§å®¹ï¼Œä½†ç„¡æ³•ä¿®æ”¹(é‡æ–°å‘½åã€ç§»å‹•ã€å‰ªä¸‹ã€åˆªé™¤)\r\n- `w` å¯ä»¥æ–°å¢ã€åˆªé™¤ã€ä¿®æ”¹æª”æ¡ˆã€‚è‹¥æª”æ¡ˆæœ‰ write çš„æ¬Šé™ï¼Œä½†è³‡æ–™å¤¾æ²’æœ‰ï¼Œå‰‡åªèƒ½ä¿®æ”¹æª”æ¡ˆå…§å®¹ï¼Œç„¡æ³•æ›´æ”¹è³‡æ–™å¤¾çµæ§‹(ä¿®æ”¹æª”åï¼Œç§»å‹•æª”æ¡ˆã€åˆªé™¤æª”æ¡ˆ)\r\n- `x` åŸ·è¡Œç¨‹å¼ç¢¼çš„æ¬Šé™ã€‚windows ç³»çµ±ä¸­ï¼Œåªè¦å‰¯æª”åç‚º `.exe` å°±å¯ä»¥åŸ·è¡Œï¼Œä½†åœ¨ linux ä¸­éœ€è¦æœ‰ execute permissionã€‚read å’Œ write æ¬Šé™åƒ…èƒ½ä¿®æ”¹ç¨‹å¼ç¢¼\r\n- `-` ç„¡æ¬Šé™\r\n\r\n```bash\r\nroot@rexlitemqtt://home/rexlite_public# ll\r\ntotal 80\r\ndrwxr-xr-x 6 rexlite_public rexlite_public  4096 Aug 30 05:34 ./\r\ndrwxr-xr-x 4 root           root            4096 Dec 16  2020 ../\r\n-rw------- 1 rexlite_public rexlite_public 14451 Sep  2 01:38 .bash_history\r\n-rw-r--r-- 1 rexlite_public rexlite_public   220 Feb 25  2020 .bash_logout\r\n-rw-r--r-- 1 rexlite_public rexlite_public  3771 Feb 25  2020 .bashrc\r\ndrwx------ 3 rexlite_public rexlite_public  4096 Apr 12  2021 .cache/\r\ndrwxrwxr-x 3 rexlite_public rexlite_public  4096 Apr 12  2021 .config/\r\ndrwxrwxr-x 3 rexlite_public rexlite_public  4096 Apr 12  2021 .local/\r\n-rw------- 1 rexlite_public rexlite_public   102 Dec 16  2020 .mysql_history\r\n-rw-r--r-- 1 rexlite_public rexlite_public   807 Feb 25  2020 .profile\r\ndrwx------ 2 rexlite_public rexlite_public  4096 Sep  2 01:10 .ssh/\r\n-rw------- 1 rexlite_public rexlite_public  3994 Aug 29 06:15 .viminfo\r\n-rw-rw-r-- 1 rexlite_public rexlite_public   584 May 19 10:15 README.md\r\n-rw-rw-r-- 1 rexlite_public rexlite_public  6774 Dec 16  2021 max-system.fishbonetw.com.zip\r\n-rw-rw-r-- 1 rexlite_public rexlite_public  4275 Jul 26  2021 max-system.japhne.com-bluehost.zip\r\n-rw-r--r-- 1 root           root               0 Dec 16  2020 var_log.json\r\n```\r\n\r\nç¬¬ä¸€å€‹å­—å…ƒï¼Œ `d` ä»£è¡¨ directoryï¼Œ`-` ä»£è¡¨ file\r\n\r\næ¥ä¸‹ä¾†ç‚ºä¸‰å€‹å­—å…ƒä¸€çµ„ï¼Œåˆ†åˆ¥ä»£è¡¨ `user(owner)`ã€`group`ã€`other` åŠå…¶æ“æœ‰çš„æ¬Šé™\r\n\r\n- å„æ¬Šé™çš„åˆ†æ•¸\r\n\r\n  | å­—å…ƒ | åˆ†æ•¸ |\r\n  | :--: | :--: |\r\n  |  r   |  4   |\r\n  |  w   |  2   |\r\n  |  x   |  1   |\r\n  |  -   |  0   |\r\n\r\n  åˆ†æ•¸æ˜¯ç´¯åŠ çš„ï¼Œä¾‹å¦‚ `-rwxrwx---`\r\n\r\n  |  å­—å…ƒ  | æ¬Šé™ |  åˆ†æ•¸   |\r\n  | :----: | :--: | :-----: |\r\n  | owner  | rwx  | 4+2+1=7 |\r\n  | group  | rwx  | 4+2+1=7 |\r\n  | others | ---  | 0+0+0=0 |\r\n\r\n  æ‰€ä»¥è©²æª”çš„æ¬Šé™æ•¸å­—ç‚º 770\r\n\r\nç¬¬ä¸€å€‹å¸³è™Ÿç‚ºæ“æœ‰è€…ï¼Œç¬¬äºŒå€‹ç¾¤çµ„\r\n\r\n### æŒ‡ä»¤\r\n\r\n#### `chown` æ›´æ”¹æª”æ¡ˆæ‰€æœ‰æ¬Šçµ¦å…¶ä»–ä½¿ç”¨è€…\r\n\r\n- `-R` é‡å°æª”æ¡ˆæˆ–æ˜¯ç›®éŒ„ä¸‹æª”æ¡ˆåšéæ­¸è™•ç†(æ•´å€‹ç›®éŒ„ä¸‹æ¯ä¸€å€‹æª”æ¡ˆä¸éºæ¼è™•ç†)\r\n\r\n- å°‡ home åº•ä¸‹ video ç›®éŒ„æ‰€æœ‰è€…ï¼Œæ”¹ç‚º user\r\n\r\n  ```bash\r\n  chown user /home/video\r\n  ```\r\n\r\n- å°‡ home åº•ä¸‹ video ç›®éŒ„çš„æ‰€æœ‰è€…ï¼Œæ”¹æˆ userï¼Œæ“æœ‰ç¾¤çµ„æ”¹ç‚º video\r\n\r\n  ```bash\r\n  chown user:video /home/video\r\n  ```\r\n\r\n- å°‡ home åº•ä¸‹ video ç›®éŒ„èˆ‡ç›®éŒ„è£¡é¢æ‰€æœ‰æª”æ¡ˆï¼Œæ“æœ‰è€…æ”¹ç‚º user\r\n\r\n  ```bash\r\n  chown -R user /home/video\r\n  ```\r\n\r\n#### `chmod` æ›´æ”¹æª”æ¡ˆæ¬Šé™\r\n\r\n- ç”¨æ•¸å­—é¡å‹æ”¹è®Šæª”æ¡ˆæ¬Šé™\r\n\r\n  ```bash\r\n  chmod -R xyz < filename | directory >\r\n  ```\r\n\r\n  - è‹¥è¦å°‡.bashrc é€™å€‹æª”æ¡ˆæ‰€æœ‰æ¬Šé™éƒ½è¨­ç‚ºå•Ÿç”¨\r\n\r\n    ```bash\r\n    chmod 777 .bashrc\r\n    ```\r\n\r\n  - è‹¥è¦å°‡æª”æ¡ˆæ¬Šé™ï¼Œæ”¹ç‚ºå¯åŸ·è¡Œæª”ï¼Œä¸”ä¸é–‹æ”¾ä¿®æ”¹ã€‚  \r\n    å‰‡æ¬Šé™ç‚º `-rwxr-xr-x` ï¼Œå…¶åˆ†æ•¸ç‚º 755ã€‚\r\n\r\n  - è‹¥è¦æª”æ¡ˆä¸å¸Œæœ›å…¶ä»–äººçœ‹åˆ°ã€‚  \r\n    å…¶æ¬Šé™ç‚º `-rwxr-----`ï¼Œåˆ†æ•¸ç‚º 740ã€‚\r\n\r\n- ç¬¦è™Ÿé¡å‹æ”¹è®Šæª”æ¡ˆæ¬Šé™\r\n\r\n  - `+` åŠ å…¥\r\n  - `-` é™¤å»\r\n  - `=` è¨­å®š\r\n\r\n  ```bash\r\n  chmod [ u | g | o | a ] [ + | - | = ] [ r | w | x ] < filename | directory >\r\n  ```\r\n\r\n  - è‹¥è¦å°‡ `.bashrc` æ¬Šé™è¨­ç‚º `-rwxr-xr-x`\r\n\r\n    - `user` å¯è®€ã€å¯å¯«ã€å¯åŸ·è¡Œ\r\n    - `group` | `others` å¯è®€ã€å¯åŸ·è¡Œ\r\n\r\n    ```bash\r\n    chmod u=rwx, go=rx .bashrc\r\n    ```\r\n\r\n  - è‹¥æ¬Šé™ç‚º `-rwxr-xr--`\r\n\r\n    ```bash\r\n    chmod u=rwx, g=rx, o=r < filename >\r\n    ```\r\n\r\n  - è‹¥ä¸çŸ¥é“æ­¤æª”æ¡ˆçš„æ¬Šé™ï¼Œä½†æƒ³è¦å°‡æ­¤æª”æ¡ˆè¨­å®šç‚ºå…¨éƒ¨äººéƒ½å¯ä»¥å¯«å…¥  \r\n    `chmod a+w < filename >`\r\n  - è‹¥è¦å°‡æ¬Šé™å»é™¤ï¼Œè€Œä¸æ›´å‹•å…¶ä»–å·²å­˜åœ¨çš„æ¬Šé™  \r\n    `chmod a-x < filename >`\r\n\r\n#### `&` èƒŒæ™¯åŸ·è¡Œç¨‹å¼\r\n\r\n- åœ¨åŸ·è¡Œç¨‹å¼å¾Œé¢åŠ ä¸Š `&` ä½¿ç¨‹å¼å¯ä»¥åœ¨èƒŒæ™¯åŸ·è¡Œ\r\n\r\n```bash\r\nphp subscribe_with_auth.php &\r\n```\r\n\r\n#### `jobs` æª¢è¦–ä»»å‹™\r\n\r\n```bash\r\njobs -l\r\n[1]+ 1040421 Running php subscribe_with_auth.php &\r\n```\r\n\r\n#### `fg` å°‡ä»»å‹™åˆ‡æ›è‡³å‰æ™¯åŸ·è¡Œï¼Œ`bg` å°‡ä»»å‹™åˆ‡æ›è‡³èƒŒæ™¯åŸ·è¡Œ\r\n\r\n```bash\r\njobs -l\r\n[1]+ 1040421 Running php subscribe_with_auth.php &\r\n```\r\n\r\n#### `disown` å¸é™¤ç›®å‰é è¨­çš„èƒŒæ™¯è¡Œç¨‹\r\n\r\n- `disown -a` å¸é™¤æ‰€æœ‰å·¥ä½œï¼Œç„¡è«–å…¶ç‹€æ…‹æ˜¯å¦åœ¨åŸ·è¡Œä¸­æˆ–æ˜¯æš«åœ\r\n- `disown -ar` åƒ…å¸é™¤æ‰€æœ‰åŸ·è¡Œä¸­çš„å·¥ä½œ\r\n- `disown -h` ä¸è¦å¸é™¤å·¥ä½œï¼Œåªæ˜¯å–®ç´”è®“ç¨‹å¼å¯ä»¥åœ¨ç™»å‡ºå¾Œç¹¼çºŒåŸ·è¡Œã€‚\r\n\r\n```bash\r\njobs -l\r\n[1]+ 1040421 Running php subscribe_with_auth.php &\r\n```\r\n\r\n#### `ps aux | less` é¡¯ç¤ºæ‰€æœ‰æ­£åœ¨åŸ·è¡Œä¸­çš„é€²ç¨‹\r\n\r\n#### `kill 10000` åˆªé™¤åŸ·è¡Œä¸­çš„é€²ç¨‹ï¼Œ`kill` åŠ ä¸Š PID çš„æ•¸å­—å³å¯\r\n\r\n```bash\r\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nroot           1  0.0  0.3 173272 12812 ?        Ss    2022  85:07 /lib/systemd/systemd --system --deserialize 23\r\nroot           2  0.0  0.0      0     0 ?        S     2022   0:06 [kthreadd]\r\nroot           3  0.0  0.0      0     0 ?        I<    2022   0:00 [rcu_gp]\r\nroot           4  0.0  0.0      0     0 ?        I<    2022   0:00 [rcu_par_gp]\r\nroot           5  0.0  0.0      0     0 ?        I<    2022   0:00 [netns]\r\nroot           7  0.0  0.0      0     0 ?        I<    2022   0:00 [kworker/0:0H-events_highpri]\r\nroot           9  0.0  0.0      0     0 ?        I<    2022   2:45 [kworker/0:1H-events_highpri]\r\n```\r\n\r\n#### `nohup` è®“ç¨‹å¼å¯ä»¥åœ¨é›¢ç·šæˆ–æ˜¯ç™»å‡ºç³»çµ±å¾Œç¹¼çºŒåŸ·è¡Œ\r\n\r\nç•¶ Linux ä½¿ç”¨è€…ç™»å‡ºç³»çµ±å¾Œæ­£åœ¨åŸ·è¡Œçš„ç¨‹å¼æœƒæ¥æ”¶åˆ° SIGHUP(hangup) ä¿¡è™Ÿï¼Œæ”¶åˆ°ä¿¡è™Ÿçš„ç¨‹å¼æœƒç«‹åˆ»åœæ­¢åŸ·è¡Œã€‚\r\n\r\n```bash\r\nnohup /path/my_program &\r\n```\r\n\r\n## å®‰è£ php\r\n\r\n```bash\r\napt install -y php7.4 php7.4-cli php7.4-fpm php7.4-mbstring php7.4-xml php7.4-bcmath php7.4-curl php7.4-gd php7.4-mysql php7.4-opcache php7.4-zip php7.4-sqlite3\r\n```\r\n\r\n- æŸ¥çœ‹æ˜¯å¦å®‰è£æˆåŠŸ\r\n\r\n  ```bash\r\n  php -v\r\n  ```\r\n\r\n- å®‰è£æœ€æ–°ç‰ˆ php\r\n\r\nç”±æ–¼é€šå¸¸ ubuntu çš„å¥—ä»¶è³‡è¨Šä¸æœƒåŒ…å«æœ€æ–°ç‰ˆæœ¬çš„ phpï¼Œè‹¥éœ€è¦æœ€æ–°ç‰ˆæœ¬ï¼Œéœ€æ·»åŠ ç¬¬ä¸‰æ–¹çš„å¥—ä»¶è³‡è¨Š\r\n\r\n```bash\r\napt install -y software-properties-common\r\n```\r\n\r\nå°‡ç¬¬ä¸‰æ–¹å¥—ä»¶è³‡è¨ŠåŠ å…¥ ubuntu å¥—ä»¶è³‡è¨Šåº«\r\n\r\n```bash\r\nadd-apt-repository -y ppa:ondrej/php\r\n```\r\n\r\næ›´æ–°å¥—ä»¶è³‡è¨Š\r\n\r\n```bash\r\napt-get update\r\n```\r\n\r\næ›´æ–°å¾Œå³å¯å®‰è£æœ€æ–°çš„ php\r\n\r\n## å®‰è£ MySQL\r\n\r\n### æ›´æ–°è»Ÿé«”åº«\r\n\r\n```zsh\r\napt update\r\n```\r\n\r\n### å‡ç´šè»Ÿé«”åº«\r\n\r\n```zsh\r\napt upgrade\r\n```\r\n\r\n### å®‰è£æŒ‡ä»¤\r\n\r\n```zsh\r\napt install mysql-server -y\r\n```\r\n\r\n### æŸ¥çœ‹ MySQL ç‰ˆæœ¬\r\n\r\n```zsh\r\nmysql --version\r\n# output\r\nmysql  Ver 8.0.31-0ubuntu0.22.04.1 for Linux on x86_64 ((Ubuntu))\r\n```\r\n\r\n### è¨­å®š root å¯†ç¢¼\r\n\r\n```zsh\r\nroot@DESKTOP-O8SANAT ~ sudo service mysql start\r\n\r\nroot@DESKTOP-O8SANAT ~ sudo mysql\r\n\r\nmysql>  ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'SetRootPasswordHere';\r\nQuery OK, 0 rows affected (0.01 sec)\r\n\r\nmysql> exit\r\nBye\r\n\r\nroot@DESKTOP-O8SANAT ~ sudo mysql_secure_installation\r\nEnter password for user root:\r\n# è¼¸å…¥ï¼šSetRootPasswordHere\r\n```\r\n\r\n- [è¨­å®š root å¸³è™Ÿèˆ‡åˆå§‹æ¬Šé™](https://www.albert-yu.com/blog/mysql%E8%A8%AD%E5%AE%9Aroot%E5%B8%B3%E8%99%9F%E5%AF%86%E7%A2%BC%E8%88%87%E5%88%9D%E5%A7%8B%E6%AC%8A%E9%99%90ubuntu-20-04/)\r\n\r\n### ç§»é™¤ MySQL\r\n\r\n- ç§»é™¤ MySQL\r\n\r\n```bash\r\napt-get purge --auto-remove mysql-common mysql-server mariadb-server\r\napt-get autoremove\r\napt-get autoclean\r\n```\r\n\r\n- åˆªé™¤ mysql ä½¿ç”¨è€…\r\n\r\n```bash\r\nkillall -9 mysql (æˆ– killall -9 mysqld) userdel mysql\r\n```\r\n\r\n- åˆªé™¤è¨­å®šæª”\r\n\r\n```bash\r\nrm -rf /etc/mysql rm -rf /var/lib/mysql\r\n```\r\n\r\n## nginx\r\n\r\n### service nginx restart åŸ·è¡Œå‡ºç¾ fail\r\n\r\n[åƒè€ƒè³‡æ–™](https://weijutu.github.io/2019/03/12/web/ubuntu-nginx-restart-fail/)\r\n\r\n### å®Œå…¨ç§»é™¤ nginx\r\n\r\n- åœæ­¢ nginx æœå‹™\r\n\r\n```bash\r\nsudo service nginx stop\r\n```\r\n\r\n- åˆªé™¤ nginx åŠè¨­å®šæ–‡ä»¶\r\n\r\n```bash\r\nsudo apt-get purge nginx\r\n```\r\n\r\n- è‡ªå‹•åˆªé™¤ä¸ä½¿ç”¨çš„è»Ÿé«”åŒ…\r\n\r\n```bash\r\nsudo apt-get autoremove\r\n```\r\n\r\n- åˆ—å‡ºèˆ‡ nginx ç›¸é—œçš„è»Ÿé«”ï¼Œä¸¦åˆªé™¤\r\n\r\n```bash\r\ndpkg --get-selections | grep nginx\r\n\r\nsudo apt-get purge nginx\r\nsudo apt-get purge nginx-common\r\nsudo apt-get purge nginx-full\r\n```\r\n\r\n- ç¢ºèª nginx æ˜¯å¦å®Œå…¨åˆªé™¤\r\n\r\n```bash\r\nwhich nginx\r\n```\r\n\r\n## æ‰¾ä¸åˆ° sudo\r\n\r\n- å…ˆæª¢æŸ¥ `/etc/sudoers.d` æª”æ¡ˆæ˜¯å¦åœ¨ï¼Œè‹¥ç„¡å‰‡ä¸‹å®‰è£å‘½ä»¤\r\n\r\n```bash\r\napt-get install sudo\r\n```\r\n\r\n- è‹¥ç³»çµ±ä¸­å·²ç¶“å­˜åœ¨ `/etc/sudoers.d` æª”æ¡ˆï¼Œè¡¨ç¤ºç³»çµ±å·²ç¶“å®‰è£ sudo ä½†å°šæœªè¨­å®šç’°å¢ƒã€‚\r\n  - ç”¨æ–‡ä»¶ç·¨è¼¯å™¨ (vim) é–‹å•Ÿ `/etc/sudoers.d`ï¼Œæ‰¾åˆ° `secure_path` æ·»åŠ è·¯å¾‘\r\n\r\n```bash\r\nDefaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin\r\n```\r\n\r\n## å®‰è£ composer\r\n\r\n> å®‰è£å‰é ˆå…ˆå®‰è£ PHP Command-Line Interfaceï¼ˆPHP-CLI)\r\n\r\n### æ›´æ–°ç³»çµ±çš„å¥—ä»¶è³‡è¨Š\r\n\r\n```bash\r\nsudo apt-get update && sudo apt-get upgrade -y\r\n```\r\n\r\n### ä¸‹è¼‰ composer ä¸¦å°‡å…¶è¨­å®šç‚ºå…¨åŸŸå¯åŸ·è¡Œçš„æŒ‡ä»¤\r\n\r\n- å¾å®˜ç¶²ä¸‹è¼‰ composer å®‰è£æª”è‡³ tmp è³‡æ–™å¤¾\r\n\r\n  ```bash\r\n  php -r \"copy('https://getcomposer.org/installer', '/tmp/composer-setup.php')\"\r\n  ```\r\n\r\n- é©—è­‰ä¸‹è¼‰çš„å®‰è£æª”\r\n\r\n  ä½¿ç”¨ composer å®˜æ–¹æä¾›çš„ SHA-384 ç°½ç« ä¾†é©—è­‰å®‰è£æª” [Composer Public Keys / Checksums](https://composer.github.io/pubkeys.html)\r\n\r\n  è¼¸å…¥é©—è­‰çš„ç°½ç« \r\n\r\n  ```bash\r\n  php -r \"if (hash_file('SHA384', '/tmp/composer-setup.php') === '55ce33d7678c5a611085589f1f3ddf8b3c52d662cd01d4ba75c0ee0459970c2200a51f492d557530c71c15d8dba01eae') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('/tmp/composer-setup.php'); } echo PHP_EOL;\"\r\n  ```\r\n\r\n- å®‰è£ composer\r\n  ç‚ºäº†è¦è®“ composer åœ¨å…¨åŸŸä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥è¦å°‡ composer å®‰è£åˆ° `usr/local/bin` çš„è³‡æ–™å¤¾ä¸­ï¼Œä»¥åŠå°‡ `Composer` é‡æ–°å‘½åç‚º `composer`ã€‚\r\n\r\n  ```bash\r\n  sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer\r\n  ```\r\n\r\n- æŸ¥çœ‹ composer ç‰ˆæœ¬\r\n\r\n  ```bash\r\n  composer -V\r\n  ```\r\n\r\n- åˆªé™¤ composer çš„å®‰è£æª”\r\n\r\n  ```bash\r\n  rm /tmp/composer-setup.php\r\n  ```\r\n\r\n## å®‰è£ Git\r\n\r\n```bash\r\nsudo apt-get install git\r\n```\r\n\r\n## å®‰è£ Docker\r\n\r\n```bash\r\nsudo apt install docker.io\r\n```\r\n\r\nç¢ºèªå®‰è£\r\n\r\n```bash\r\ndocker --version\r\n```\r\n\r\nå•Ÿå‹• docker\r\n\r\n```bash\r\nsudo systemctl start docker\r\n\r\n# å•Ÿå‹•æ™‚é‹è¡Œ\r\nsudo systemctl enable docker\r\n```\r\n\r\n## logrotate è¨˜éŒ„æª”ç®¡ç†å·¥å…·\r\n\r\n### å®‰è£\r\n\r\nä¸€èˆ¬è€Œè¨€ linux ç™¼è¡Œç‰ˆéƒ½æœƒå®‰è£å¥½ logrotate\r\n\r\n```bash\r\n# å®‰è£ logrotateï¼ˆUbuntu/Debianï¼‰\r\nsudo apt install logrotate\r\n\r\n# å®‰è£ logrotateï¼ˆRHEL/CentOSï¼‰\r\nsudo yum install logrotate\r\n```\r\n\r\n### è¨­å®šæª”\r\n\r\nlogrotate è¨­å®šæª”ä½æ–¼ `/etc/logrotate.conf`ï¼Œè£¡é¢æœƒåŒ…å«ä¸€äº›é è¨­çš„è¨­å®šå€¼ï¼Œä¾‹å¦‚ç´€éŒ„æª”çš„è¼ªæ›¿é »ç‡ï¼Œä¿ç•™æ•¸é‡ç­‰ç­‰\r\n\r\n```bash\r\n# æ¯é€±é€²è¡Œä¸€æ¬¡è¨˜éŒ„æª”è¼ªæ›¿\r\nweekly\r\n\r\n# è¨˜éŒ„æª”æ“æœ‰è€…èˆ‡ç¾¤çµ„ç‚º root èˆ‡ syslog\r\nsu root syslog\r\n\r\n# ä¿ç•™ 4 æ¬¡è¼ªæ›¿çš„è¨˜éŒ„æª”\r\nrotate 4\r\n\r\n# è¼ªæ›¿ä¹‹å¾Œï¼Œè‡ªå‹•å»ºç«‹æ–°çš„è¨˜éŒ„æª”\r\ncreate\r\n\r\n# å£“ç¸®è¼ªæ›¿å¾Œçš„è¨˜éŒ„æª”\r\ncompress\r\n\r\n# å¥—ç”¨ä¸€èˆ¬å¥—ä»¶çš„è¨˜éŒ„æª”è¨­å®š\r\ninclude /etc/logrotate.d\r\n\r\n# ...\r\n```\r\n\r\nå€‹åˆ¥å¥—ä»¶æˆ–æœå‹™çš„ç´€éŒ„æª”è¨­å®šæœƒæ”¾åœ¨`/etc/logrotate.d` ç›®éŒ„ä¸­ï¼Œé€éé€™è£¡çš„ `include` ä¾†å¥—ç”¨å€‹åˆ¥å¥—ä»¶çš„ç´€éŒ„æª”è¨­å®šã€‚\r\n\r\n```bash\r\n# nginx è¨˜éŒ„æª”è¼ªæ›¿è¨­å®š\r\n/var/log/nginx/*.log { # è¨˜éŒ„æª”ä½ç½®\r\n    daily                # æ¯æ—¥è¼ªæ›¿ä¸€æ¬¡\r\n    missingok            # å¿½ç•¥è¨˜éŒ„æª”ä¸å­˜åœ¨å•é¡Œ\r\n    rotate 14            # ä¿ç•™ 14 æ¬¡è¼ªæ›¿çš„è¨˜éŒ„æª”\r\n    compress             # å£“ç¸®è¼ªæ›¿å¾Œçš„è¨˜éŒ„æª”\r\n    delaycompress        # å»¶é²å£“ç¸®è¨˜éŒ„æª”\r\n    notifempty           # ä¸è¼ªæ›¿ç©ºçš„è¨˜éŒ„æª”\r\n    create 0640 www-data adm # è¨˜éŒ„æª”æ“æœ‰è€…/ç¾¤çµ„ç‚º www-data/admï¼Œæ¬Šé™ç‚º 0640\r\n    sharedscripts        # æ‰€æœ‰è¨˜éŒ„æª”è¼ªæ›¿ï¼ŒåªåŸ·è¡Œä¸€æ¬¡ prerotate èˆ‡ postrotate æŒ‡ä»¤ç¨¿\r\n    prerotate            # è¼ªæ›¿å‰æŒ‡ä»¤ç¨¿\r\n        if [ -d /etc/logrotate.d/httpd-prerotate ]; then \\\r\n            run-parts /etc/logrotate.d/httpd-prerotate; \\\r\n        fi \\\r\n    endscript\r\n    postrotate           # è¼ªæ›¿å¾ŒæŒ‡ä»¤ç¨¿\r\n        invoke-rc.d nginx rotate >/dev/null 2>&1\r\n    endscript\r\n}\r\n```\r\n\r\nè‹¥åœ¨å€‹åˆ¥æœå‹™è¨­å®šä¸­æ²’æœ‰æŒ‡å®šçš„è©±ï¼Œå°±æœƒå¥—ç”¨ `/etc/logrotate.conf` ä¸­é è¨­çš„è¨­å®šã€‚\r\n\r\n### åŸºæœ¬è¨­å®š\r\n\r\n| æŒ‡ä»¤           | èªªæ˜                                |\r\n| -------------- | ----------------------------------- |\r\n| su root syslog | ç´€éŒ„æª”æ“æœ‰è€…èˆ‡ç¾¤çµ„ç‚º root èˆ‡ syslog |\r\n| missingok      | å¿½ç•¥ç´€éŒ„æª”ä¸å­˜åœ¨çš„å•é¡Œ              |\r\n| notifempty     | ä¸è¼ªæ›¿ç©ºæª”æ¡ˆ                        |\r\n| ifempty        | è¼ªæ›¿ç©ºæª”æ¡ˆ                          |\r\n| rotate 7       | ä¿ç•™ä¸ƒæ¬¡è¼ªæ›¿ç´€éŒ„                    |\r\n\r\n### ç´€éŒ„æª”è¼ªæ›¿é »ç‡è¨­å®š\r\n\r\n| æŒ‡ä»¤      | èªªæ˜            |\r\n| --------- | --------------- |\r\n| daily     | æ¯æ—¥è¼ªæ›¿        |\r\n| weekly    | æ¯é€±è¼ªæ›¿        |\r\n| monthly   | æ¯æœˆè¼ªæ›¿        |\r\n| yearly    | æ¯å¹´è¼ªæ›¿        |\r\n| size 100k | ç•¶æª”æ¡ˆè¶…é 100K |\r\n| size 2m   | ç•¶æª”æ¡ˆè¶…é 2M   |\r\n| size 1G   | ç•¶æª”æ¡ˆè¶…é 1G   |\r\n\r\né€²éšè¨­å®š\r\n\r\n| æŒ‡ä»¤         | èªªæ˜                                                            |\r\n| ------------ | --------------------------------------------------------------- |\r\n| minage 3     | ä¸‰å¤©ä»¥å…§å»ºç«‹çš„æª”æ¡ˆä¸è¼ªæ›¿                                        |\r\n| maxage 30    | ä¸ä¿ç•™ä¸‰åå¤©ä»¥å‰çš„ç´€éŒ„æª”                                        |\r\n| maxsize 100k | æ­é… daily ç­‰é–“éš”æ¢ä»¶ä½¿ç”¨ï¼Œæª”æ¡ˆè¶…é 100k æˆ–é”åˆ°é–“éš”æ¢ä»¶æ™‚è¼ªæ›¿   |\r\n| minsize 100k | æ­é… daily ç­‰é–“éš”æ¢ä»¶ä½¿ç”¨ï¼Œæª”æ¡ˆè¶…é 100k åŒæ™‚é”åˆ°é–“éš”æ¢ä»¶æ™‚è¼ªæ›¿ |\r\n\r\n### ç´€éŒ„æª”å£“ç¸®\r\n\r\n| æŒ‡ä»¤            | èªªæ˜                 |\r\n| --------------- | -------------------- |\r\n| compress        | å£“ç¸®è¼ªæ›¿å¾Œçš„èˆŠç´€éŒ„æª” |\r\n| nocompress      | ä¸å£“ç¸®è¼ªæ›¿å¾Œçš„æª”æ¡ˆ   |\r\n| delaycompress   | å»¶é²å£“ç¸®ç´€éŒ„æª”       |\r\n| nodelaycompress | ä¸å»¶é²å£“ç¸®ç´€éŒ„æª”     |\r\n\r\n### æ¸¬è©¦ logrotate è¨­å®š\r\n\r\nä¿®æ”¹å®Œè¨­å®šå¾Œï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤æ¸¬è©¦è¨­å®šæª”æ˜¯å¦æ­£ç¢º\r\n\r\n```bash\r\n# æ¸¬è©¦ logrotate è¨­å®š\r\nsudo logrotate -d /etc/logrotate.conf\r\n```\r\n\r\nå¦‚æœæ²’å‡ºç¾éŒ¯èª¤è¨Šæ¯ï¼Œå°±å®Œæˆäº†\r\n\r\nlogrotate æ˜¯é€é cron ä¾†è§¸ç™¼çš„ï¼Œé€šå¸¸æ˜¯å¯«åœ¨ /etc/cron.daily/logrotate ä¸­ï¼Œæ‰€ä»¥æ›´æ”¹ logrotate è¨­å®šæª”ä¹‹å¾Œï¼Œåªè¦ç¢ºèªè¨­å®šç„¡èª¤ï¼Œå°±æœƒè‡ªå‹•ç”Ÿæ•ˆï¼Œä¸éœ€è¦é‡æ–°è¼‰å…¥è¨­å®šæª”çš„å‹•ä½œã€‚\r\n","date":"2023-04-25T01:31:57.265Z","matchingLines":["## ubuntu æª”æ¡ˆçµæ§‹\r","## æ¬Šé™\r","## å®‰è£ php\r","## å®‰è£ MySQL\r","## nginx\r","## æ‰¾ä¸åˆ° sudo\r","## å®‰è£ composer\r","## å®‰è£ Git\r","## å®‰è£ Docker\r","## logrotate è¨˜éŒ„æª”ç®¡ç†å·¥å…·\r"],"tocContent":"- [ubuntu å­¸ç¿’ç­†è¨˜](#ubuntu-å­¸ç¿’ç­†è¨˜)\r\n  - [ubuntu æª”æ¡ˆçµæ§‹](#ubuntu-æª”æ¡ˆçµæ§‹)\r\n  - [æ¬Šé™](#æ¬Šé™)\r\n    - [æ¦‚è¿°](#æ¦‚è¿°)\r\n    - [æŒ‡ä»¤](#æŒ‡ä»¤)\r\n      - [`chown` æ›´æ”¹æª”æ¡ˆæ‰€æœ‰æ¬Šçµ¦å…¶ä»–ä½¿ç”¨è€…](#chown-æ›´æ”¹æª”æ¡ˆæ‰€æœ‰æ¬Šçµ¦å…¶ä»–ä½¿ç”¨è€…)\r\n      - [`chmod` æ›´æ”¹æª”æ¡ˆæ¬Šé™](#chmod-æ›´æ”¹æª”æ¡ˆæ¬Šé™)\r\n      - [`&` èƒŒæ™¯åŸ·è¡Œç¨‹å¼](#-èƒŒæ™¯åŸ·è¡Œç¨‹å¼)\r\n      - [`jobs` æª¢è¦–ä»»å‹™](#jobs-æª¢è¦–ä»»å‹™)\r\n      - [`fg` å°‡ä»»å‹™åˆ‡æ›è‡³å‰æ™¯åŸ·è¡Œï¼Œ`bg` å°‡ä»»å‹™åˆ‡æ›è‡³èƒŒæ™¯åŸ·è¡Œ](#fg-å°‡ä»»å‹™åˆ‡æ›è‡³å‰æ™¯åŸ·è¡Œbg-å°‡ä»»å‹™åˆ‡æ›è‡³èƒŒæ™¯åŸ·è¡Œ)\r\n      - [`disown` å¸é™¤ç›®å‰é è¨­çš„èƒŒæ™¯è¡Œç¨‹](#disown-å¸é™¤ç›®å‰é è¨­çš„èƒŒæ™¯è¡Œç¨‹)\r\n      - [`ps aux | less` é¡¯ç¤ºæ‰€æœ‰æ­£åœ¨åŸ·è¡Œä¸­çš„é€²ç¨‹](#ps-aux--less-é¡¯ç¤ºæ‰€æœ‰æ­£åœ¨åŸ·è¡Œä¸­çš„é€²ç¨‹)\r\n      - [`kill 10000` åˆªé™¤åŸ·è¡Œä¸­çš„é€²ç¨‹ï¼Œ`kill` åŠ ä¸Š PID çš„æ•¸å­—å³å¯](#kill-10000-åˆªé™¤åŸ·è¡Œä¸­çš„é€²ç¨‹kill-åŠ ä¸Š-pid-çš„æ•¸å­—å³å¯)\r\n      - [`nohup` è®“ç¨‹å¼å¯ä»¥åœ¨é›¢ç·šæˆ–æ˜¯ç™»å‡ºç³»çµ±å¾Œç¹¼çºŒåŸ·è¡Œ](#nohup-è®“ç¨‹å¼å¯ä»¥åœ¨é›¢ç·šæˆ–æ˜¯ç™»å‡ºç³»çµ±å¾Œç¹¼çºŒåŸ·è¡Œ)\r\n  - [å®‰è£ php](#å®‰è£-php)\r\n  - [å®‰è£ MySQL](#å®‰è£-mysql)\r\n    - [æ›´æ–°è»Ÿé«”åº«](#æ›´æ–°è»Ÿé«”åº«)\r\n    - [å‡ç´šè»Ÿé«”åº«](#å‡ç´šè»Ÿé«”åº«)\r\n    - [å®‰è£æŒ‡ä»¤](#å®‰è£æŒ‡ä»¤)\r\n    - [æŸ¥çœ‹ MySQL ç‰ˆæœ¬](#æŸ¥çœ‹-mysql-ç‰ˆæœ¬)\r\n    - [è¨­å®š root å¯†ç¢¼](#è¨­å®š-root-å¯†ç¢¼)\r\n    - [ç§»é™¤ MySQL](#ç§»é™¤-mysql)\r\n  - [nginx](#nginx)\r\n    - [service nginx restart åŸ·è¡Œå‡ºç¾ fail](#service-nginx-restart-åŸ·è¡Œå‡ºç¾-fail)\r\n    - [å®Œå…¨ç§»é™¤ nginx](#å®Œå…¨ç§»é™¤-nginx)\r\n  - [æ‰¾ä¸åˆ° sudo](#æ‰¾ä¸åˆ°-sudo)\r\n  - [å®‰è£ composer](#å®‰è£-composer)\r\n    - [æ›´æ–°ç³»çµ±çš„å¥—ä»¶è³‡è¨Š](#æ›´æ–°ç³»çµ±çš„å¥—ä»¶è³‡è¨Š)\r\n    - [ä¸‹è¼‰ composer ä¸¦å°‡å…¶è¨­å®šç‚ºå…¨åŸŸå¯åŸ·è¡Œçš„æŒ‡ä»¤](#ä¸‹è¼‰-composer-ä¸¦å°‡å…¶è¨­å®šç‚ºå…¨åŸŸå¯åŸ·è¡Œçš„æŒ‡ä»¤)\r\n  - [å®‰è£ Git](#å®‰è£-git)\r\n  - [å®‰è£ Docker](#å®‰è£-docker)\r\n  - [logrotate è¨˜éŒ„æª”ç®¡ç†å·¥å…·](#logrotate-è¨˜éŒ„æª”ç®¡ç†å·¥å…·)\r\n    - [å®‰è£](#å®‰è£)\r\n    - [è¨­å®šæª”](#è¨­å®šæª”)\r\n    - [åŸºæœ¬è¨­å®š](#åŸºæœ¬è¨­å®š)\r\n    - [ç´€éŒ„æª”è¼ªæ›¿é »ç‡è¨­å®š](#ç´€éŒ„æª”è¼ªæ›¿é »ç‡è¨­å®š)\r\n    - [ç´€éŒ„æª”å£“ç¸®](#ç´€éŒ„æª”å£“ç¸®)\r\n    - [æ¸¬è©¦ logrotate è¨­å®š](#æ¸¬è©¦-logrotate-è¨­å®š)"},{"name":"JavaScript ç‰©ä»¶.md","content":"# JavaScript ç‰©ä»¶\r\n\r\n> ç‰©ä»¶(object)é¡å‹æ˜¯é›»è…¦ç¨‹å¼çš„ä¸€ç¨®è³‡æ–™é¡å‹ï¼Œç”¨æŠ½è±¡åŒ–æ¦‚å¿µä¾†æ¯”å–»äººé¡ç¾å¯¦ä¸–ç•Œä¸­çš„ç‰©é«”ã€‚\r\n>\r\n> åœ¨ javascript ä¸­ï¼Œé™¤äº†åŸå§‹çš„è³‡æ–™é¡å‹(æ•¸å­—ã€å­—ä¸²ã€å¸ƒæ—ç­‰ç­‰)ï¼Œæ‰€æœ‰çš„è³‡æ–™é¡å‹éƒ½æ˜¯ç‰©ä»¶ã€‚ä¸é javascript çš„ç‰©ä»¶èˆ‡å…¶ä»–ç›®å‰æµè¡Œçš„ç‰©ä»¶å°å‘ç¨‹å¼èªè¨€æœ‰æ˜é¡¯ä¸åŒï¼Œä»–ä¸€é–‹å§‹æ˜¯ä½¿ç”¨åŸå‹åŸºç¤(prototype-based)çš„è¨­è¨ˆï¼Œè€Œå…¶ä»–çš„ç‰©ä»¶å°å‘ç¨‹å¼èªè¨€ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨é¡åˆ¥åŸºç¤(class-based)çš„è¨­è¨ˆã€‚\r\n>\r\n> ç‰©ä»¶åœ¨ javascript ä¸­å¯ä»¥åˆ†ç‚ºå…©ç¨®æ‡‰ç”¨å±¤é¢ï¼š\r\n>\r\n> - ä¸»è¦ç”¨æ–¼è³‡æ–™çš„æè¿°ï¼Œä»–æ‰®æ¼”é¡ä¼¼é—œè¯é™£åˆ—çš„è³‡æ–™çµæ§‹ï¼Œå„²å­˜ key value çš„æˆå°è³‡æ–™ã€‚å¸¸è¦‹åˆ°ç”¨é™£åˆ—ä¸­åŒ…å«ç‰©ä»¶è³‡æ–™ä¾†ä»£è¡¨è¤‡æ•¸çš„è³‡æ–™é›†åˆã€‚\r\n> - ä¸»è¦ç”¨æ–¼ç‰©ä»¶å°å‘çš„ç¨‹å¼è¨­è¨ˆï¼Œå¯ä»¥è¨­è¨ˆå‡ºå„ç¨®çš„ç‰©ä»¶ï¼Œå…¶ä¸­åŒ…å«å„ç¨®æ–¹æ³•ï¼Œå°±åƒå·²ç¶“ä»‹ç´¹éçš„å„ç¨®åŒ…è£ç‰©ä»¶ï¼Œå¦‚ï¼šå­—ä¸²ã€é™£åˆ—ç­‰ç­‰çš„åŒ…è£ç‰©ä»¶ã€‚\r\n>   ç‰©ä»¶é¡å‹ä½¿ç”¨ä»¥å±¬æ€§èˆ‡æ–¹æ³•ç‚ºä¸»è¦çµ„æˆéƒ¨åˆ†ï¼Œé€™å…©ç¨®å’Œç¨±ç‚ºç‰©ä»¶æˆå“¡(member)`:\r\n>\r\n> - å±¬æ€§ï¼šç‰©ä»¶åŸºæœ¬å¯è¢«æè¿°çš„é‡åŒ–è³‡æ–™ã€‚ä¾‹å¦‚æ°´æœé€™å€‹ç‰©ä»¶åŒ…å«ï¼šé¡è‰²ã€ç”¢åœ°ã€å¤§å°ã€é‡é‡ã€ç”œåº¦ç­‰ç­‰å±¬æ€§\r\n> - æ–¹æ³•ï¼šç‰©ä»¶çš„å¯è¢«åæ‡‰å‹•ä½œæˆ–è¡Œç‚ºã€‚ä¾‹å¦‚è»Šå­é€™å€‹ç‰©ä»¶ï¼Œä»–çš„è¡Œç‚ºæœ‰åŠ é€Ÿã€å‰è»Šã€è½‰å½ã€æ‰“æ–¹å‘ç‡ˆç­‰è¡Œç‚ºæˆ–å¯åŸ·è¡Œçš„å‹•ä½œã€‚\r\n\r\n## ç‰©ä»¶å®šç¾©çš„æ–¹å¼\r\n\r\n### ç‰©ä»¶å­—é¢(Object Literals)\r\n\r\nç”¨æ–¼è³‡æ–™æè¿°çš„ç‰©ä»¶å®šç¾©ï¼Œä½¿ç”¨å¤§æ‹¬è™Ÿ(`{}`)ä½œç‚ºå®£å‘Šå€åŸŸï¼Œå…¶ä¸­åŠ å…¥ç„¡é—œé †åºçš„\"key-value\"æˆå°å€¼ï¼Œå±¬æ€§çš„å€¼å¯ä»¥æ˜¯ä»»ä½•åˆæ³•çš„å€¼ï¼Œå¯ä»¥åŒ…æ‹¬é™£åˆ—ã€å‡½å¼ã€æˆ–å…¶ä»–ç‰©ä»¶ã€‚\r\n\r\nè€Œåœ¨ç‰©ä»¶å®šç¾©ä¸­çš„\"key-value\"ï¼Œå¦‚æœæ˜¯ä¸€èˆ¬çš„å€¼çš„æƒ…æ³ï¼Œç¨±ç‚º`å±¬æ€§(property/prop)`ï¼Œå¦‚æœæ˜¯ä¸€å€‹å‡½å¼ï¼Œç¨±ä¹‹ç‚º`æ–¹æ³•(method)`ã€‚å±¬æ€§èˆ‡æ–¹æ³•æˆ‘å€‘é€šå¸¸å’Œç¨±ç‚ºç‰©ä»¶ä¸­çš„`(member)`ã€‚\r\n\r\n```javascript\r\nconst emptyObject = {};\r\n\r\nconst player = {\r\n  fullName: \"ivan\",\r\n  age: 16,\r\n  gender: \"man\",\r\n  hairColor: \"black\",\r\n};\r\n```\r\n\r\nåœ¨å®šç¾©èˆ‡ç²å–å€¼æ–¹é¢ï¼Œç‰©ä»¶å’Œé™£åˆ—çš„æƒ…æ³ç›¸ç•¶é¡ä¼¼ã€‚\r\n\r\n```javascript\r\nconst aArray = [];\r\nconst aObject = {};\r\n\r\nconst bArray = [\"foo\", \"bar\"];\r\nconst bObject = {\r\n  firstKey: \"foo\",\r\n  secondKey: \"bar\",\r\n};\r\n\r\nbArray[2] = \"yes\";\r\nbObject.thirdKey = \"yes\";\r\n\r\nconsole.log(bArray[2]); //yes\r\nconsole.log(bObject.thirdKey); //yes\r\n```\r\n\r\nä¸éï¼Œå°æ–¼é™£åˆ—çš„æœ‰åºç´¢å¼•å€¼ï¼Œè€Œä¸”åªæœ‰ç´¢å¼•å€¼çš„æƒ…æ³ï¼Œæˆ‘å€‘æ›´åŠ é—œå¿ƒç‰©ä»¶ä¸­`key`çš„å­˜åœ¨ã€‚\r\nç‰©ä»¶ä¸­çš„ member(å±¬æ€§èˆ‡æ–¹æ³•)ï¼Œéƒ½æ˜¯ä½¿ç”¨ç‰©ä»¶ä¸ŠåŠ é»`.`ç¬¦è™Ÿä¾†ç²å–ã€‚\r\n\r\n## é¡åˆ¥(class)\r\n\r\né¡åˆ¥æ˜¯å…ˆè£¡é¢å®šç¾©å¥½ç‰©ä»¶çš„æ•´é«”çµæ§‹è—åœ–ï¼Œç„¶å¾Œå†ç”¨é€™å€‹é¡åˆ¥å®šç¾©ï¼Œä¾†ç”¢ç”Ÿç›¸åŒçµæ§‹çš„æ±å€‹ç‰©ä»¶å¯¦ä¾‹ï¼Œé¡åˆ¥åœ¨å®šç¾©æ™‚ä¸æœƒç›´æ¥ç”¢ç”Ÿå‡ºç‰©ä»¶ï¼Œè¦ç¶“éå¯¦ä¾‹åŒ–çš„éç¨‹(new é—œéµå­—)ï¼Œæ‰æœƒç”¢ç”ŸçœŸæ­£çš„ç‰©ä»¶å¯¦ä¾‹ã€‚å¦å¤–ï¼Œç›®å‰å› ç‚ºé¡åˆ¥å®šç¾©æ–¹å¼é‚„æ˜¯å¾ˆæ–°çš„èªæ³•ï¼Œåœ¨å¯¦ä½œæ™‚ï¼Œé™¤äº†æ¯”è¼ƒæ–°çš„å‡½å¼åº«æˆ–æ¡†æ¶ï¼Œæ‰æœƒé–‹å§‹ä½¿ç”¨ä»–ä¾†æ’°å¯«ã€‚\r\n\r\n```javascript\r\nclass Player {\r\n  constructor(fullName, age, gender, hairColor) {\r\n    this.fullName = fullName;\r\n    this.age = age;\r\n    this.gender = gender;\r\n    this.hairColor = hairColor;\r\n  }\r\n\r\n  toString() {\r\n    return \"Name: \" + this.fullName + \", Age:\" + this.age;\r\n  }\r\n}\r\n\r\nconst inori = new Player(\"Inori\", 16, \"girl\", \"pink\");\r\nconsole.log(inori.toString());\r\nconsole.log(inori.fullName);\r\n\r\nconst tsugumi = new Player(\"Tsugumi\", 14, \"girl\", \"purple\");\r\nconsole.log(tsugumi.toString());\r\n```\r\n\r\n### this\r\n\r\nåœ¨é€™å€‹ç‰©ä»¶çš„é¡åˆ¥å®šç¾©ä¸­ï¼Œæˆ‘å€‘ç¬¬ä¸€æ¬¡è¦‹è­˜åˆ° this é—œéµå­—çš„ç”¨æ³•ï¼Œthis ç°¡å–®ä¾†èªªï¼Œæ˜¯ç‰©ä»¶å¯¦é«”å°ˆå±¬çš„æŒ‡å‘è®Šæ•¸ï¼Œthis æŒ‡å‘çš„å°±æ˜¯\"é€™å€‹\"ç‰©ä»¶å¯¦é«”ã€‚ä»¥ä¸Šé¢çš„ä¾‹å­ï¼šç•¶ç‰©ä»¶çœŸæ­£å¯¦é«”åŒ–æ™‚ï¼Œthis è®Šæ•¸æœƒæŒ‡å‘é€™å€‹ç‰©ä»¶å¯¦é«”ã€‚this æ˜¯æ€éº¼çŸ¥é“è¦æŒ‡å‘å“ªä¸€å€‹ç‰©ä»¶å¯¦é«”ï¼Ÿæ˜¯å› ç‚º new é—œéµå­—é€ æˆçš„çµæœã€‚\r\n\r\nthis è®Šæ•¸æ˜¯ javascript çš„ä¸€å€‹ç‰¹æ€§ï¼Œä»–æ˜¯éš±è—çš„å…§éƒ¨è®Šæ•¸ä¹‹ä¸€ï¼Œç•¶å‡½å¼å‘¼å«æˆ–æ˜¯ç‰©ä»¶å¯¦é«”åŒ–æ™‚ï¼Œéƒ½æœƒä»¥é€™å€‹ this è®Šæ•¸çš„æŒ‡å‘å°è±¡ä½œç‚ºåŸ·è¡ŒæœŸé–“çš„ä¾æ“šã€‚\r\n\r\nthis å‘¼å«çš„æƒ…å¢ƒï¼š\r\n\r\n1. å‡½å¼å‘¼å«ï¼šåœ¨ä¸€èˆ¬æƒ…æ³ä¸‹çš„å‡½å¼å‘¼å«ï¼Œthis é€šå¸¸éƒ½æœƒæŒ‡å‘å…¨åŸŸç‰©ä»¶(global object)\r\n2. å»ºæ§‹å¼å‘¼å«(construct)ï¼šé€é new å°‡ç‰©ä»¶å¯¦ä¾‹åŒ–ï¼Œç­‰æ–¼å‘¼å«é¡å‹çš„å»ºæ§‹å¼ï¼Œthis æœƒæŒ‡å‘æ–°å»ºç«‹çš„ç‰©ä»¶å¯¦ä¾‹\r\n3. ç‰©ä»¶ä¸­çš„æ–¹æ³•å‘¼å«ï¼šthis æŒ‡å‘å‘¼å«é€™å€‹æ–¹æ³•çš„ç‰©ä»¶å¯¦é«”\r\n\r\næ‰€ä»¥ç•¶å»ºæ§‹å¼å‘¼å«æ™‚ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ new é‹ç®—ç¦å»ºç«‹ç‰©ä»¶æ™‚ï¼Œthis æœƒæŒ‡å‘æ–°å»ºç«‹çš„ç‰©ä»¶å¯¦ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼ï¼š\r\n\r\n```javascript\r\nconst ivan = new Player(\"ivan\", 16, \"boy\", pink);\r\n```\r\n\r\nå› æ­¤åœ¨å»ºæ§‹å¼ä¸­çš„æŒ‡å®šå€¼çš„èªå¥ï¼Œè£¡é¢çš„ this å€¼å°±æœƒæŒ‡å‘æ˜¯é€™å€‹æ–°å»ºç«‹çš„ç‰©ä»¶ï¼Œä¹Ÿå°±æ˜¯`ivan`ï¼š\r\n\r\n```javascript\r\nconstructor(fullName, age, gender, hairColor) {\r\n        this.fullName = fullName\r\n        this.age = age\r\n        this.gender = gender\r\n        this.hairColor = hairColor\r\n    }\r\n```\r\n\r\nä¹Ÿå°±æ˜¯èªªï¼Œåœ¨å»ºç«‹ç‰©ä»¶å¾Œï¼Œç¶“å»ºæ§‹å¼çš„åŸ·è¡Œèªå¥ï¼Œé€™å€‹`ivan`ç‰©ä»¶ä¸­çš„å±¬æ€§å€¼å°±æœƒè¢«æŒ‡å®šå®Œæˆï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸‹é¢çš„èªæ³•ä¾†å­˜å–å±¬æ€§ï¼š\r\n\r\n```javascript\r\nivan.fullName\r\nivan.age\r\nivan.gender\r\nivan.hairColor\r\n```\r\n\r\nç¬¬ä¸‰ç¨®æƒ…æ³æ˜¯å‘¼å«ç‰©ä»¶ä¸­çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å‘ä¸‹é¢çš„ codeï¼Œthis æœƒæŒ‡å‘é€™å€‹å‘¼å« toString æ–¹æ³•çš„ç‰©ä»¶ï¼Œä¹Ÿå°±æ˜¯ ivan\r\n\r\n```javascript\r\nivan.toString();\r\n```\r\n","date":"2023-03-23T09:04:57.849Z","matchingLines":["## ç‰©ä»¶å®šç¾©çš„æ–¹å¼\r","## é¡åˆ¥(class)\r"],"tocContent":""},{"name":"Laravel å¯¦ä½œæ¬Šé™.md","content":"# Laravel å¯¦ä½œæ¬Šé™\r\n\r\n## Gates\r\n\r\n### ä½¿ç”¨è€…è§’è‰²\r\n\r\nå°‡ä½¿ç”¨è€…å€åˆ†ç‚º:\r\n\r\n- ç³»çµ±ç®¡ç†è€…: admin\r\n- ä¸€èˆ¬ç®¡ç†è€…: manager\r\n- ä¸€èˆ¬ä½¿ç”¨è€…: user\r\n\r\nç·¨è¼¯`app/User.php`ï¼ŒåŠ å…¥å¸³è™Ÿè§’è‰²åç¨±å¸¸æ•¸ï¼Œä¸¦å°‡`role`æ¬„ä½åŠ å…¥ `fillable` ä¸­\r\n\r\n```php\r\nclass User extends Authenticatable\r\n{\r\n    // ...\r\n\r\n    const ROLE_ADMIN = 'admin';\r\n    const ROLE_MANAGER = 'manager';\r\n    const ROLE_USER = 'user';\r\n\r\n    protected $fillable = [\r\n        'name', 'email', 'password', 'role',\r\n    ];\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n### è³‡æ–™åº« migration\r\n\r\nå»ºç«‹ä¸€å€‹ `migration` è¨­å®šæª”ï¼Œåœ¨ `users` è³‡æ–™è¡¨ä¸­åŠ å…¥å„²å­˜å¸³è™Ÿè§’è‰²çš„ `role` æ¬„ä½\r\n\r\n```php\r\nclass AddRoleColumnToUsersTable extends Migration\r\n{\r\n    /**\r\n     * Run the migrations.\r\n     *\r\n     * @return void\r\n     */\r\n    public function up()\r\n    {\r\n        Schema::table('users', function (Blueprint $table) {\r\n            $table->string('role')->default(Admin::ROLE_USER);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Reverse the migrations.\r\n     *\r\n     * @return void\r\n     */\r\n    public function down()\r\n    {\r\n        Schema::table('users', function (Blueprint $table) {\r\n            $table->dropColumn('role');\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nä¿®æ”¹å®Œæˆå¾Œï¼ŒåŸ·è¡Œ migrate\r\n\r\n### ä½¿ç”¨è€…è¨»å†Š Controller\r\n\r\nç·¨è¼¯`app/Http/Controllers/Auth/RegisterController.php`ï¼Œè¨­å®šä½¿ç”¨è€…è¨»å†Šæ™‚ï¼Œé è¨­è§’è‰²ç‚ºä¸€èˆ¬ä½¿ç”¨è€…\r\n\r\n```php\r\nprotected function create(array $data)\r\n{\r\n    return User::create([\r\n        'name' => $data['name'],\r\n        'email' => $data['email'],\r\n        'password' => Hash::make($data['password']),\r\n        'role' => User::ROLE_USER,  // é è¨­ç‚ºä¸€èˆ¬ä½¿ç”¨è€…\r\n    ]);\r\n}\r\n```\r\n\r\n### å»ºç«‹ Gate è¦å‰‡æ¬Šé™\r\n\r\nç·¨è¼¯`app/Providers/AuthServiceProvider.php`ï¼ŒåŠ å…¥è‡ªè¨‚çš„ Gates è¦å‰‡\r\n\r\n```php\r\nuse App\\User;\r\n\r\nclass AuthServiceProvider extends ServiceProvider\r\n{\r\n    // ..\r\n\r\n    public function boot()\r\n    {\r\n        $this->registerPolicies();\r\n\r\n        // ç³»çµ±ç®¡ç†è€… Gate è¦å‰‡\r\n        Gate::define('admin', function ($user) {\r\n            return $user->role === User::ROLE_ADMIN;\r\n        });\r\n\r\n        // ä¸€èˆ¬ç®¡ç†è€… Gate è¦å‰‡\r\n        Gate::define('manager', function ($user) {\r\n            return $user->role === User::ROLE_MANAGER;\r\n        });\r\n\r\n        // ä¸€èˆ¬ä½¿ç”¨è€… Gate è¦å‰‡\r\n        Gate::define('user', function ($user) {\r\n            return $user->role === User::ROLE_USER;\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n### åœ¨ Blade é‹ç”¨ Gate æ¬Šé™è¨­å®š\r\n\r\nåœ¨ Blade æ¨£æ¿ä¸­å¯ä»¥é‹ç”¨ `@can`ã€`@cannot` æˆ– `@canany` ä¾†åˆ¤æ–·ä½¿ç”¨è€…çš„æ¬Šé™\r\n\r\n```php\r\n@can('admin')\r\n    <!-- ç³»çµ±ç®¡ç†è€… -->\r\n@elsecan('manager')\r\n    <!-- ä¸€èˆ¬ç®¡ç†è€… -->\r\n@else\r\n    <!-- ä¸€èˆ¬ä½¿ç”¨è€… -->\r\n@endcan\r\n```\r\n\r\n### Controller é‹ç”¨ Gate æ¬Šé™è¨­å®š\r\n\r\nåœ¨ Controller ä¸­å‰‡å¯ä½¿ç”¨ `Gate::allows` æˆ– `Gate::denies` åˆ¤æ–·ä½¿ç”¨è€…æ¬Šé™\r\n\r\n```php\r\nuse Illuminate\\Support\\Facades\\Gate;\r\n\r\nclass Controller extends BaseController\r\n{\r\n    // ...\r\n\r\n    public function someAction()\r\n    {\r\n        if (Gate::allows('admin')) {\r\n            return 'ç³»çµ±ç®¡ç†è€…ã€‚';\r\n        }\r\n\r\n        if (Gate::denies('admin')) {\r\n            return 'éç³»çµ±ç®¡ç†è€…ï¼';\r\n        }\r\n    }\r\n}\r\n```\r\n\r\né‹ç”¨ `authorize` ç›´æ¥é™åˆ¶æ•´å€‹å‡½æ•¸çš„åŸ·è¡Œæ¬Šé™\r\n\r\n```php\r\nclass Controller extends BaseController\r\n{\r\n    // ...\r\n\r\n    // åªæœ‰ç³»çµ±ç®¡ç†è€…å¯ä»¥åŸ·è¡Œ\r\n    public function adminAction()\r\n    {\r\n        $this->authorize('admin');\r\n\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n### Middleware é‹ç”¨ Gate æ¬Šé™è¨­å®š\r\n\r\næ‡‰ç”¨åœ¨ Route\r\n\r\n```php\r\n// åªæœ‰ç³»çµ±ç®¡ç†è€…å¯ä»¥åŸ·è¡Œ\r\nRoute::get('/someAction', 'MyController@someAction') -> middleware('can:admin');\r\n```\r\n\r\n## Policy\r\n\r\nå¯ä»¥é‡å°ä¸€å€‹ Model æˆ–è³‡æºå¯¦ä½œé™åˆ¶æ¬Šé™\r\n\r\n```php\r\nphp artisan make:policy PostPolicy --model=Post\r\n```\r\n\r\nåˆ°`app/Providers/AuthServiceProvider`è¨»å†Šå‰›å»ºç«‹å¥½çš„ Policy\r\n\r\n```php\r\nprotected $policies = [\r\n    // 'App\\Model' => 'App\\Policies\\ModelPolicy',\r\n    Post::class => PostPolicy::class,\r\n];\r\n```\r\n\r\nåˆ°`app/Policies/PostPolicy`ä¿®æ”¹æ¢ä»¶\r\n\r\n```php\r\npublic function update(User $user, Post $post)\r\n{\r\n    return $user->id === $post->user_id;\r\n}\r\n```\r\n","date":"2023-03-09T06:53:16.903Z","matchingLines":["## Gates\r","## Policy\r"],"tocContent":""},{"name":"èªæ„åŒ–ç‰ˆæœ¬.md","content":"# èªæ„åŒ–ç‰ˆæœ¬\r\n\r\n> åƒè€ƒè³‡æ–™ï¼š\r\n>\r\n> [èªæ„åŒ–ç‰ˆæœ¬ 2.0.0](https://semver.org/lang/zh-TW/)\r\n\r\n## æ‘˜è¦\r\n\r\nç‰ˆæœ¬æ ¼å¼ï¼šä¸»æ¿è™Ÿ.æ¬¡ç‰ˆè™Ÿ.ä¿®è¨‚è™Ÿï¼Œç‰ˆè™Ÿéå¢è¦å‰‡å¦‚ä¸‹ï¼š\r\n\r\n1. ä¸»æ¿è™Ÿï¼šç•¶æ¨å‡ºä¸€å€‹ä¸ç›¸å®¹çš„ API ä¿®æ”¹ã€‚\r\n2. æ¬¡ç‰ˆè™Ÿï¼šç•¶æ¨å‡ºä¸€å€‹å‘ä¸‹ç›¸å®¹çš„åŠŸèƒ½æ€§æ–°å¢ã€‚\r\n3. ä¿®è¨‚è™Ÿï¼šç•¶æ¨å‡ºä¸€å€‹å‘ä¸‹ç›¸å®¹çš„å•é¡Œä¿®æ­£ã€‚\r\n\r\nå…ˆè¡Œç‰ˆè™ŸåŠç‰ˆæœ¬ç·¨è­¯è³‡è¨Šå¯ä»¥åŠ åˆ° \"ä¸»ç‰ˆæœ¬è™Ÿ.æ¬¡ç‰ˆæœ¬è™Ÿ.ä¿®è¨‚è™Ÿ\" çš„å¾Œé¢ä½œç‚ºå»¶ä¼¸ã€‚\r\n\r\n## ç°¡ä»‹\r\n\r\nç•¶ç³»çµ±è¦æ¨¡è¶Šå¤§ï¼ŒåŠ å…¥çš„å¥—ä»¶è¶Šå¤šï¼Œå°±è¶Šæœ‰å¯èƒ½åœ¨æœªä¾†çš„æŸä¸€å¤©ç™¼ç¾è‡ªå·±èº«é™·çµ•æœ›ä¹‹ä¸­ã€‚\r\n\r\nå†ç›¸ä¾æ€§é«˜çš„ç³»çµ±ä¸­ç™¼ä½ˆæ–°ç‰ˆæœ¬å¥—ä»¶ï¼Œå¯èƒ½å¾ˆå¿«å°±æœƒè®Šæˆæƒ¡å¤¢ã€‚å¦‚æœç›¸ä¾æ€§é—œä¿‚éé«˜ï¼Œå¯èƒ½é¢è‡¨ç‰ˆæœ¬æ§åˆ¶è¢«é–æ­»çš„é¢¨éšª(å¿…é ˆå°æ¯ä¸€å€‹ç›¸ä¾å¥—ä»¶æ”¹ç‰ˆï¼Œæ‰èƒ½å®ŒæˆæŸæ¬¡å‡ç´š)ã€‚è€Œå¦‚æœç›¸ä¾æ€§éæ–¼é¬†æ•£\r\nï¼Œåˆå°‡ç„¡æ³•é¿å…ç‰ˆæœ¬æ··äº‚(å‡è¨­ç›¸å®¹æ–¼æœªä¾†çš„å¤šå€‹ç‰ˆæœ¬å·²è¶…å‡ºåˆç†æ•¸é‡)ã€‚ç•¶ä½ å°ˆæ¡ˆçš„é€²å±•å› ç‚ºç‰ˆæœ¬ç›¸ä¾è¢«é–æ­»æˆ–ç‰ˆæœ¬æ··äº‚è®Šå¾—ä¸å¤ ç°¡ä¾¿å’Œå¯é ï¼Œå°±æ„å‘³ä½ æ­£è™•æ–¼ç›¸ä¾æ€§åœ°ç„ä¸­ã€‚\r\n\r\nè€Œèªæ„åŒ–ç‰ˆæœ¬å°±æ˜¯é€™å€‹å•é¡Œçš„è§£æ±ºæ–¹æ¡ˆä¹‹ä¸€ã€‚é€™äº›è¦å‰‡æ˜¯æ ¹æ“š(ä½†ä¸å±€é™æ–¼)å„ç¨®å·²ç¶“å°é–‰ã€é–‹æ”¾æºç¢¼è»Ÿé«”æ‰€å»£æ³›æ‡‰ç”¨çš„æ…£ä¾‹æ‰€è¨­è¨ˆã€‚ç‚ºäº†è®“é€™å¥—ç†è«–é‹ä½œï¼Œä½ å¿…é ˆå…ˆå®šç¾©å¥½çš„å…¬å…± APIã€‚é€™å¯ä»¥é€éæ–‡ä»¶å®šç¾©æˆ–ç¨‹å¼ç¢¼å¼·åˆ¶è¦æ±‚ä¾†å¯¦é™ã€‚ç„¡è«–å¦‚ä½•ï¼Œé€™å¥— API çš„æ¸…æ¥šæ˜ç­æ˜¯ååˆ†é‡è¦çš„ã€‚ä¸€æ—¦ä½ å®šç¾©äº†å…¬å…± APIã€‚é€™å¯ä»¥é€éä¿®æ”¹ç›¸æ‡‰çš„ç‰ˆè™Ÿä¾†å‘å¤§å®¶èªªæ˜ä½ çš„ä¿®æ”¹ã€‚è€ƒæ…®ä½¿ç”¨é€™æ¨£çš„ç‰ˆè™Ÿæ ¼å¼ï¼šX.Y.Z(ä¸»ç‰ˆè™Ÿ.æ¬¡ç‰ˆè™Ÿ.ä¿®è¨‚è™Ÿ)ä¿®å¾©å•é¡Œä½†ä¸å½±éŸ¿ API æ™‚ï¼Œéå¢ä¿®è¨‚è™Ÿï¼›API ä¿æŒå‘ä¸‹ç›¸å®¹çš„æ–°å¢ä¿®æ”¹æ™‚ï¼Œåœ°å¢æ¬¡ç‰ˆè™Ÿï¼›é€²è¡Œä¸å‘ä¸‹ç›¸åŒçš„ä¿®æ”¹æ™‚ï¼Œéå¢ä¸»ç‰ˆè™Ÿã€‚\r\n\r\n## èªæ„ç‰ˆæœ¬æ§åˆ¶è¦ç¯„\r\n\r\n1. ä½¿ç”¨èªæ„åŒ–ç‰ˆæœ¬æ§åˆ¶çš„è»Ÿé«”å¿…é ˆ(MUST)å®šç¾©å…¬å…± APIã€‚è©² API å¯ä»¥åœ¨ç¨‹å¼ç¢¼ä¸­è¢«å®šç¾©å‡ºä¾†æˆ–å‡ºç¾æ–¼åš´è¬¹çš„æ–‡ä»¶å…§ã€‚ç„¡è«–ä½•ç¨®å½¢å¼éƒ½æ‡‰è©²(SHOULD)åŠ›æ±‚ç²¾ç¢ºä¸”å®Œæ•´ã€‚\r\n2. æ¨™æº–çš„ç‰ˆè™Ÿå¿…é ˆ(MUST)æ¡ç”¨ X.Y.Z æ ¼å¼ï¼Œå…¶ä¸­ Xã€Y å’Œ Z ç‚ºéè² çš„æ•´æ•¸ï¼Œä¸”ç¦æ­¢(MUST NOT)åœ¨æ•¸å­—å‰æ–¹è£œé›¶ã€‚X ç‚ºä¸»ç‰ˆè™Ÿï¼ŒY ç‚ºæ¬¡ç‰ˆè™Ÿï¼ŒZ ç‚ºä¿®è¨‚è™Ÿã€‚æ¯å€‹å…ƒç´ å¿…é ˆ(MUST)ä»¥æ•¸å€¼ä¾†éå¢ã€‚ä¾‹å¦‚ï¼š1.9.1 -> 1.10.0 -> 1.11.0ã€‚\r\n3. æ¨™è¨˜ç‰ˆè™Ÿçš„è»Ÿé«”ç™¼è¡Œå¾Œï¼Œç¦æ­¢(MUST NOT)æ”¹è®Šè©²ç‰ˆæœ¬è»Ÿé«”çš„å…§å®¹ã€‚ä»»ä½•ä¿®æ”¹éƒ½å¿…é ˆ(MUST)ä»¥æ–°ç‰ˆæœ¬ç™¼è¡Œã€‚\r\n4. ä¸»ç‰ˆæœ¬è™Ÿç‚ºé›¶(0.y.z)çš„è»Ÿé«”è™•æ–¼é–‹ç™¼åˆå§‹éšæ®µï¼Œä¸€åˆ‡éƒ½å¯ä»¥(MAY)éš¨æ™‚æ”¹è®Šã€‚é€™æ¨£çš„å…¬å…± API ä¸æ‡‰è©²(SHOULD NOT)è¢«è¦–ç‚ºç©©å®šç‰ˆã€‚\r\n5. 1.0.0 çš„ç‰ˆè™Ÿç”¨æ–¼ç•Œå®šå…¬å…± API çš„å½¢æˆã€‚é€™ä¸€ç‰ˆä¹‹å¾Œæ‰€æœ‰çš„ç‰ˆè™Ÿæ›´æ–°éƒ½åŸºæ–¼å…¬å…± API åŠå…¶ä¿®æ”¹å…§å®¹ã€‚\r\n6. ä¿®è¨‚è™Ÿ z å¿…é ˆ(MUST)åœ¨åªåšäº†å‘ä¸‹ç›¸å®¹çš„ä¿®æ­£æ™‚æ‰éå¢ã€‚é€™è£¡çš„ä¿®æ­£æŒ‡çš„æ˜¯é‡å°ä¸æ­£ç¢ºçµæœè€Œé€²è¡Œçš„å…§éƒ¨ä¿®æ”¹ã€‚\r\n7. æ¬¡ç‰ˆè™Ÿ y å¿…é ˆ(MUST)åœ¨æœ‰å‘ä¸‹ç›¸å®¹çš„æ–°åŠŸèƒ½å‡ºç¾æ™‚éå¢ã€‚åœ¨ä»»ä½•å…¬å…± API çš„åŠŸèƒ½è¢«æ¨™è¨˜ç‚ºæ£„ç”¨æ™‚ï¼Œä¹Ÿå¿…éœ€(MUST)éå¢ã€‚ä¹Ÿå¯ä»¥(MAY)åœ¨å…§éƒ¨ç¨‹å¼æœ‰å¤§é‡æ–°åŠŸèƒ½æˆ–æ”¹é€²è¢«åŠ å…¥æ™‚éå¢ï¼Œå…¶ä¸­å¯ä»¥(MAY)åŒ…æ‹¬ä¿®è¨‚ç´šåˆ¥çš„æ”¹è®Šã€‚æ¯ç•¶æ¬¡ç‰ˆè™Ÿéå¢æ™‚ï¼Œä¿®è¨‚è™Ÿå¿…é ˆ(MUST)æ­¸é›¶ã€‚\r\n8. ä¸»ç‰ˆè™Ÿ x å¿…é ˆ(MUST)åœ¨æœ‰ä»»ä½•ä¸ç›¸å®¹çš„ä¿®æ”¹è¢«åŠ å…¥å…¬å…± API æ™‚éå¢ã€‚å…¶ä¸­å¯ä»¥(MAY)åŒ…æ‹¬æ¬¡ç‰ˆè™ŸåŠä¿®è¨‚ç´šåˆ¥çš„æ”¹è®Šã€‚æ¯ç•¶ä¸»ç‰ˆè™Ÿéå¢æ™‚ï¼Œæ¬¡ç‰ˆè™Ÿå’Œä¿®è¨‚è™Ÿå¿…é ˆ(MUST)æ­¸é›¶ã€‚\r\n9. å…ˆè¡Œç‰ˆè™Ÿå¯ä»¥(MAY)è¢«æ¨™è¨»åœ¨ä¿®è¨‚ç‰ˆä¹‹å¾Œï¼Œå…ˆåŠ ä¸Šä¸€å€‹é€£æ¥è™Ÿå†åŠ ä¸Šä¸€é€£ä¸²ä»¥å¥é»åˆ†éš”çš„æ¨™ç¤ºç¬¦è™Ÿä¾†ä¿®é£¾ã€‚æ¨™ç¤ºç¬¦è™Ÿå¿…é ˆ(MUST)ç”± ASCII ç¢¼çš„è‹±æ•¸å­—å’Œé€£æ¥è™Ÿçµ„æˆï¼Œä¸”ç¦æ­¢(MUST NOT)ç•™ç™½ã€‚æ•¸å­—å‹çš„æ¨™ç¤ºç¬¦è™Ÿç¦æ­¢(MUST NOT)åœ¨å‰æ–¹è£œé›¶ã€‚å…ˆè¡Œç‰ˆçš„å„ªå…ˆç´šä½æ–¼ç›¸é—œè¯çš„æ¨™æº–ç‰ˆã€‚è¢«æ¨™ä¸Šå…ˆè¡Œç‰ˆè™Ÿå‰‡è¡¨ç¤ºé€™å€‹ç‰ˆè™Ÿä¸¦éç©©å®šä¸”å¯èƒ½ç„¡æ³•é”åˆ°ç›¸å®¹çš„éœ€æ±‚ã€‚ç¯„ä¾‹ï¼š1.0.0-alphaã€1.0.0-alpha.1ã€1.0.0-0.3.7ã€1.0.0-x.7.z.92ã€1.0.0-x-y-z.â€“ã€‚\r\n10. ç‰ˆæœ¬ç·¨è­¯è³‡è¨Šå¯ä»¥(MAY)è¢«æ¨™è¨»åœ¨ä¿®è¨‚ç‰ˆæˆ–å…ˆè¡Œç‰ˆä¹‹å¾Œï¼Œå…ˆåŠ ä¸Šä¸€å€‹åŠ è™Ÿå†åŠ ä¸Šä¸€é€£ä¸²ä»¥å¥é»åˆ†éš”çš„æ¨™ç¤ºç¬¦è™Ÿä¾†ä¿®é£¾ã€‚æ¨™ç¤ºç¬¦è™Ÿå¿…é ˆ(MUST)ç”± ASCII çš„è‹±æ•¸å­—å’Œé€£æ¥è™Ÿçµ„æˆï¼Œä¸”ç¦æ­¢(MUST NOT)ç•™ç™½ã€‚ç•¶åˆ¤æ–·ç‰ˆæœ¬çš„å„ªå…ˆå±¤ç´šæ™‚ï¼Œç‰ˆæœ¬ç·¨è­¯è³‡è¨Šå¿…é ˆ(MUST)è¢«å¿½ç•¥ã€‚å› æ­¤ç•¶å…©å€‹ç‰ˆæœ¬åªæœ‰åœ¨ç‰ˆæœ¬ç·¨è­¯è³‡è¨Šæœ‰å·®åˆ¥æ™‚ï¼Œå±¬æ–¼ç›¸åŒçš„å„ªå…ˆå±¤ç´šã€‚ç¯„ä¾‹ï¼š1.0.0-alpha+001ã€1.0.0+20130313144700ã€1.0.0-beta+exp.sha.5114f85ã€1.0.0+21AF26D3â€”-117B344092BDã€‚\r\n11. ç‰ˆæœ¬çš„å„ªå…ˆå±¤ç´šæŒ‡çš„æ˜¯ä¸åŒç‰ˆæœ¬åœ¨æ’åºæ™‚å¦‚ä½•æ¯”è¼ƒã€‚\r\n    1. åˆ¤æ–·å„ªå…ˆå±¤ç´šæ™‚ï¼Œå¿…é ˆ(MUST)æŠŠç‰ˆæœ¬ä¾åºæ‹†åˆ†ç‚ºä¸»ç‰ˆè™Ÿã€æ¬¡ç‰ˆè™Ÿã€ä¿®è¨‚è™ŸåŠå…ˆè¡Œç‰ˆè™Ÿå¾Œé€²è¡Œæ¯”è¼ƒ(ç‰ˆæœ¬è³‡è¨Šä¸åœ¨æ­¤æ¯”è¼ƒçš„ç¯„ç–‡ä¸­)ã€‚\r\n    2. ç”±å·¦åˆ°å³ä¾åºæ¯”è¼ƒæ¯å€‹æ¨™ç¤ºç¬¦è™Ÿï¼Œç¬¬ä¸€å€‹å·®ç•°å€¼ç”¨ä¾†æ±ºå®šå„ªå…ˆå±¤ç´šï¼šä¸»è¾¦è™Ÿã€æ¬¡ç‰ˆè™ŸåŠä¿®è¨‚è™Ÿä»¥æ•¸å€¼æ¯”è¼ƒã€‚ä¾‹å¦‚ï¼š1.0.0 < 2.0.0 < 2.1.0 < 2.1.1ã€‚\r\n    3. ç•¶ä¸»ç‰ˆè™Ÿã€æ¬¡ç‰ˆè™ŸåŠä¿®è¨‚è™Ÿéƒ½ç›¸åŒæ™‚ï¼Œæœ‰å…ˆè¡Œç‰ˆè™Ÿè€…å„ªå…ˆå±¤ç´šè¼ƒä½ã€‚ä¾‹å¦‚ï¼š1.0.0-alpha < 1.0.0ã€‚\r\n    4. æœ‰ç›¸åŒä¸»ç‰ˆè™Ÿã€æ¬¡ç‰ˆè™ŸåŠä¿®è¨‚è™Ÿçš„å…©å€‹å…ˆè¡Œç‰ˆè™Ÿï¼Œå…¶å„ªå…ˆå¿…é ˆ(MUST)é€éç”±å·¦åˆ°å³æ¯å€‹è¢«å¥é»åˆ†éš”çš„æ¨™ç¤ºç¬¦è™Ÿä¾†åšæ¯”è¼ƒï¼Œå€¼åˆ°æ‰¾åˆ°ä¸€å€‹å·®ç•°å€¼å¾Œæ±ºã€‚\r\n","date":"2023-02-16T08:52:31.272Z","matchingLines":["## æ‘˜è¦\r","## ç°¡ä»‹\r","## èªæ„ç‰ˆæœ¬æ§åˆ¶è¦ç¯„\r"],"tocContent":""},{"name":"SOLID ç‰©ä»¶å°å‘åŸå‰‡.md","content":"# SOLID ç‰©ä»¶å°å‘åŸå‰‡\r\n\r\n> åƒè€ƒè³‡æ–™\r\n>\r\n> [ç‰©ä»¶å°å‘è¨­è¨ˆåŸå‰‡ SOLID](https://clouding.city/php/solid/)\r\n\r\n## SPR å–®ä¸€è·è²¬åŸå‰‡\r\n\r\n> Single Responsibility Principle\r\n\r\n### å®šç¾©\r\n\r\næ‡‰è©²ä¸”åƒ…æœ‰ä¸€å€‹åŸå› å¼•èµ·é¡åˆ¥çš„è®Šæ›´ï¼Œè®“é¡åˆ¥åªæœ‰ä¸€å€‹è·è²¬ã€‚\r\n\r\n### ç§˜è¨£\r\n\r\n- é—œæ³¨é»åˆ†é›¢\r\n- ä¸æ‡‰è©²å› ç‚ºè²ªåœ–æ–¹ä¾¿å¡åœ¨ä¸€èµ·\r\n- è‹¥åˆ‡åˆ†å¤ªç´°ï¼Œæœƒæœ‰é¡åˆ¥å¤ªå¤šçš„å•é¡Œ\r\n\r\n### æé†’\r\n\r\n- è¨­è¨ˆéšæ®µå°±å¯ä»¥é¿é–‹é¡åˆ¥è·è²¬å¤ªå¤§çš„å•é¡Œ\r\n- åœ¨ç¶­è­·éšæ®µéœ€å°å¿ƒåˆ¥åˆè®“é¡åˆ¥è·è²¬è®Šå¤š\r\n\r\nBad\r\n\r\n```php\r\nclass UserSettings\r\n{\r\n    private $user;\r\n\r\n    public function __construct(User $user)\r\n    {\r\n        $this->user = $user;\r\n    }\r\n\r\n    public function changSettings(array $settings): void\r\n    {\r\n        if ($this->verifyCredentials()) {\r\n            //\r\n        }\r\n    }\r\n\r\n    private function verifyCredentials(): bool\r\n    {\r\n        //\r\n    }\r\n}\r\n```\r\n\r\nGood\r\n\r\n```php\r\nclass UserAuth\r\n{\r\n    private $user;\r\n\r\n    public function __construct(User $user)\r\n    {\r\n        $this->user = $user;\r\n    }\r\n\r\n    public function verifyCredentials(): bool\r\n    {\r\n        //\r\n    }\r\n}\r\n\r\nclass UserSetters\r\n{\r\n    private $user;\r\n\r\n    private $auth;\r\n\r\n    public function __construct(User $user)\r\n    {\r\n        $this->user = $user;\r\n        $this->auth = new UserAuth($user);\r\n    }\r\n\r\n    public function ChangSettings(array $settings): void\r\n    {\r\n        if ($this->auth->verifyCredentials()) {\r\n            //\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Open Closed Principle é–‹æ”¾å°é–‰åŸå‰‡\r\n\r\n### å®šç¾©\r\n\r\nè»Ÿé«”ä¸­çš„å°è±¡(é¡åˆ¥ã€å‡½æ•¸)ï¼Œå°æ–¼æ“´å±•æ˜¯é–‹æ”¾çš„ï¼Œå°æ–¼ä¿®æ”¹æ˜¯å°é–‰çš„ã€‚\r\n\r\n### ç§˜è¨£\r\n\r\n- åªè€ƒæ…®æŠ½è±¡å±¤ç´šçš„ä»‹é¢äº’å‹•\r\n- æŠŠè®ŠåŒ–å§”è¨—çµ¦å…¶ä»–é¡åˆ¥è™•ç†\r\n- åªç•°å‹• metadata æˆ– config\r\n\r\n### æé†’\r\n\r\n- ä¸æ˜¯æ‰€æœ‰ç¨‹å¼éƒ½éµå®ˆ OCP\r\n- å¯èƒ½ä¸€é–‹å§‹ç„¡æ³•é æƒ³åˆ°è¦æ“´å……ï¼Œä½†å¯ä»¥é€éé‡æ§‹å®Œæˆ\r\n- ä¸è¦éåº¦ç”¨ç¹¼æ‰¿çš„æ–¹å¼ä¾†é€²è¡Œæ“´å……\r\n\r\nBad\r\n\r\n```php\r\nabstract class Adapter\r\n{\r\n    protected $name;\r\n\r\n    public function getName(): string\r\n    {\r\n        return $this->name;\r\n    }\r\n}\r\n\r\nclass AjaxAdapter extends Adapter\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct();\r\n\r\n        $this->name = 'ajaxAdapter';\r\n    }\r\n}\r\n\r\nclass NodeAdapter extends Adapter\r\n{\r\n    public function __construct()\r\n    {\r\n        parent::__construct();\r\n\r\n        $this->name = 'nodeAdapter';\r\n    }\r\n}\r\n\r\nclass HttpRequester\r\n{\r\n    private $adapter;\r\n\r\n    public function __construct(Adapter $adapter)\r\n    {\r\n        $this->adapter = $adapter;\r\n    }\r\n\r\n    public function fetch(string $url): promise\r\n    {\r\n        $adapterName = $this->adapter->getName();\r\n\r\n        if ($adapterName === 'ajaxAdapter') {\r\n            return $this->makeAjaxCall($url);\r\n        } elseif ($adapterName === 'httpNodeAdapter') {\r\n            return $this->makeHttpCall($url);\r\n        }\r\n    }\r\n\r\n    private function makeAjaxCall(string $url): promise\r\n    {\r\n        // request and return promise\r\n    }\r\n\r\n    private function makeHttpCall(string $url): promise\r\n    {\r\n        // request and return promise\r\n    }\r\n}\r\n```\r\n\r\nGood\r\n\r\n```php\r\ninterface Adapter\r\n{\r\n    public function request(string $url): promise;\r\n}\r\n\r\nclass AjaxAdapter implements Adapter\r\n{\r\n    public function request(string $url): promise\r\n    {\r\n        // request and return promise\r\n    }\r\n}\r\n\r\nclass NodeAdapter implements Adapter\r\n{\r\n    public function request(string $url): promise\r\n    {\r\n        // request and return promise\r\n    }\r\n}\r\n\r\nclass HttpRequester\r\n{\r\n    private $adapter;\r\n\r\n    public function __construct(Adapter $adapter)\r\n    {\r\n        $this->adapter = $adapter;\r\n    }\r\n\r\n    public function fetch(string $url): promise\r\n    {\r\n        return $this->adapter->request($url);\r\n    }\r\n}\r\n```\r\n\r\n## Liskov Substitution Principle é‡Œæ°æ›¿æ›åŸå‰‡\r\n\r\n### å®šç¾©\r\n","date":"2023-02-04T02:20:34.116Z","matchingLines":["## SPR å–®ä¸€è·è²¬åŸå‰‡\r","## Open Closed Principle é–‹æ”¾å°é–‰åŸå‰‡\r","## Liskov Substitution Principle é‡Œæ°æ›¿æ›åŸå‰‡\r"],"tocContent":""},{"name":"åœ¨ GCP éƒ¨ç½² laravel å°ˆæ¡ˆ.md","content":"# åœ¨ GCP éƒ¨ç½² laravel å°ˆæ¡ˆ\r\n\r\n> [åŸ·è¡Œç’°å¢ƒè¨­å®š](https://bugswarehouse.blogspot.com/2018/07/gcpgceubuntuapachelaravel56.html)\r\n>\r\n> - Ubuntu 20.04.1 LTS \\n \\l\r\n> - Apache/2.4.41 (Ubuntu)\r\n> - mysql Ver 8.0.29-0ubuntu0.20.04.3 for Linux on x86_64 ((Ubuntu))\r\n> - PHP 7.4.3\r\n> - git 2.25.1\r\n> - Composer 2.0.12\r\n\r\n## è¨­ç½®å°ˆæ¡ˆ\r\n\r\n### clone git repo\r\n\r\nå°‡ç›®éŒ„åˆ‡æ›åˆ°`/srv/www`ï¼Œå°‡è¨—ç®¡åœ¨ git repo çš„å°ˆæ¡ˆ clone ä¸‹ä¾†ä¸¦ä¾ laravel ä¸Šç·šç’°å¢ƒè¨­å®šæµç¨‹åŸ·è¡Œã€‚\r\nä¸€èˆ¬è€Œè¨€æœƒå°‡æ–‡ä»¶åç¨±è¨­ç‚ºåŸŸåã€‚\r\nå°‡ç›®éŒ„åˆ‡æ›åˆ° Apache ä¸»æ©Ÿæ”¾å…¬é–‹ç¨‹å¼çš„åœ°æ–¹`/var/www`ï¼Œå°‡è¨­å®šè»Ÿé€£çµæŒ‡å‘å°ˆæ¡ˆä½ç½®\r\n\r\n```bash\r\nln -s /srv/www/your_project.com /var/www/your_project.com\r\n```\r\n\r\n### ä¸Šç·šç’°å¢ƒè¨­å®š\r\n\r\n1. å®‰è£ compsoer æ’é™¤ dev é …ç›®\r\n\r\n   ```bash\r\n   composer install --optimize-autoloader --no-dev\r\n   ```\r\n\r\n2. `.env`è¨­å®šè½‰ç‚ºç·šä¸Šä¸¦ä¸”é—œé–‰éŒ¯èª¤æç¤º\r\n\r\n   ```php\r\n   APP_NAME=å°ˆæ¡ˆåç¨±\r\n   APP_ENV=production\r\n   APP_KEY=\r\n   APP_DEBUG=false\r\n   APP_URL=https://æ­£å¼ç¶²å€\r\n   ```\r\n\r\n3. è¨­å®šå¿«å–\r\n\r\n   ```bash\r\n   php artisan config:cache\r\n\r\n   #ã€€ä¸‹æ¬¡æ›´æ–°ç¨‹å¼è¨˜å¾—æ›´æ–°config\r\n   php artisan config:clear\r\n   ```\r\n\r\n4. Composer ç·©å­˜\r\n\r\n   ```bash\r\n   composer dumpautoload -o\r\n   # æ¯æ¬¡æ›´æ–° composer install å¾Œï¼Œéƒ½è¦å†åŸ·è¡Œä¸€æ¬¡\r\n   ```\r\n\r\n5. å»ºç«‹ keygen\r\n\r\n   ```bash\r\n   php artisan key:generate\r\n   ```\r\n\r\n6. åŸ·è¡Œè³‡æ–™åº« migrate (é ˆæ³¨æ„è³‡æ–™åº«ç‹€æ…‹)\r\n\r\n   ```bash\r\n   # é·ç§»è³‡æ–™è¡¨\r\n   php artisan migrate\r\n\r\n   # å¡«å……è³‡æ–™\r\n   php artisan db:seed\r\n   ```\r\n\r\n7. éšœç¤™æ’é™¤\r\n\r\n   - æ¸…é™¤å¿«å–\r\n\r\n   ```bash\r\n   php artisan config:clear\r\n   ```\r\n\r\n   - migrate æŒ‡ä»¤\r\n\r\n   ```bash\r\n   # é‚„åŸ --step æ­¤åƒæ•¸ç‚ºå¾Œé€€å¤šå°‘ç‰ˆæœ¬\r\n   php artisan migrate:rollback\r\n   php artisan migrate:rollback --step=5\r\n\r\n   # é‡ç½®æ‰€æœ‰migration\r\n   php artisan migrate:refresh\r\n\r\n   # é‡ç½®æ‰€æœ‰migrationï¼Œä¸¦å¡«å……è³‡æ–™\r\n   php artisan migrate:refresh --seed\r\n   ```\r\n\r\n### è¨­å®šå°ˆæ¡ˆæ–‡ä»¶å¤¾çš„æ¬Šé™\r\n\r\n```bash\r\nsudo chgrp -R www-data /srv/www/your_project.com\r\nsudo chmod -R 775 /srv/www/your_project.com/storage\r\n```\r\n\r\n## 2. è¨­å®š Apache\r\n\r\n- è¨­å®š Apache server\r\n\r\n```bash\r\ncd /etc/apache2/sites-available\r\ncp 000-default.conf your_project.com.conf\r\n```\r\n\r\n- ç·¨è¼¯ conf æ–‡ä»¶\r\n  - ServerName : è¨­å®šä¼ºæœå™¨ Domain Name ï¼Œæ­¤åç¨±å¿…é ˆå·²ç¶“è¨»å†Š\r\n  - ServerAdmin : è¨­å®šè™›æ“¬ä¸»æ©Ÿçš„ç®¡ç†è€…ä¿¡ç®±ï¼Œä¸ä¸€å®šè¦å’Œæœ¬æ©Ÿçš„ç¶²ç«™ç®¡ç†è€…ç›¸åŒ\r\n  - ServerAlias : è¨­å®šä¼ºæœå™¨ç¶²åŸŸåˆ¥å\r\n  - DocumentRoot : æŒ‡å®šè™›æ“¬ä¸»æ©Ÿçš„ç¶²ç«™ä¸»ç›®éŒ„\r\n  - ErrorLog : è¨­å®š error_log æ‰€å­˜æ”¾çš„è·¯å¾‘\r\n  - CustomLog : è¨­å®š access_log æ‰€å­˜æ”¾çš„è·¯å¾‘\r\n\r\n```vim\r\n<VirtualHost *:80>\r\n    ServerName your_project.com\r\n\r\n    ServerAdmin webmaster@localhost\r\n    DocumentRoot /var/www/your_project.com/public\r\n\r\n    <Directory /var/www/your_project.com>\r\n        AllowOverride All\r\n    </Directory>\r\n\r\n    ErrorLog ${APACHE_LOG_DIR}/error.log\r\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n</VirtualHost>\r\n```\r\n\r\n- å•Ÿç”¨ Apache ç«™é»\r\n\r\n```bash\r\n# é—œé–‰é è¨­ç«™é»\r\nsudo a2dissite 000-default.conf\r\n\r\n# å•Ÿç”¨æ–°ç«™é»\r\nsudo a2ensite your_project.com.conf\r\n\r\n# é¦–æ¬¡è¨­å®šéœ€é–‹å•Ÿ\r\nsudo a2enmod rewrite\r\n\r\n# é‡å•ŸApache\r\nsudo service apache2 restart\r\n```\r\n \r\n## åƒè€ƒè³‡æ–™\r\n\r\n[Run Laravel on Google Compute Engine](https://medium.com/imarishwa-solutions/run-laravel-on-google-compute-engine-b0403a6a9240)\r\n\r\n[GCP/GCE/Ubuntu/Apache/Laravel5.6 è¸©é›·ç­†è¨˜](https://bugswarehouse.blogspot.com/2018/07/gcpgceubuntuapachelaravel56.html)\r\n\r\n## å»¶ä¼¸é–±è®€\r\n\r\n[è©³è§£ Ubuntu/CentOS ä¸‹ Apache å¤šç«™é»é…ç½®](https://codertw.com/%E4%BC%BA%E6%9C%8D%E5%99%A8/377669/)\r\n\r\n[Apache ä¹‹â€”â€”å¤šè™›æ“¬ä¸»æ©Ÿå¤šç«™é»é…ç½®çš„å…©ç¨®å¯¦ç¾æ–¹æ¡ˆ](https://www.796t.com/content/1546761795.html)\r\n\r\n[ubuntuè¨­å®šapacheéƒ¨ç½²å¤šå€‹ç«™é»](https://www.796t.com/content/1545633208.html)\r\n\r\n[SSLæ†‘è­‰è¨­å®š](https://ithelp.ithome.com.tw/articles/10081759)\r\n\r\n[è¼•é¬†éƒ¨ç½² Laravel æ‡‰ç”¨](https://learnku.com/blog/Wi1dcard/tags/easy-deployment-of-laravel-applications_50034)","date":"2023-01-13T02:42:51.309Z","matchingLines":["## è¨­ç½®å°ˆæ¡ˆ\r","## 2. è¨­å®š Apache\r","## åƒè€ƒè³‡æ–™\r","## å»¶ä¼¸é–±è®€\r"],"tocContent":""},{"name":"TCP é€£ç·šæºé€šæ–¹å¼.md","content":"# TCP é€£ç·šæºé€šæ–¹å¼\r\n\r\nTCP æœƒåœ¨å…©å€‹ç«¯é»é–“å»ºç«‹ä¸€å€‹é€£ç·šä¾†ç¢ºä¿é›™æ–¹çš„æºé€šé †æš¢ï¼Œå°±åƒæ˜¯ä¸€æ¢é›»è©±å°ˆç·šä¸€æ¨£ï¼Œåœ¨é€™å€‹é€£ç·šä¹‹ä¸­ï¼Œæœƒåœ¨ä¾†æºèˆ‡ç›®çš„å„æŒ‡å®šä¸€å€‹ port (é€£æ¥åŸ )ï¼Œä½œç‚ºç¢ºèªé€™å€‹é€£ç·šçš„ç·¨è™Ÿã€‚\r\nç”±æ–¼ TCP æ˜¯åŸºæ–¼ IP çš„ä¸Šé¢ä¸€å±¤ï¼ŒTCP çš„é€£ç·šéƒ½åœ¨åŒä¸€å€‹ IP address ä¸‹ï¼Œå¯ä»¥ç†è§£ç‚ºéƒ½èˆ‡åŒä¸€å°è¨­å‚™é€²è¡Œé€£ç·šã€‚ä½†å…©å€‹è¨­å‚™é–“çš„é€£ç·šå¯èƒ½ä¸åªä¸€å€‹ï¼Œå°±æœƒéœ€è¦ç·¨è™Ÿä¾†åˆ†é–‹ä¸åŒé€£ç·šã€‚ç”¨ port ä¾†å‘½åç·¨è™Ÿï¼Œå°±åƒæ˜¯åœ¨åŒä¸€å€‹åœ°å€(åŒä¸€å€‹ IP address)æœ‰ä¸åŒçš„æ¸¯å£ã€‚\r\n\r\nTCP é€šè¨Šéç¨‹å¯ä»¥åˆ†ç‚ºä¸‰å€‹éšæ®µã€‚ä¸”å¿…é ˆæ­£ç¢ºå»ºç«‹é€£æ¥åœ¨ä¸€å€‹å¾ˆå¤šæ­¥é©Ÿçš„äº¤æ¡è™•ç†(handshake process)ç„¶å¾Œæ‰é€²å…¥å»ºç«‹é€£æ¥(connection establishment)ï¼Œå†é€²å…¥è³‡æ–™å‚³è¼¸(data transfer)éšæ®µã€‚è³‡æ–™å‚³è¼¸å®Œæˆï¼Œæœ€å¾Œé€£æ¥çµ‚æ­¢(connection termination)å»ºç«‹çš„è™›æ“¬é€šé“é—œé–‰ä¸¦é‡‹æ”¾æ‰€æœ‰åˆ†é…çš„è³‡æºã€‚\r\n\r\nä¸€å€‹ TCP é€£æ¥æ˜¯ç”± OS ç®¡ç†ï¼ŒTCP é€£æ¥åŸºæœ¬ä¸Šç¶“æ­·åº•ä¸‹é€™äº›è®ŠåŒ–ï¼š\r\n\r\n1. listen: å¦‚æœæ˜¯æœå‹™ç¨‹å¼çš„è©±ï¼ŒæŒ‡çš„æ˜¯ç­‰å¾…é€£æ¥è«‹æ±‚å¾ä»»ä½•é ç«¯çš„å®¢æˆ¶ç«¯ã€‚\r\n2. syn-sent: ç­‰å¾…é ç«¯é»å°é»ç™¼å›ä¸€å€‹ TCP segment ä¸¦å¸¶æœ‰ SYN å’Œ ACK flagã€‚é€šå¸¸åšé€™ä»¶äº‹çš„ç‚º TCP å®¢æˆ¶ç«¯ã€‚\r\n3. syn-received: ç­‰å¾…é ç«¯é€šé“çš„å¦ä¸€ç«¯ç™¼å›ä¸€å€‹ç¢ºèªå¾Œï¼Œç™¼å›ç¢ºèªé€£æ¥åˆ°é ç«¯ç¯€é»ã€‚é€šåšé€™ä»¶äº‹çš„ç‚º TCP æœå‹™ç«¯ã€‚\r\n4. established: port æº–å‚™å¥½æ¥æ”¶/ç™¼é€æ•¸æ“šåˆ°é ç«¯ç¯€é»ã€‚\r\n5. fin-wait-1\r\n6. fin-wait-2\r\n7. close-watt\r\n8. closing\r\n9. last-ack\r\n10. time-wait: æŒ‡ç­‰å¾…è¶³å¾Œçš„æ™‚é–“ï¼Œä»¥ç¢ºä¿é€šéé ç«¯å°ç­‰æ©Ÿå™¨æ”¶åˆ°ç¢ºèªå…¶é€£æ¥çµ‚æ­¢è«‹æ±‚ã€‚æ ¹æ“š RFC 793 ä¸­çš„é€£æ¥ï¼Œæœ€å¤§ç­‰å¾…æ™‚é–“ç‚ºå››åˆ†é˜ã€‚\r\n11. closed\r\n","date":"2023-01-12T05:04:16.336Z","matchingLines":[],"tocContent":""},{"name":"RESTful API.md","content":"# RESTful API\r\n\r\n> RESTful API æ˜¯ä¸€ç¨®è¨­è¨ˆæ¨¡å¼\r\n>\r\n> å®šç¾©ä¸€çµ„\"ç‰©ä»¶\"(object)ï¼Œä»–å€‘æ˜¯å¯ä»¥è¢«æ“ä½œçš„ã€‚\r\n> ç‰©ä»¶é‹ç”¨ä¸€çµ„å›ºå®š\"å‹•ä½œ\"(action)ç°¡ç¨±(CRUD)\r\n>\r\n> - å‰µå»º(create)\r\n> - åˆªé™¤(delete)\r\n> - æ›´æ–°(update)\r\n> - è®€å–(read)\r\n>\r\n> ä¸»æµä»¥ JSON æ ¼å¼åšè³‡æ–™å‚³é\r\n> åŸºæœ¬ä¸ŠæœƒåŒ…å« URL\\Object\\Action\r\n\r\n## å¸¸ç”¨ HTTP å‹•è©\r\n\r\n- GET: è®€å–è³‡æº(ä¸æœƒè®Šå‹•æˆ–æ˜¯æ›´æ”¹åˆ°ä¼ºæœå™¨çš„è³‡è¨Šï¼Œä¸»è¦ç”¨ä¾†æŸ¥è³‡æ–™)\r\n- POST: æ–°å¢è³‡æ–™\r\n- DELETE: åˆªé™¤è³‡æ–™\r\n- PUT: æ›¿æ›è³‡æº\r\n- PATCH: æ›´æ–°è³‡æº\r\n\r\nå¦‚ä»¥ Post(æ–‡ç« )é€™å€‹ç‰©ä»¶èˆ‰ä¾‹\r\n\r\n| HTTP å‹•è© |      URL       |           åŠŸèƒ½           |                                       èªªæ˜                                       |\r\n| :-------: | :------------: | :----------------------: | :------------------------------------------------------------------------------: |\r\n|   POST    |  api/v1/posts  |       ç™¼è¡¨ä¸€ç¯‡æ–‡ç«        |        å¦‚æœæœ‰ç›¸åŒçš„è«‹æ±‚é€ç¬¬äºŒæ¬¡ï¼Œæœƒå›å‚³æ–°çš„ä¸€ç­†è³‡æ–™ï¼Œå…§å®¹ä¸€æ¨£åªæœ‰ ID ä¸åŒ        |\r\n|  DELETE   | api/v1/posts/1 |     åˆªé™¤ id=1 çš„æ–‡ç«      |                 å¦‚æœç™¼é€å…©æ¬¡è«‹æ±‚ï¼Œç¬¬äºŒæ¬¡å›å‚³æ‰¾ä¸åˆ°è³‡æºçš„éŒ¯èª¤è¨Šæ¯                 |\r\n|    PUT    | api/v1/posts/1 |    id=1 è³‡æ–™æ•´ç­†æ›¿æ›     |                  æ›¿æ›æ•´ç­†è³‡æ–™ï¼Œæœ‰é»åƒèˆŠè³‡æ–™çš„åˆªé™¤ï¼Œå¯«å…¥æ–°çš„è³‡æ–™                  |\r\n|   PATCH   | api/v1/posts/1 | æ›´æ–°æ–‡ä»¶ id=1 çš„éƒ¨åˆ†å…§å®¹ | åªæ›¿ä»£æ‰éƒ¨åˆ†å…§å®¹ï¼Œå…§å®¹æœƒä¾ç…§ç™¼é€è«‹æ±‚çš„è³‡æ–™ä½œä¿®æ”¹ã€‚å¦‚æœæ²’æœ‰å¡«å¯«çš„éƒ¨åˆ†ä¿ç•™åŸå§‹è³‡æ–™ |\r\n\r\n- å…¶ä»–ä¸ç¬¦åˆä»¥ä¸Šé¡åˆ¥çš„å‹•ä½œç”¨ POST\r\n\r\n## Laravel RESTful API\r\n\r\n### å»ºç«‹ controller\r\n\r\n```bash\r\nphp artisan make:controller Api/TestController --api\r\n```\r\n\r\n```php\r\nnamespace App\\Http\\Controllers\\Api;\r\n\r\nuse App\\Http\\Controllers\\Controller;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass TestController extends Controller\r\n{\r\n    public function index()\r\n    {\r\n        // åˆ—å‡ºæ‰€æœ‰\r\n    }\r\n\r\n    public function store(Request $request)\r\n    {\r\n        // å»ºç«‹è³‡æ–™\r\n    }\r\n\r\n    public function show($id)\r\n    {\r\n        // é¡¯ç¤ºæŒ‡å®š id çš„è³‡æ–™\r\n    }\r\n\r\n    public function update(Request $request, $id)\r\n    {\r\n        // æ›´æ–°æŒ‡å®š id çš„è³‡æ–™\r\n    }\r\n\r\n    public function destroy($id)\r\n    {\r\n        // åˆªé™¤æŒ‡å®š id çš„è³‡æ–™\r\n    }\r\n}\r\n```\r\n\r\n### åŠ å…¥ api\r\n\r\nroutes/api.php\r\n\r\n```php\r\nRoute::middleware('auth:api')->group(function () {\r\n    Route::apiResource('test', 'TestController');\r\n});\r\n```\r\n\r\n### URL\r\n\r\n| action |                 url                  | Controller function |\r\n| :----: | :----------------------------------: | :-----------------: |\r\n|  get   |     `{{ server-url }}/api/test`      |        index        |\r\n|  post  |     `{{ server-url }}/api/test`      |        store        |\r\n|  get   | `{{ server-url }}/api/test/{{ id }}` |        show         |\r\n| patch  | `{{ server-url }}/api/test/{{ id }}` |       update        |\r\n| delete | `{{ server-url }}/api/test/{{ id }}` |       destroy       |\r\n","date":"2022-12-27T06:08:35.667Z","matchingLines":["## å¸¸ç”¨ HTTP å‹•è©\r","## Laravel RESTful API\r"],"tocContent":""},{"name":"Laravel Middleware.md","content":"# [Laravel Middleware](https://learnku.com/docs/laravel/8.x/middleware/9366)\r\n\r\n## å®šç¾© middleware\r\n\r\n```bash\r\nphp artisan make:middleware CheckAge\r\n```\r\n\r\nåœ¨ `app/Http/Middleware` ç›®éŒ„ä¹‹ä¸‹ç”¢ç”Ÿä¸€å€‹æ–°çš„ CheckAge classï¼Œä¸¦åœ¨å…¶ä¸­å»ºç«‹è¦å‰‡ï¼šåƒ…å…è¨± `age` åƒæ•¸å¤§æ–¼ 200 çš„è«‹æ±‚è·¯å¾‘é€²è¡Œè¨ªå•ï¼Œå¦å‰‡å°‡é‡æ–°å°å‘è‡³ `home` é é¢\r\n\r\n```php\r\nnamespace App\\Http\\Middleware;\r\n\r\nuse Closure;\r\n\r\nclass CheckAge\r\n{\r\n    /**\r\n     * å¤„ç†ä¼ å…¥çš„è¯·æ±‚\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @param  \\Closure  $next\r\n     * @return mixed\r\n     */\r\n    public function handle($request, Closure $next)\r\n    {\r\n        if ($request->age <= 200) {\r\n            return redirect('home');\r\n        }\r\n\r\n        return $next($request);\r\n    }\r\n}\r\n```\r\n\r\nå¯ä»¥è¨­å®š middleware çš„å‹•ä½œæ˜¯åœ¨ request ä¹‹å‰æˆ–æ˜¯ä¹‹å¾Œ\r\n\r\n```php\r\n// åœ¨request ä¹‹å‰\r\nclass BeforeMiddleware\r\n{\r\n    public function handle($request, Closure $next)\r\n    {\r\n        // Perform action\r\n\r\n        return $next($request);\r\n    }\r\n}\r\n\r\n// åœ¨request ä¹‹å¾Œ\r\nclass AfterMiddleware\r\n{\r\n    public function handle($request, Closure $next)\r\n    {\r\n        $response = $next($request);\r\n\r\n        // Perform action\r\n\r\n        return $response;\r\n    }\r\n}\r\n```\r\n\r\n## è¨»å†Š Middleware\r\n","date":"2022-12-27T06:02:37.129Z","matchingLines":["## å®šç¾© middleware\r","## è¨»å†Š Middleware\r"],"tocContent":""},{"name":"Laravel æœå‹™å®¹å™¨.md","content":"# Laravel æœå‹™å®¹å™¨\r\n\r\n> **åƒè€ƒè³‡æ–™**ï¼š\r\n> [Laravel å­¸ç¿’ç­†è¨˜â€”â€” ç¥å¥‡çš„æœå‹™å®¹å™¨\r\n> ](https://learnku.com/articles/789/laravel-learning-notes-the-magic-of-the-service-container)\r\n>\r\n> å®¹å™¨ï¼Œå­—é¢ä¸Šç†è§£å°±æ˜¯è£æ±è¥¿çš„æ±è¥¿ã€‚\r\n> å¸¸è¦‹çš„è®Šé‡ã€ç‰©ä»¶å±¬æ€§ç­‰éƒ½å¯ä»¥ç®—æ˜¯å®¹å™¨ã€‚\r\n> ä¸€å€‹å®¹å™¨èƒ½å¤ è£ä»€éº¼ï¼Œå…¨éƒ¨å–æ±ºæ–¼ä½ å°è©²å®¹å™¨çš„å®šç¾©ã€‚\r\n> ç•¶ç„¶ï¼Œæœ‰é€™æ¨£ä¸€ç¨®å®¹å™¨ï¼Œå®ƒå­˜æ”¾çš„ä¸æ˜¯æ–‡æœ¬ã€æ•¸å€¼ï¼Œè€Œæ˜¯ç‰©ä»¶ã€ç‰©ä»¶çš„æè¿°(é¡åˆ¥ã€ä»‹é¢)æˆ–è€…æ˜¯æä¾›ç‰©ä»¶çš„å›èª¿ï¼Œ\r\n> é€šéé€™ç¨®å®¹å™¨ï¼Œæˆ‘å€‘å¾—ä»¥å¯¦ç¾è¨±å¤šé«˜ç´šçš„åŠŸèƒ½ï¼Œå…¶ä¸­æœ€å¸¸æåˆ°çš„ï¼Œå°±æ˜¯\"è§£è€¦\"ã€\"ä¾è³´æ³¨å…¥(DI)\"ã€‚æœ¬æ–‡å°±å¾é€™è£¡é–‹å§‹ã€‚\r\n\r\n## IoC å®¹å™¨ laravel çš„æ ¸å¿ƒ\r\n\r\nLaravel çš„æ ¸å¿ƒå°±æ˜¯ä¸€å€‹ IoC å®¹å™¨ï¼Œæ ¹æ“šå®˜æ–¹æ–‡ä»¶ï¼Œç¨±å…¶ç‚º\"æœå‹™å®¹å™¨\"ï¼Œé¡§åæ€ç¾©ï¼Œè©²å®¹å™¨æä¾›äº†æ•´å€‹æ¡†æ¶ä¸­éœ€è¦çš„ä¸€ç³»åˆ—æœå‹™ã€‚ä½œç‚ºåˆå­¸è€…ï¼Œå¾ˆå¤šäººæœƒåœ¨é€™ä¸€å€‹æ¦‚å¿µä¸ŠçŠ¯é›£ï¼Œå› æ­¤ï¼Œæˆ‘æ‰“ç®—å¾ä¸€äº›åŸºç¤çš„å…§å®¹é–‹å§‹è¬›è§£ï¼Œé€šéç†è§£é¢å‘ç‰©ä»¶é–‹ç™¼ä¸­ä¾è³´çš„ç”¢ç”Ÿå’Œè§£æ±ºæ–¹æ³•ï¼Œä¾†é€æ¼¸æ­é–‹\"ä¾è³´æ³¨å…¥\"çš„é¢ç´—ï¼Œé€æ¼¸ç†è§£é€™ä¸€ç¥å¥‡çš„è¨­è¨ˆç†å¿µã€‚\r\n\r\n## IoC å®¹å™¨èª•ç”Ÿçš„æ•…äº‹\r\n\r\nè¶…äººå’Œè¶…èƒ½åŠ›ï¼Œä¾è³´çš„ç”¢ç”Ÿï¼\r\nç‰©ä»¶å°å‘ç¨‹å¼ç¢¼ï¼Œæœ‰ä»¥ä¸‹å¹¾æ¨£æ±è¥¿ç„¡æ™‚ä¸åˆ»çš„æ¥è§¸ï¼šä»‹é¢ã€é¡åˆ¥é‚„æœ‰ç‰©ä»¶ã€‚é€™å…¶ä¸­ï¼Œä»‹é¢æ˜¯é¡åˆ¥çš„åŸå‹ï¼Œä¸€å€‹é¡åˆ¥å¿…é ˆè¦éµå®ˆå…¶å¯¦ç¾çš„ä»‹é¢ï¼›ç‰©ä»¶å‰‡æ˜¯ä¸€å€‹é¡åˆ¥å¯¦ä¾‹åŒ–å¾Œçš„ç”¢ç‰©ï¼Œæˆ‘å€‘ç¨±å…¶ç‚ºä¸€å€‹å¯¦ä¾‹ã€‚ç•¶ç„¶é€™æ¨£èªªè‚¯å®šä¸åˆ©æ–¼ç†è§£ï¼Œæˆ‘å€‘å°±å¯¦éš›çš„å¯«é»ä¸­çœ‹ä¸ä¸­ç”¨çš„ä»£ç¢¼è¼”åŠ©å­¸ç¿’ã€‚\r\n\r\n> æ€ªç‰©æ©«è¡Œçš„ä¸–ç•Œï¼Œç¸½æ­¸éœ€è¦é»è¶…ç´šäººç‰©ä¾†æ“ºå¹³ã€‚\r\n\r\næˆ‘å€‘æŠŠä¸€å€‹\"è¶…äºº\"ä½œç‚ºä¸€å€‹é¡åˆ¥ï¼Œ\r\n\r\n```php\r\nclass Superman {}\r\n```\r\n\r\næˆ‘å€‘å¯ä»¥æƒ³åƒï¼Œä¸€å€‹è¶…äººèª•ç”Ÿçš„æ™‚å€™è‚¯å®šæ“æœ‰è‡³å°‘ä¸€å€‹è¶…èƒ½åŠ›ï¼Œé€™å€‹è¶…èƒ½åŠ›ä¹Ÿå¯ä»¥æŠ½è±¡ç‚ºä¸€å€‹ç‰©ä»¶ï¼Œç‚ºé€™å€‹ç‰©ä»¶å®šç¾©ä¸€å€‹æè¿°ä»–çš„é¡åˆ¥å§ã€‚ä¸€å€‹è¶…èƒ½åŠ›è‚¯å®šæœ‰å¤šç¨®å±¬æ€§ã€(æ“ä½œ)æ–¹æ³•ï¼Œé€™å€‹ç›¡æƒ…çš„æƒ³åƒï¼Œä½†æ˜¯ç›®å‰æˆ‘å€‘å…ˆå¤§è‡´å®šç¾©ä¸€å€‹åªæœ‰å±¬æ€§çš„\"è¶…èƒ½åŠ›\"ï¼Œè‡³æ–¼èƒ½å¹¹å•¥ï¼Œæˆ‘å€‘ä»¥å¾Œå†è±å¯Œï¼š\r\n\r\n```php\r\nclass Power\r\n{\r\n    /**\r\n    * èƒ½åŠ›å€¼\r\n    */\r\n    protected $ability;\r\n\r\n    /**\r\n     * èƒ½åŠ›ç¯„åœæˆ–è·é›¢\r\n     */\r\n    protected $range;\r\n\r\n    public function __construct($ability, $range) {\r\n        $this->ability = $ability;\r\n        $this->range = $range;\r\n    }\r\n}\r\n```\r\n\r\né€™æ™‚å€™æˆ‘å€‘å›éé ­ï¼Œä¿®æ”¹ä¸€ä¸‹ä¹‹å‰çš„\"è¶…äºº\"é¡åˆ¥ï¼Œè®“ä¸€å€‹\"è¶…äºº\"å‰µå»ºçš„æ™‚å€™è¢«è³¦äºˆä¸€å€‹è¶…èƒ½åŠ›ï¼š\r\n\r\n```php\r\nclass Superman\r\n{\r\n    protected $power;\r\n\r\n    public function __construct()\r\n    {\r\n        $this->power = new Power(999, 100);\r\n    }\r\n\r\n}\r\n```\r\n\r\né€™æ¨£çš„è©±ï¼Œç•¶æˆ‘å€‘å‰µå»ºä¸€å€‹\"è¶…äºº\"å¯¦ä¾‹çš„æ™‚å€™ï¼ŒåŒæ™‚ä¹Ÿå‰µå»ºäº†ä¸€å€‹\"è¶…èƒ½åŠ›\"çš„å¯¦ä¾‹ï¼Œä½†æ˜¯ï¼Œæˆ‘å€‘çœ‹åˆ°äº†ä¸€é»ï¼Œ\"è¶…äºº\"å’Œ\"è¶…èƒ½åŠ›\"ä¹‹é–“ä¸å¯é¿å…çš„ç”¢ç”Ÿäº†ä¸€å€‹ä¾è³´ã€‚\r\n\r\n> æ‰€è¬‚\"ä¾è³´\"ï¼Œå°±æ˜¯\"æˆ‘è‹¥ä¾è³´ä½ ï¼Œå°‘äº†ä½ å°±æ²’æœ‰æˆ‘\"ã€‚\r\n\r\nåœ¨ä¸€å€‹è²«å¾¹ç‰©ä»¶å°å‘ç¨‹å¼ç¢¼çš„é …ç›®ä¸­ï¼Œé€™æ¨£çš„ä¾è³´éš¨è™•å¯è¦‹ã€‚å°‘é‡çš„ä¾è³´ä¸¦ä¸æœƒæœ‰å¤ªéç›´è§€çš„å½±éŸ¿ï¼Œæˆ‘å€‘éš¨è‘—é€™å€‹ä¾‹å­é€æ¼¸é‹ªé–‹ï¼Œè®“å¤§å®¶æ…¢æ…¢æ„è­˜åˆ°ï¼Œç•¶ä¾è³´é”åˆ°ä¸€å€‹é‡ç´šæ™‚ï¼Œæ˜¯æ€æ¨£ä¸€ç•ªå™©å¤¢èˆ¬çš„é«”é©—ã€‚ç•¶ç„¶ï¼Œæˆ‘ä¹Ÿæœƒè‡ªç„¶è€Œç„¶çš„è¬›è¿°å¦‚ä½•è§£æ±ºå•é¡Œã€‚\r\n\r\n### ä¸€å †äº‚éº»â€”â€”å¯æ€•çš„ä¾è³´\r\n\r\nä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œè¶…èƒ½åŠ›é¡åˆ¥å¯¦ä¾‹åŒ–å¾Œæ˜¯ä¸€å€‹å…·é«”çš„è¶…èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘å€‘çŸ¥é“ï¼Œè¶…äººçš„è¶…èƒ½åŠ›æ˜¯å¤šå…ƒåŒ–çš„ï¼Œæ¯ç¨®è¶…èƒ½åŠ›çš„æ–¹æ³•ã€å±¬æ€§éƒ½æœ‰ä¸å°çš„å·®ç•°ï¼Œæ²’æ³•é€šéä¸€ç¨®é¡åˆ¥æè¿°å®Œå…¨ã€‚æˆ‘å€‘ç¾åœ¨é€²è¡Œä¿®æ”¹ï¼Œæˆ‘å€‘å‡è¨­è¶…äººå¯ä»¥æœ‰ä»¥ä¸‹å¤šç¨®è¶…èƒ½åŠ›ï¼š\r\n\r\n- é£›è¡Œï¼Œå±¬æ€§æœ‰ï¼šé£›è¡Œé€Ÿåº¦ã€æŒçºŒé£›è¡Œæ™‚é–“\r\n- è »åŠ›ï¼Œå±¬æ€§æœ‰ï¼šåŠ›é‡å€¼\r\n- èƒ½é‡å½ˆï¼Œå±¬æ€§æœ‰ï¼šå‚·å®³å€¼ã€å°„æ“Šè·é›¢ã€åŒæ™‚å°„æ“Šå€‹æ•¸\r\n\r\næˆ‘å€‘å»ºç«‹ä»¥ä¸‹é¡åˆ¥ï¼š\r\n\r\n```php\r\nclass Flight\r\n{\r\n    protected $speed;\r\n    protected $hold_time;\r\n    public function __construct($speed, $hold_time) {}\r\n}\r\n\r\nclass Force\r\n{\r\n    protected $force;\r\n    public function __construct($force) {}\r\n}\r\n\r\nclass Shot\r\n{\r\n    protected $atk;\r\n    protected $range;\r\n    protected $limit;\r\n    public function __construct($atk, $range, $limit) {}\r\n}\r\n\r\n```\r\n\r\n**é€™é‚Šæ²’æœ‰è©³ç´°å¯«å‡º `__construct()` é€™å€‹æ§‹é€ å‡½æ•¸çš„å…¨éƒ¨ï¼Œåªå¯«äº†éœ€è¦å‚³éçš„åƒæ•¸**\r\n\r\nå¥½äº†ï¼Œé€™ä¸‹æˆ‘å€‘çš„è¶…äººæœ‰é»\"å¿™\"äº†ã€‚åœ¨è¶…äººåˆå§‹åŒ–çš„æ™‚å€™ï¼Œæˆ‘å€‘æœƒæ ¹æ“šéœ€è¦ä¾†å¯¦ä¾‹åŒ–å…¶æ“æœ‰çš„è¶…èƒ½åŠ›å—ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š\r\n\r\n```php\r\nclass Superman\r\n{\r\n    protected $power;\r\n\r\n    public function __construct()\r\n    {\r\n        $this->power = new Fight(9, 100);\r\n        // $this->power = new Force(45);\r\n        // $this->power = new Shot(99, 50, 2);\r\n        /*\r\n        $this->power = array(\r\n            new Force(45),\r\n            new Shot(99, 50, 2)\r\n        );\r\n        */\r\n    }\r\n\r\n}\r\n```\r\n\r\næˆ‘å€‘éœ€è¦è‡ªå·±æ‰‹å‹•çš„åœ¨æ§‹é€ å‡½æ•¸å…§(æˆ–è€…å…¶ä»–æ–¹æ³•è£¡)å¯¦ä¾‹åŒ–ä¸€ç³»åˆ—éœ€è¦çš„é¡åˆ¥ï¼Œé€™æ¨£ä¸¦ä¸å¥½ã€‚å¯ä»¥æƒ³åƒï¼Œå‡å¦‚éœ€æ±‚è®Šæ›´(ä¸åŒçš„æ€ªç‰©æ©«è¡Œåœ°çƒ)ï¼Œéœ€è¦æ›´å¤šçš„æœ‰é‡å°æ€§çš„ æ–°çš„ è¶…èƒ½åŠ›ï¼Œæˆ–è€…éœ€è¦ è®Šæ›´ è¶…èƒ½åŠ›çš„æ–¹æ³•ï¼Œæˆ‘å€‘å¿…é ˆ é‡æ–°æ”¹é€  è¶…äººã€‚æ›å¥è©±èªªå°±æ˜¯ï¼Œæ”¹è®Šè¶…èƒ½åŠ›çš„åŒæ™‚ï¼Œæˆ‘é‚„å¾—é‡æ–°è£½é€ å€‹è¶…äººã€‚æ•ˆç‡å¤ªä½äº†ï¼æ–°è¶…äººé‚„æ²’å‰µé€ å®Œæˆä¸–ç•Œæ—©å·²è¢«æ¯€æ»…ã€‚\r\n\r\n> é€™æ™‚ï¼Œéˆæ©Ÿä¸€å‹•çš„äººæƒ³åˆ°ï¼šç‚ºä»€éº¼ä¸å¯ä»¥é€™æ¨£å‘¢ï¼Ÿè¶…äººçš„èƒ½åŠ›å¯ä»¥è¢«éš¨æ™‚æ›´æ›ï¼Œåªéœ€è¦æ·»åŠ æˆ–è€…æ›´æ–°ä¸€å€‹èŠ¯ç‰‡æˆ–è€…å…¶ä»–è£ç½®å•¥çš„(æƒ³åˆ°é‹¼éµäººæ²’)\r\n> é€™æ¨£çš„è©±å°±ä¸è¦æ•´å€‹é‡æ–°ä¾†éäº†ã€‚\r\n\r\nå°ï¼Œå°±æ˜¯é€™æ¨£çš„ã€‚\r\n\r\næˆ‘å€‘ä¸æ‡‰è©²æ‰‹å‹•åœ¨\"è¶…äºº\"é¡åˆ¥ä¸­å›ºåŒ–äº†ä»–çš„\"è¶…èƒ½åŠ›\"åˆå§‹åŒ–çš„è¡Œç‚ºï¼Œè€Œè½‰ç”±å¤–éƒ¨è² è²¬ï¼Œç”±å¤–éƒ¨å‰µé€ è¶…èƒ½åŠ›æ¨¡çµ„ã€è£ç½®æˆ–è€…èŠ¯ç‰‡ç­‰(æˆ‘å€‘å¾Œé¢çµ±ä¸€ç¨±ç‚º\"æ¨¡çµ„\")ï¼Œæ¤å…¥è¶…äººé«”å…§çš„æŸä¸€å€‹ä»‹é¢ï¼Œé€™å€‹ä»‹é¢æ˜¯ä¸€å€‹æ—¢å®šçš„ï¼Œåªè¦é€™å€‹\"æ¨¡çµ„\"æ»¿è¶³é€™å€‹ä»‹é¢çš„è£ç½®éƒ½å¯ä»¥è¢«è¶…äººæ‰€åˆ©ç”¨ï¼Œå¯ä»¥æå‡ã€å¢åŠ è¶…äººçš„æŸä¸€ç¨®èƒ½åŠ›ã€‚é€™ç¨®ç”±å¤–éƒ¨è² è²¬å…¶ä¾è³´éœ€æ±‚çš„è¡Œç‚ºï¼Œæˆ‘å€‘å¯ä»¥ç¨±å…¶ç‚º`æ§åˆ¶åè½‰(IoC)`ã€‚\r\n\r\n### å·¥å» æ¨¡å¼ï¼Œä¾è³´è½‰ç§»\r\n\r\nç•¶ç„¶ï¼Œå¯¦ç¾æ§åˆ¶åè½‰çš„æ–¹æ³•æœ‰å¹¾ç¨®ã€‚åœ¨é€™ä¹‹å‰ï¼Œä¸å¦‚æˆ‘å€‘å…ˆäº†è§£ä¸€äº›å¥½ç©çš„æ±è¥¿ã€‚\r\n\r\n> æˆ‘å€‘å¯ä»¥æƒ³åˆ°ï¼Œçµ„ä»¶ã€å·¥å…·(æˆ–è€…è¶…äººçš„æ¨¡çµ„)ï¼Œæ˜¯ä¸€ç¨®å¯è¢«ç”Ÿç”¢çš„ç©æ„å…’ï¼Œç”Ÿç”¢çš„åœ°æ–¹ç•¶ç„¶æ˜¯\"å·¥å» (Factory)\"ï¼Œæ–¼æ˜¯æœ‰äººå°±æå‡ºäº†é€™æ¨£ä¸€ç¨®æ¨¡å¼ï¼š`å·¥å» æ¨¡å¼`ã€‚\r\n\r\nå·¥å» æ¨¡å¼ï¼Œé¡§åæ€ç¾©ï¼Œå°±æ˜¯ä¸€å€‹é¡åˆ¥æ‰€ä»¥ä¾è³´çš„å¤–éƒ¨äº‹ç‰©çš„å¯¦ä¾‹ï¼Œéƒ½å¯ä»¥è¢«ä¸€å€‹æˆ–å¤šå€‹\"å·¥å» \"å‰µå»ºçš„é€™æ¨£ä¸€ç¨®é–‹ç™¼æ¨¡å¼ï¼Œå°±æ˜¯å·¥å» æ¨¡å¼ã€‚\r\n\r\næˆ‘å€‘ç‚ºäº†çµ¦è¶…äººè£½é€ è¶…èƒ½åŠ›æ¨¡çµ„ï¼Œæˆ‘å€‘å‰µå»ºäº†ä¸€å€‹å·¥å» ï¼Œå®ƒå¯ä»¥è£½é€ å„ç¨®å„æ¨£çš„æ¨¡çµ„ï¼Œä¸”åƒ…éœ€è¦é€šéä¸€å€‹æ–¹æ³•ï¼š\r\n\r\n```php\r\nclass SuperModuleFactory\r\n{\r\n    public function makeModule($moduleName, $options) {\r\n        switch ($moduleName) {\r\n            case 'Fight':\r\n                return new Fight($options[0], $options[1]);\r\n            case 'Force':\r\n                return new Force($options[0]);\r\n            case 'Shot':\r\n                return new Shot($options[0], $options[1], $options[2]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\né€™æ™‚å€™ï¼Œè¶…äººå‰µå»ºä¹‹åˆå°±å¯ä»¥ä½¿ç”¨é€™å€‹å·¥å» ï¼\r\n\r\n```php\r\nclass Superman\r\n{\r\nprotected $power;\r\n\r\n    public function __construct()\r\n    {\r\n        // åˆå§‹åŒ–å·¥å» \r\n        $factory = new SuperModuleFactory;\r\n\r\n        // é€šéå·¥å» æä¾›çš„æ–¹æ³•åˆ¶é€ éœ€è¦çš„æ¨¡çµ„\r\n        $this->power = $factory->makeModule('Fight', [9, 100]);\r\n        // $this->power = $factory->makeModule('Force', [45]);\r\n        // $this->power = $factory->makeModule('Shot', [99, 50, 2]);\r\n        /*\r\n        $this->power = array(\r\n            $factory->makeModule('Force', [45]),\r\n            $factory->makeModule('Shot', [99, 50, 2])\r\n        );\r\n        */\r\n    }\r\n\r\n}\r\n```\r\n\r\nå¯ä»¥çœ‹å¾—å‡ºï¼Œæˆ‘å€‘ä¸å†éœ€è¦åœ¨è¶…äººåˆå§‹åŒ–ä¹‹åˆï¼Œå»åˆå§‹åŒ–è¨±å¤šç¬¬ä¸‰æ–¹é¡åˆ¥ï¼Œåªéœ€åˆå§‹åŒ–ä¸€å€‹å·¥å» é¡åˆ¥ï¼Œå³å¯æ»¿è¶³éœ€æ±‚ã€‚ä½†é€™æ¨£ä¼¼ä¹å’Œä»¥å‰å€åˆ¥ä¸å¤§ï¼Œåªæ˜¯æ²’æœ‰é‚£éº¼å¤š new é—œéµå­—ã€‚å…¶å¯¦æˆ‘å€‘ç¨å¾®æ”¹é€ ä¸€ä¸‹é€™å€‹é¡åˆ¥ï¼Œä½ å°±æ˜ç™½ï¼Œå·¥å» é¡åˆ¥çš„çœŸæ­£æ„ç¾©å’Œåƒ¹å€¼äº†ã€‚\r\n\r\n```php\r\nclass Superman\r\n{\r\n    protected $power;\r\n\r\n    public function __construct(array $modules)\r\n    {\r\n        // åˆå§‹åŒ–å·¥å» \r\n        $factory = new SuperModuleFactory;\r\n\r\n        // é€šéå·¥å» æä¾›çš„æ–¹æ³•åˆ¶é€ éœ€è¦çš„æ¨¡çµ„\r\n        foreach ($modules as $moduleName => $moduleOptions) {\r\n            $this->power[] = $factory->makeModule($moduleName, $moduleOptions);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n// å»ºç«‹è¶…äºº\r\n$superman = new Superman([\r\n    'Fight' => [9, 100],\r\n    'Shot' => [99, 50, 2]\r\n]);\r\n```\r\n\r\nç¾åœ¨ä¿®æ”¹çš„çµæœä»¤äººæ»¿æ„ã€‚ç¾åœ¨ï¼Œ\"è¶…äºº\"çš„å‰µå»ºä¸å†ä¾è³´ä»»ä½•ä¸€å€‹\"è¶…èƒ½åŠ›\"çš„é¡åˆ¥ï¼Œæˆ‘å€‘å¦‚è‹¥ä¿®æ”¹äº†æˆ–è€…å¢åŠ äº†æ–°çš„è¶…èƒ½åŠ›ï¼Œåªéœ€è¦é‡å°ä¿®æ”¹ `SuperModuleFactory` å³å¯ã€‚æ“´å……è¶…èƒ½åŠ›çš„åŒæ™‚ä¸å†éœ€è¦é‡æ–°ç·¨è¼¯è¶…äººçš„é¡åˆ¥æ–‡ä»¶ï¼Œä½¿å¾—æˆ‘å€‘è®Šå¾—å¾ˆè¼•é¬†ã€‚ä½†æ˜¯ï¼Œé€™æ‰å‰›å‰›é–‹å§‹ã€‚\r\n\r\n### å†é€²ä¸€æ­¥ï¼IoC å®¹å™¨çš„é‡è¦çµ„æˆâ€”â€” ä¾è³´æ³¨å…¥\r\n\r\nç”±\"è¶…äºº\"å°\"è¶…èƒ½åŠ›\"çš„ä¾è³´è®Šæˆ\"è¶…äºº\"å°\"è¶…èƒ½åŠ›æ¨¡çµ„å·¥å» \"çš„ä¾è³´å¾Œï¼Œå°ä»˜å°æ€ªç¸å€‘è®Šå¾—æ›´åŠ å¾—å¿ƒæ‡‰æ‰‹ã€‚ä½†é€™ä¹Ÿæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œä¾è³´ä¸¦æœªè§£é™¤ï¼Œåªæ˜¯ç”±åŸä¾†å°å¤šå€‹å¤–éƒ¨çš„ä¾è³´è®Šæˆäº†å°ä¸€å€‹\"å·¥å» \"çš„ä¾è³´ã€‚å‡å¦‚å·¥å» å‡ºäº†é»éº»ç…©ï¼Œå•é¡Œè®Šå¾—å°±å¾ˆæ£˜æ‰‹ã€‚\r\n\r\n> å…¶å¯¦å¤§å¤šæ•¸æƒ…æ³ä¸‹ï¼Œå·¥å» æ¨¡å¼å·²ç¶“è¶³å¤ äº†ã€‚\r\n> å·¥å» æ¨¡å¼çš„ç¼ºé»å°±æ˜¯ï¼šä»‹é¢æœªçŸ¥(å³æ²’æœ‰ä¸€å€‹å¾ˆå¥½çš„å¥‘ç´„æ¨¡å‹ï¼Œé—œæ–¼é€™å€‹æˆ‘é¦¬ä¸Šæœƒæœ‰è§£é‡‹)ã€ç”¢ç”Ÿç‰©ä»¶é¡åˆ¥å‹å–®ä¸€ã€‚\r\n> ç¸½ä¹‹å°±æ˜¯ï¼Œé‚„æ˜¯ä¸å¤ éˆæ´»ã€‚\r\n> é›–ç„¶å¦‚æ­¤ï¼Œå·¥å» æ¨¡å¼ä¾èˆŠååˆ†å„ªç§€ï¼Œä¸¦ä¸”é©ç”¨æ–¼çµ•å¤§å¤šæ•¸æƒ…æ³ã€‚\r\n> ä¸éæˆ‘å€‘ç‚ºäº†è¬›è§£å¾Œé¢çš„ä¾è³´æ³¨å…¥ï¼Œé€™è£¡å°±å…ˆèª‡å¤§ä¸€ä¸‹å·¥å» æ¨¡å¼çš„ç¼ºé™·å’¯ã€‚\r\n\r\næˆ‘å€‘çŸ¥é“ï¼Œè¶…äººä¾è³´çš„æ¨¡çµ„ï¼Œæˆ‘å€‘è¦æ±‚æœ‰çµ±ä¸€çš„ä»‹é¢ï¼Œé€™æ¨£æ‰èƒ½å’Œè¶…äººèº«ä¸Šçš„æ³¨å…¥ä»‹é¢å°æ¥ï¼Œæœ€çµ‚èµ·åˆ°æå‡è¶…èƒ½åŠ›çš„æ•ˆæœã€‚\r\n\r\näº‹å¯¦ä¸Šï¼Œæˆ‘ä¹‹å‰èªªè¬Šäº†ï¼Œä¸åƒ…åƒ…åªæœ‰ä¸€å †å°æ€ªç¸ï¼Œé‚„æœ‰æ›´å¤šçš„å¤§æ€ªç¸ã€‚å˜¿å˜¿ã€‚é¡ï¼Œé€™æ™‚å€™ä¼¼ä¹å·¥å» çš„ç”Ÿç”¢èƒ½åŠ›é¡¯å¾—æœ‰äº›ä¸è¶³â€”â€” ç”±æ–¼å·¥å» æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„æ¨¡çµ„éƒ½å·²ç¶“åœ¨å·¥å» é¡åˆ¥ä¸­å®‰æ’å¥½äº†ï¼Œå¦‚æœæœ‰æ–°çš„ã€é«˜ç´šçš„æ¨¡çµ„åŠ å…¥ï¼Œæˆ‘å€‘å¿…é ˆä¿®æ”¹å·¥å» é¡åˆ¥(å¥½æ¯”å¢åŠ æ–°çš„ç”Ÿç”¢ç·š)ï¼š\r\n\r\n```php\r\nclass SuperModuleFactory\r\n{\r\n    public function makeModule($moduleName, $options){\r\n        switch ($moduleName) {\r\n            case 'Fight':\r\n                return new Fight($options[0], $options[1]);\r\n            case 'Force':\r\n                return new Force($options[0]);\r\n            case 'Shot':\r\n                return new Shot($options[0], $options[1], $options[2]);\r\n            // case 'more': .......\r\n            // case 'and more': .......\r\n            // case 'and more': .......\r\n            // case 'oh no! its too many!': .......\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nå™©å¤¢èˆ¬çš„æ„Ÿå—ï¼\r\n\r\n> å…¶å¯¦éˆæ„Ÿå°±å·®ä¸€æ­¥ï¼ä½ å¯èƒ½æœƒæƒ³åˆ°æ›´ç‚ºéˆæ´»çš„è¾¦æ³•ï¼å°ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æˆ‘å€‘ä»Šå¤©çš„ä¸»è¦é…è§’â€”â€” DI (ä¾è³´æ³¨å…¥)\r\n\r\nç”±æ–¼å°è¶…èƒ½åŠ›æ¨¡çµ„çš„éœ€æ±‚ä¸æ–·å¢å¤§ï¼Œæˆ‘å€‘éœ€è¦é›†åˆæ•´å€‹ä¸–ç•Œçš„é«˜æ™ºå•†äººæ‰ï¼Œä¸€èµ·è§£æ±ºå•é¡Œï¼Œä¸æ‡‰è©²åƒ…åƒ…åªæœ‰å¹¾å€‹å·¥å» å£Ÿæ–·è² è²¬ã€‚ä¸éé«˜æ™ºå•†äººæ‰å€‘éƒ½éå¸¸è‡ªè² ï¼Œèªç‚ºè‡ªå·±çš„æƒ³æ³•æ˜¯å°çš„ï¼Œå‰µé€ å‡ºçš„è¶…èƒ½åŠ›æ¨¡çµ„æ²’æœ‰çµ±ä¸€çš„ä»‹é¢ï¼Œè‡ªç„¶è€Œç„¶ç„¡æ³•è¢«æ­£å¸¸ä½¿ç”¨ã€‚é€™æ™‚æˆ‘å€‘éœ€è¦æå‡ºä¸€ç¨®å¥‘ç´„ï¼Œé€™æ¨£ç„¡è«–æ˜¯èª°å‰µé€ å‡ºçš„æ¨¡çµ„ï¼Œéƒ½ç¬¦åˆé€™æ¨£çš„ä»‹é¢ï¼Œè‡ªç„¶å°±å¯è¢«æ­£å¸¸ä½¿ç”¨ã€‚\r\n\r\n```php\r\ninterface SuperModuleInterface\r\n{\r\n    /*\r\n     * è¶…èƒ½åŠ›å•Ÿå‹•æ–¹æ³•\r\n     *\r\n     * ä»»ä½•ä¸€å€‹è¶…èƒ½åŠ›éƒ½å¾—æœ‰è©²æ–¹æ³•ï¼Œä¸¦æ“æœ‰ä¸€å€‹åƒæ•¸\r\n     * @param array $target é‡å°ç›®æ¨™ï¼Œå¯ä»¥æ˜¯ä¸€å€‹æˆ–å¤šå€‹ï¼Œè‡ªå·±æˆ–ä»–äºº\r\n     */\r\n    public function activate(array $target);\r\n}\r\n```\r\n\r\nä¸Šæ–‡ä¸­ï¼Œæˆ‘å€‘å®šä¸‹äº†ä¸€å€‹ä»‹é¢(è¶…èƒ½åŠ›æ¨¡çµ„çš„è¦ç¯„ã€å¥‘ç´„)ï¼Œæ‰€æœ‰è¢«å‰µé€ çš„æ¨¡çµ„å¿…é ˆéµå®ˆè©²è¦ç¯„ï¼Œæ‰èƒ½è¢«ç”Ÿç”¢ã€‚\r\n\r\n> å…¶å¯¦ï¼Œé€™å°±æ˜¯ php ä¸­ ä»‹é¢( interface ) çš„ç”¨è™•å’Œæ„ç¾©ï¼\r\n> å¾ˆå¤šäººè¦ºå¾—ï¼Œç‚ºä»€éº¼ php éœ€è¦ä»‹é¢é€™ç¨®æ±è¥¿ï¼Ÿé›£é“ä¸æ˜¯ java ã€ C# ä¹‹é¡åˆ¥çš„èªè¨€æ‰æœ‰çš„å—ï¼Ÿ\r\n> é€™éº¼èªªï¼Œåªè¦æ˜¯ä¸€å€‹æ­£å¸¸çš„ç‰©ä»¶å°å‘ç¨‹å¼ç¢¼èªè¨€(é›–ç„¶ php å¯ä»¥ç¨‹åºå¼ç¨‹å¼è¨­è¨ˆ)ï¼Œéƒ½æ‡‰è©²å…·å‚™é€™ä¸€ç‰¹æ€§ã€‚\r\n> å› ç‚ºä¸€å€‹ ç‰©ä»¶(object) æœ¬èº«æ˜¯ç”±ä»–çš„æ¨¡æ¿æˆ–è€…åŸå‹â€”â€”é¡åˆ¥(class)ï¼Œç¶“éå¯¦ä¾‹åŒ–å¾Œç”¢ç”Ÿçš„ä¸€å€‹å…·é«”äº‹ç‰©ï¼Œ\r\n> è€Œæœ‰æ™‚å€™ï¼Œå¯¦ç¾åŒä¸€ç¨®æ–¹æ³•ä¸”ä¸åŒåŠŸèƒ½(æˆ–ç‰¹æ€§)çš„æ™‚å€™ï¼Œæœƒå­˜åœ¨å¾ˆå¤šçš„é¡åˆ¥(class)ï¼Œ\r\n> é€™æ™‚å€™å°±éœ€è¦æœ‰ä¸€å€‹å¥‘ç´„ï¼Œè®“å¤§å®¶ç·¨å¯«å‡ºå¯ä»¥è¢«éš¨æ™‚æ›¿æ›å»ä¸æœƒç”¢ç”Ÿå½±éŸ¿çš„ä»‹é¢ã€‚\r\n> é€™ç¨®ç”±ç¨‹å¼ç¢¼èªè¨€æœ¬èº«æå‡ºçš„ç¡¬æ€§è¦ç¯„ï¼Œæœƒå¢åŠ æ›´å¤šå„ªç§€çš„ç‰¹æ€§ã€‚\r\n>\r\n> é›–ç„¶æœ‰äº›ç¹ï¼Œä½†é€šéæˆ‘å€‘æ¥ä¸‹ä¾†çš„å¯¦ä¾‹ï¼Œå¤§å®¶æœƒæ…¢æ…¢é ˜æœƒä»‹é¢å¸¶ä¾†çš„å¥½è™•ã€‚\r\n\r\né€™æ™‚å€™ï¼Œé‚£äº›æå‡ºæ›´å¥½çš„è¶…èƒ½åŠ›æ¨¡çµ„çš„é«˜æ™ºå•†äººæ‰ï¼Œéµå¾ªé€™å€‹ä»‹é¢ï¼Œå‰µå»ºäº†ä¸‹è¿°(æ¨¡çµ„)é¡åˆ¥ï¼š\r\n\r\n```php\r\n/**\r\n *\r\n * X-è¶…èƒ½é‡\r\n */\r\nclass XPower implements SuperModuleInterface\r\n{\r\n    public function activate(array $target) {\r\n        //\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * çµ‚æ¥µç‚¸å½ˆ\r\n */\r\nclass UltraBomb implements SuperModuleInterface\r\n{\r\n    public function activate(array $target)\r\n    {\r\n        //\r\n    }\r\n}\r\n```\r\n\r\nåŒæ™‚ï¼Œç‚ºäº†é˜²æ­¢æœ‰äº›\"ç£šå®¶\"è‡ªä½œè°æ˜ï¼Œæˆ–è€…ä¸€äº›å›å¾’æƒ¡æ„æ—è›‹ï¼Œä¸éµå®ˆå¥‘ç´„èƒ¡äº‚è£½é€ æ¨¡çµ„ï¼Œå½±éŸ¿è¶…äººï¼Œæˆ‘å€‘å°è¶…äººåˆå§‹åŒ–çš„æ–¹æ³•é€²è¡Œæ”¹é€ ï¼š\r\n\r\n```php\r\nclass Superman\r\n{\r\n    protected $module;\r\n\r\n    public function __construct(SuperModuleInterface $module)\r\n    {\r\n        $this->module = $module\r\n    }\r\n\r\n}\r\n```\r\n\r\næ”¹é€ å®Œç•¢ï¼ç¾åœ¨ï¼Œç•¶æˆ‘å€‘åˆå§‹åŒ–\"è¶…äºº\"é¡åˆ¥çš„æ™‚å€™ï¼Œæä¾›çš„æ¨¡çµ„å¯¦ä¾‹å¿…é ˆæ˜¯ä¸€å€‹ `SuperModuleInterface` ä»‹é¢çš„å¯¦ç¾ã€‚å¦å‰‡å°±æœƒæç¤ºéŒ¯èª¤ã€‚\r\n\r\næ­£æ˜¯ç”±æ–¼è¶…äººçš„å‰µé€ è®Šå¾—å®¹æ˜“ï¼Œä¸€å€‹è¶…äººä¹Ÿå°±ä¸éœ€è¦å¤ªå¤šçš„è¶…èƒ½åŠ›ï¼Œæˆ‘å€‘å¯ä»¥å‰µé€ å¤šå€‹è¶…äººï¼Œä¸¦åˆ†åˆ¥æ³¨å…¥éœ€è¦çš„è¶…èƒ½åŠ›æ¨¡çµ„å³å¯ã€‚é€™æ¨£çš„è©±ï¼Œé›–ç„¶ä¸€å€‹è¶…äººåªæœ‰ä¸€å€‹è¶…èƒ½åŠ›ï¼Œä½†è¶…äººæ›´å®¹æ˜“è®Šå¤šï¼Œæˆ‘å€‘ä¹Ÿä¸æ€•æ€ªç¸å•¦ï¼\r\n\r\n> ç¾åœ¨æœ‰äººç–‘æƒ‘äº†ï¼Œä½ è¦è¬›çš„ ä¾è³´æ³¨å…¥ å‘¢ï¼Ÿ\r\n>\r\n> å…¶å¯¦ï¼Œä¸Šé¢è¬›çš„å…§å®¹ï¼Œæ­£æ˜¯ä¾è³´æ³¨å…¥ã€‚\r\n\r\nä»€éº¼å«åšä¾è³´æ³¨å…¥ï¼Ÿ\r\n\r\næœ¬æ–‡å¾é–‹é ­åˆ°ç¾åœ¨æåˆ°çš„ä¸€ç³»åˆ—ä¾è³´ï¼Œåªè¦ä¸æ˜¯ç”±å…§éƒ¨ç”Ÿç”¢(æ¯”å¦‚åˆå§‹åŒ–ã€æ§‹é€ å‡½æ•¸ \\_\\_construct ä¸­é€šéå·¥å» æ–¹æ³•ã€è‡ªè¡Œæ‰‹å‹• new çš„)ï¼Œè€Œæ˜¯ç”±å¤–éƒ¨ä»¥åƒæ•¸æˆ–å…¶ä»–å½¢å¼è¨»å…¥çš„ï¼Œéƒ½å±¬æ–¼ä¾è³´æ³¨å…¥(DI)ã€‚æ˜¯ä¸æ˜¯è±ç„¶é–‹æœ—ï¼Ÿäº‹å¯¦ä¸Šï¼Œå°±æ˜¯é€™éº¼ç°¡å–®ã€‚ä¸‹é¢å°±æ˜¯ä¸€å€‹å…¸å‹çš„ä¾è³´æ³¨å…¥ï¼š\r\n\r\n```php\r\n// è¶…èƒ½åŠ›æ¨¡ç»„\r\n$superModule = new XPower;\r\n\r\n// åˆå§‹åŒ–ä¸€å€‹è¶…äººï¼Œä¸¦æ³¨å…¥ä¸€å€‹è¶…èƒ½åŠ›æ¨¡ç»„ä¾è³´\r\n$superMan = new Superman($superModule);\r\n\r\n```\r\n\r\né—œæ–¼ä¾è³´æ³¨å…¥é€™å€‹æœ¬æ–‡çš„ä¸»è¦é…è§’ï¼Œä¹Ÿå°±é€™éº¼å¤šéœ€è¦è¬›çš„ã€‚ç†è§£äº†ä¾è³´æ³¨å…¥ï¼Œæˆ‘å€‘å°±å¯ä»¥ç¹¼çºŒæ·±å…¥å•é¡Œã€‚æ…¢æ…¢èµ°è¿‘ä»Šå¤©çš„ä¸»è§’â€¦â€¦\r\n\r\n### æ›´ç‚ºå…ˆé€²çš„å·¥å» â€”â€” IoC å®¹å™¨\r\n\r\nå‰›å‰›åˆ—äº†ä¸€æ®µä»£ç¢¼ï¼š\r\n\r\n```php\r\n$superModule = new XPower;\r\n\r\n$superMan = new Superman($superModule);\r\n```\r\n\r\nè®€è€…æ‡‰è©²çœ‹å‡ºä¾†äº†ï¼Œæ‰‹å‹•çš„å‰µå»ºäº†ä¸€å€‹è¶…èƒ½åŠ›æ¨¡çµ„ã€æ‰‹å‹•çš„å‰µå»ºè¶…äººä¸¦è¨»å…¥äº†å‰›å‰›å‰µå»ºè¶…èƒ½åŠ›æ¨¡çµ„ã€‚å‘µå‘µï¼Œæ‰‹å‹•ã€‚\r\n\r\nç¾ä»£ç¤¾æœƒï¼Œæ‡‰è©²æ˜¯é«˜æ•ˆç‡çš„ç”Ÿç”¢ï¼Œä¹¾æ·¨çš„ç¾å ´ï¼Œå®Œç¾çš„è‡ªå‹•åŒ–ç”Ÿç”¢ã€‚\r\n\r\nä¸€ç¾¤æ€ªç¸ä¾†äº†ï¼Œå¦‚æ­¤ä½æ•ˆç‡ç”¢å‡ºè¶…äººæ˜¯ä¸ç¾å¯¦ï¼Œæˆ‘å€‘éœ€è¦è‡ªå‹•åŒ–â€”â€” æœ€å¤šä¸€æ¢æŒ‡ä»¤ï¼Œåƒè»è¬é¦¬ä¾†ç›¸è¦‹ã€‚æˆ‘å€‘éœ€è¦ä¸€ç¨®é«˜ç´šçš„ç”Ÿç”¢ç¾å ´ï¼Œæˆ‘å€‘åªéœ€è¦å‘ç”Ÿç”¢ç¾å ´æäº¤ä¸€å€‹è…³æœ¬ï¼Œå·¥å» ä¾¿èƒ½å¤ é€šéæŒ‡ä»¤è‡ªå‹•åŒ–ç”Ÿç”¢ã€‚é€™ç¨®æ›´ç‚ºé«˜ç´šçš„å·¥å» ï¼Œå°±æ˜¯å·¥å» æ¨¡å¼çš„æ˜‡è¯â€”â€” IoC å®¹å™¨ã€‚\r\n\r\n```php\r\nclass Container\r\n{\r\n    protected $binds;\r\n\r\n    protected $instances;\r\n\r\n    public function bind($abstract, $concrete)\r\n    {\r\n        if ($concrete instanceof Closure) {\r\n            $this->binds[$abstract] = $concrete;\r\n        } else {\r\n            $this->instances[$abstract] = $concrete;\r\n        }\r\n    }\r\n\r\n    public function make($abstract, $parameters = [])\r\n    {\r\n        if (isset($this->instances[$abstract])) {\r\n            return $this->instances[$abstract];\r\n        }\r\n\r\n        array_unshift($parameters, $this);\r\n\r\n        return call_user_func_array($this->binds[$abstract], $parameters);\r\n    }\r\n\r\n}\r\n```\r\n\r\né€™æ™‚å€™ï¼Œä¸€å€‹ååˆ†ç²—ç³™çš„å®¹å™¨å°±èª•ç”Ÿäº†ã€‚ç¾åœ¨çš„ç¢ºå¾ˆç°¡é™‹ï¼Œä½†ä¸å¦¨ç¤™æˆ‘å€‘é€²ä¸€æ­¥æå‡ä»–ã€‚å…ˆè‘—çœ¼ç¾åœ¨ï¼Œçœ‹çœ‹é€™å€‹å®¹å™¨å¦‚ä½•ä½¿ç”¨å§ï¼\r\n\r\n```php\r\n// åˆ›å»ºä¸€å€‹å®¹å™¨(åé¢ç§°ä½œè¶…çº§å·¥å» )\r\n$container = new Container;\r\n\r\n// å‘è©² è¶…çº§å·¥å»  æ·»åŠ  è¶…äºº çš„ç”Ÿç”¢è„šæœ¬\r\n$container->bind('superman', function($container, $moduleName) {\r\n    return new Superman($container->make($moduleName));\r\n});\r\n\r\n// å‘è©² è¶…çº§å·¥å»  æ·»åŠ  è¶…èƒ½åŠ›æ¨¡ç»„ çš„ç”Ÿç”¢è„šæœ¬\r\n$container->bind('xpower', function($container) {\r\nreturn new XPower;\r\n});\r\n\r\n// åŒä¸Š\r\n$container->bind('ultrabomb', function($container) {\r\nreturn new UltraBomb;\r\n});\r\n\r\n// ****************** åä¸½ä¸½çš„åˆ†å‰²çº¿ **********************\r\n// é–‹å§‹å•Ÿå‹•ç”Ÿç”¢\r\n$superman_1 = $container->make('superman', 'xpower');\r\n$superman_2 = $container->make('superman', 'ultrabomb');\r\n$superman_3 = $container->make('superman', 'xpower');\r\n// ...éšæ„æ·»åŠ \r\n```\r\n\r\nçœ‹åˆ°æ²’ï¼Ÿé€šéæœ€åˆçš„ ç»‘å®š(bind) æ“ä½œï¼Œæˆ‘å€‘å‘è¶…ç´šå·¥å» è¨»å†Šäº†ä¸€äº›ç”Ÿç”¢è…³æœ¬ï¼Œé€™äº›ç”Ÿç”¢è…³æœ¬åœ¨ç”Ÿç”¢æŒ‡ä»¤ä¸‹é”ä¹‹æ™‚ä¾¿æœƒåŸ·è¡Œã€‚ç™¼ç¾æ²’æœ‰ï¼Ÿæˆ‘å€‘å¾¹åº•çš„è§£é™¤äº†è¶…äººèˆ‡è¶…èƒ½åŠ›æ¨¡çµ„çš„ä¾è³´é—œä¿‚ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®¹å™¨é¡åˆ¥ä¹Ÿçµ²æ¯«æ²’æœ‰å’Œä»–å€‘ç”¢ç”Ÿä»»ä½•ä¾è³´ï¼æˆ‘å€‘é€šéè¨»å†Šã€ç¶å®šçš„æ–¹å¼å‘å®¹å™¨ä¸­æ·»åŠ ä¸€æ®µå¯ä»¥è¢«åŸ·è¡Œçš„å›èª¿(å¯ä»¥æ˜¯åŒ¿åå‡½æ•¸ã€éåŒ¿åå‡½æ•¸ã€é¡åˆ¥çš„æ–¹æ³•)ä½œç‚ºç”Ÿç”¢ä¸€å€‹é¡åˆ¥çš„å¯¦ä¾‹çš„è…³æœ¬ï¼Œåªæœ‰åœ¨çœŸæ­£çš„ ç”Ÿç”¢(make) æ“ä½œè¢«èª¿ç”¨åŸ·è¡Œæ™‚ï¼Œæ‰æœƒè§¸ç™¼ã€‚\r\n\r\né€™æ¨£ä¸€ç¨®æ–¹å¼ï¼Œä½¿å¾—æˆ‘å€‘æ›´å®¹æ˜“åœ¨å‰µå»ºä¸€å€‹å¯¦ä¾‹çš„åŒæ™‚è§£æ±ºå…¶ä¾è³´é—œä¿‚ï¼Œä¸¦ä¸”æ›´åŠ éˆæ´»ã€‚ç•¶æœ‰æ–°çš„éœ€æ±‚ï¼Œåªéœ€å¦å¤–ç¶å®šä¸€å€‹\"ç”Ÿç”¢è…³æœ¬\"å³å¯ã€‚\r\n\r\n> å¯¦éš›ä¸Šï¼ŒçœŸæ­£çš„ IoC å®¹å™¨æ›´ç‚ºé«˜ç´šã€‚\r\n> æˆ‘å€‘ç¾åœ¨çš„ä¾‹å­ä¸­ï¼Œé‚„æ˜¯éœ€è¦æ‰‹å‹•æä¾›è¶…äººæ‰€éœ€è¦çš„æ¨¡çµ„åƒæ•¸ï¼Œ\r\n> ä½†çœŸæ­£çš„ IoC å®¹å™¨æœƒæ ¹æ“šé¡åˆ¥çš„ä¾è³´éœ€æ±‚ï¼Œè‡ªå‹•åœ¨è¨»å†Šã€ç¶å®šçš„ä¸€å †å¯¦ä¾‹ä¸­æœå°‹ç¬¦åˆçš„ä¾è³´éœ€æ±‚ï¼Œä¸¦è‡ªå‹•æ³¨å…¥åˆ°æ§‹é€ å‡½æ•¸åƒæ•¸ä¸­å»ã€‚\r\n> Laravel æ¡†æ¶çš„æœå‹™å®¹å™¨æ­£æ˜¯é€™éº¼åšçš„ã€‚\r\n>\r\n> é€™ç¨®è‡ªå‹•æœå°‹ä¾è³´éœ€æ±‚çš„åŠŸèƒ½ï¼Œæ˜¯é€šé `åå°„(Reflection)` å¯¦ç¾çš„ï¼Œæ°å¥½çš„ï¼Œphp å®Œç¾çš„æ”¯æŒåå°„æ©Ÿåˆ¶ï¼\r\n>\r\n> [PHP å®˜æ–¹æ–‡ä»¶ - åå°„](https://www.php.net/manual/zh/book.reflection.php)\r\n\r\nç¾åœ¨ï¼Œåˆ°ç›®å‰ç‚ºæ­¢ï¼Œæˆ‘å€‘å·²ç¶“ä¸å†æ‡¼æ€•æ€ªç¸å€‘äº†ã€‚é«˜æ™ºå•†äººæ‰é›†æ€å»£ç›Šï¼Œäº•äº•æœ‰æ¢ï¼Œæ ¹æ“šä»‹é¢å¥‘ç´„å‰µé€ è¦ç¯„çš„è¶…èƒ½åŠ›æ¨¡çµ„ã€‚è¶…äººé–‹å§‹æ‰¹é‡ç”¢å‡ºã€‚æœ€çµ‚ï¼Œäººäººéƒ½æ˜¯è¶…äººï¼Œä½ ä¹Ÿå¯ä»¥æ˜¯å“¦ï¼\r\n\r\n## å›æ­¸æ­£å¸¸ä¸–ç•Œã€‚æˆ‘å€‘é–‹å§‹é‡æ–°å¯©è¦– laravel çš„æ ¸å¿ƒ\r\n\r\nç¾åœ¨ï¼Œæˆ‘å€‘é–‹å§‹æ…¢æ…¢è§£è®€ laravel çš„æ ¸å¿ƒã€‚å…¶å¯¦ï¼Œlaravel çš„æ ¸å¿ƒå°±æ˜¯ä¸€å€‹ IoC å®¹å™¨ï¼Œä¹Ÿæ°å¥½æ˜¯æˆ‘ä¹‹å‰æ‰€èªªçš„é«˜ç´šçš„ IoC å®¹å™¨ã€‚\r\n\r\nå¯ä»¥èªªï¼Œlaravel çš„æ ¸å¿ƒæœ¬èº«ååˆ†è¼•é‡ï¼Œä¸¦æ²’æœ‰ä»€éº¼å¾ˆç¥å¥‡å¾ˆå¯¦è³ªæ€§çš„æ‡‰ç”¨åŠŸèƒ½ã€‚å¾ˆå¤šäººç”¨åˆ°çš„å„ç¨®åŠŸèƒ½æ¨¡çµ„æ¯”å¦‚ Route(è·¯ç”±)ã€Eloquent ORM(è³‡æ–™åº« ORM ç»„ä»¶)ã€Request and Response(ä¹æ±‚å’ŒéŸ¿æ‡‰)ç­‰ç­‰ç­‰ç­‰ï¼Œå¯¦éš›ä¸Šéƒ½æ˜¯èˆ‡æ ¸å¿ƒç„¡é—œçš„é¡åˆ¥æ¨¡çµ„æä¾›çš„ï¼Œé€™äº›é¡åˆ¥å¾è¨»å†Šåˆ°å¯¦ä¾‹åŒ–ï¼Œæœ€çµ‚è¢«ä½ æ‰€ä½¿ç”¨ï¼Œå…¶å¯¦éƒ½æ˜¯ laravel çš„æœå‹™å®¹å™¨è² è²¬çš„ã€‚\r\n\r\næˆ‘å€‘ä»¥å¤§å®¶æœ€å¸¸è¦‹çš„ Route é¡åˆ¥ä½œç‚ºä¾‹å­ã€‚å¤§å®¶å¯èƒ½ç¶“å¸¸è¦‹åˆ°è·¯ç”±å®šç¾©æ˜¯é€™æ¨£çš„ï¼š\r\n\r\n```php\r\nRoute::get('/', function() {\r\n    // bla bla bla...\r\n});\r\n```\r\n\r\nå¯¦éš›ä¸Šï¼ŒRoute é¡åˆ¥è¢«å®šç¾©åœ¨é€™å€‹å‘½åç©ºé–“ï¼šIlluminate\\Routing\\Routerï¼Œæ–‡ä»¶ vendor/laravel/framework/src/Illuminate/Routing/Router.phpã€‚\r\n\r\næˆ‘å€‘é€šéæ‰“é–‹ç™¼ç¾ï¼Œé€™å€‹é¡åˆ¥çš„é€™ä¸€ç³»åˆ—æ–¹æ³•ï¼Œå¦‚ getï¼Œpostï¼Œany ç­‰éƒ½ä¸æ˜¯éœæ…‹(static)æ–¹æ³•ï¼Œé€™æ˜¯æ€éº¼ä¸€å›äº‹å…’ï¼Ÿä¸è¦æ€¥ï¼Œæˆ‘å€‘ç¹¼çºŒã€‚\r\n\r\næœå‹™æä¾›è€…\r\næˆ‘å€‘åœ¨å‰æ–‡ä»‹ç´¹ IoC å®¹å™¨çš„éƒ¨åˆ†ä¸­ï¼Œæåˆ°äº†ï¼Œä¸€å€‹é¡åˆ¥éœ€è¦ç¶å®šã€è¨»å†Šè‡³å®¹å™¨ä¸­ï¼Œæ‰èƒ½è¢«\"è£½é€ \"ã€‚\r\n\r\nå°ï¼Œä¸€å€‹é¡åˆ¥è¦è¢«å®¹å™¨æ‰€èƒ½å¤ æå–ï¼Œå¿…é ˆè¦å…ˆè¨»å†Šè‡³é€™å€‹å®¹å™¨ã€‚æ—¢ç„¶ laravel ç¨±é€™å€‹å®¹å™¨å«åšæœå‹™å®¹å™¨ï¼Œé‚£éº¼æˆ‘å€‘éœ€è¦æŸå€‹æœå‹™ï¼Œå°±å¾—å…ˆè¨»å†Šã€ç¶å®šé€™å€‹æœå‹™åˆ°å®¹å™¨ï¼Œé‚£éº¼æä¾›æœå‹™ä¸¦ç¶å®šæœå‹™è‡³å®¹å™¨çš„æ±è¥¿ï¼Œå°±æ˜¯æœå‹™æä¾›è€…(ServiceProvider)ã€‚\r\n\r\né›–ç„¶ï¼Œç¶å®šä¸€å€‹é¡åˆ¥åˆ°å®¹å™¨ä¸ä¸€å®šéè¦é€šéæœå‹™æä¾›è€…(ServiceProvider)ã€‚\r\n\r\nä½†æ˜¯ï¼Œæˆ‘å€‘çŸ¥é“ï¼Œæœ‰æ™‚å€™æˆ‘å€‘çš„é¡åˆ¥ã€æ¨¡çµ„æœƒæœ‰éœ€è¦å…¶ä»–é¡åˆ¥å’Œçµ„ä»¶çš„æƒ…æ³ï¼Œç‚ºäº†ä¿è­‰åˆå§‹åŒ–éšæ®µä¸æœƒå‡ºç¾æ‰€éœ€è¦çš„æ¨¡çµ„å’Œçµ„ä»¶æ²’æœ‰è¨»å†Šçš„æƒ…æ³ï¼Œlaravel å°‡è¨»å†Šå’Œåˆå§‹åŒ–è¡Œç‚ºé€²è¡Œæ‹†åˆ†ï¼Œè¨»å†Šçš„æ™‚å€™å°±åªèƒ½è¨»å†Šï¼Œåˆå§‹åŒ–çš„æ™‚å€™å°±æ˜¯åˆå§‹åŒ–ã€‚æ‹†åˆ†å¾Œçš„ç”¢ç‰©å°±æ˜¯ç¾åœ¨çš„æœå‹™æä¾›è€…ã€‚\r\n\r\næœå‹™æä¾›è€…ä¸»è¦åˆ†ç‚ºå…©å€‹éƒ¨åˆ†ï¼Œregister(æ³¨å†Œ)å’Œ boot(å¼•å°ã€åˆå§‹åŒ–)ï¼Œå…·é«”åƒè€ƒå®˜æ–¹æ–‡ä»¶ã€‚register è² è²¬é€²è¡Œå‘å®¹å™¨è¨»å†Š\"è…³æœ¬\"ï¼Œä½†è¦æ³¨æ„è¨»å†Šéƒ¨åˆ†ä¸è¦æœ‰å°æœªçŸ¥äº‹ç‰©çš„ä¾è³´ï¼Œå¦‚æœæœ‰ï¼Œå°±è¦ç§»æ­¥è‡³ boot éƒ¨åˆ†ã€‚\r\n\r\næ­£é¢\r\næˆ‘å€‘ç¾åœ¨è§£ç­”ä¹‹å‰é—œæ–¼ Route çš„æ–¹æ³•ç‚ºä½•èƒ½ä»¥éœæ…‹æ–¹æ³•è¨ªå•çš„å•é¡Œã€‚å¯¦éš›ä¸Šé€™å€‹å•é¡Œå®˜æ–¹æ–‡ä»¶ä¸Šæœ‰å¯«ï¼Œç°¡å–®èªªä¾†å°±æ˜¯æ¨¡æ“¬ä¸€å€‹é¡åˆ¥ï¼Œæä¾›ä¸€å€‹éœæ…‹é­”è¡“æ–¹æ³•\\_\\_callStaticï¼Œä¸¦å°‡è©²éœæ…‹æ–¹æ³•å°æ‡‰åˆ°çœŸæ­£çš„æ–¹æ³•ä¸Šã€‚\r\n\r\næˆ‘å€‘ä½¿ç”¨çš„ Route é¡åˆ¥å¯¦éš›ä¸Šæ˜¯ Illuminate\\Support\\Facades\\Route é€šé class_alias() å‡½æ•¸å‰µé€ çš„ åˆ«å è€Œå·²ï¼Œé€™å€‹é¡åˆ¥è¢«å®šç¾©åœ¨æ–‡ä»¶ vendor/laravel/framework/src/Illuminate/Support/Facades/Route.phpã€‚\r\n\r\næˆ‘å€‘æ‰“é–‹æ–‡ä»¶ä¸€çœ‹â€¦â€¦ èª’ï¼Ÿæ€éº¼åªæœ‰é€™éº¼ç°¡å–®çš„ä¸€æ®µä»£ç¢¼å‘¢ï¼Ÿ\r\n\r\n```php\r\nnamespace Illuminate\\Support\\Facades;\r\n\r\n/**\r\n * @see \\Illuminate\\Routing\\Router\r\n */\r\nclass Route extends Facade {\r\n\r\n    /**\r\n     * Get the registered name of the component.\r\n     *\r\n     * @return string\r\n     */\r\n    protected static function getFacadeAccessor() {\r\n        return 'router';\r\n    }\r\n}\r\n```\r\n\r\nå…¶å¯¦ä»”ç´°çœ‹ï¼Œæœƒç™¼ç¾é€™å€‹é¡åˆ¥ç¹¼æ‰¿äº†ä¸€å€‹å«åš Facade çš„é¡åˆ¥ï¼Œåˆ°é€™è£¡è¬åº•å·®ä¸å¤šè¦è§£é–‹äº†ã€‚\r\n\r\nä¸Šè¿°ç°¡å–®çš„å®šç¾©ä¸­ï¼Œæˆ‘å€‘çœ‹åˆ°äº† getFacadeAccessor æ–¹æ³•è¿”å›äº†ä¸€å€‹ routeï¼Œé€™æ˜¯ä»€éº¼æ„æ€å‘¢ï¼Ÿäº‹å¯¦ä¸Šï¼Œé€™å€‹å€¼è¢«ä¸€å€‹ ServiceProvider è¨»å†Šéï¼Œå¤§å®¶æ‡‰è©²çŸ¥é“è¨»å†Šäº†å€‹ä»€éº¼ï¼Œç•¶ç„¶æ˜¯é‚£å€‹çœŸæ­£çš„è·¯ç”±é¡åˆ¥ï¼\r\n","date":"2022-12-27T05:43:41.731Z","matchingLines":["## IoC å®¹å™¨ laravel çš„æ ¸å¿ƒ\r","## IoC å®¹å™¨èª•ç”Ÿçš„æ•…äº‹\r","## å›æ­¸æ­£å¸¸ä¸–ç•Œã€‚æˆ‘å€‘é–‹å§‹é‡æ–°å¯©è¦– laravel çš„æ ¸å¿ƒ\r"],"tocContent":""},{"name":"Laravel å‘½ååŸå‰‡.md","content":"# laravel å‘½ååŸå‰‡\r\n\r\n- å°æ–¼é¡ã€ä»‹é¢/å¥‘ç´„ã€ç‰¹æ€§ï¼šä½¿ç”¨ å¤§é§å³°å¼ã€ŒPascalCaseã€\r\n- å°æ–¼å¸¸é‡ï¼šä½¿ç”¨ã€ŒTITLE_CASEã€\r\n- å°æ–¼å‡½å¼/æ–¹æ³•ã€é¡å±¬æ€§å’Œè®Šæ•¸ï¼šä½¿ç”¨ å°é§å³°å¼ã€ŒcamelCaseã€\r\n- å°æ–¼é™£åˆ—ç´¢å¼•/è³‡æ–™åº«æ¬„ä½å/æ¨¡å‹å¯å¡«å……é …/æ¨¡å‹é—œä¿‚ï¼šä½¿ç”¨ è›‡å½¢å‘½åæ³•ã€Œlower_snake_caseã€\r\n- å°æ–¼è·¯ç”±ï¼šä½¿ç”¨ çŸ­æ©«ç·šã€Œlower-kebab-caseã€\r\n\r\n|                         |            å‘½åæ–¹å¼             |                 ç¯„ä¾‹                  |\r\n| :---------------------: | :-----------------------------: | :-----------------------------------: |\r\n|       Controller        |          å–®æ•¸ã€å¤§é§å³°           |            UserController             |\r\n|          Route          |              è¤‡æ•¸               |              articles/1               |\r\n| Named Route - è·¯ç”±å‘½å  |       ä½¿ç”¨é»æ¨™è¨˜çš„è›‡åº•å¼        |           users.show_active           |\r\n|          Model          |              å–®æ•¸               |                 User                  |\r\n| hasOne, belongTo çš„é—œè¯ |           å–®æ•¸/å°é§å³°           |            articleComment             |\r\n|        å…¶ä»–é—œé€£         |           è¤‡æ•¸/å°é§å³°           |            articleComments            |\r\n|         è³‡æ–™è¡¨          |           è¤‡æ•¸/è›‡åº•å¼           |           article_comments            |\r\n|   Pivot Table ä¸­ä»‹è¡¨    | ä»¥å­—æ¯é †åºæ’åˆ—çš„å–®æ•¸ Model åç¨± |             article_user              |\r\n|       è³‡æ–™è¡¨æ¬„ä½        |    è›‡åº•å¼/ä¸åŒ…å« model åç¨±     |              meta_title               |\r\n|       model å±¬æ€§        |             è›‡åº•å¼              |          $model->created_at           |\r\n|   Foreign Key - å¤–éµ    | ä»¥å–®æ•¸ Model åç¨±å¾Œæ–¹åŠ ä¸Š \\_id  |              article_id               |\r\n|          æ–¹æ³•           |             å°é§å³°              |                getAll                 |\r\n|    æ¸¬è©¦é¡åˆ¥ä¸­çš„æ–¹æ³•     |             å°é§å³°              |       testGuestCannotSeeArticle       |\r\n|          è®Šæ•¸           |             å°é§å³°              |          $articlesWithAuthor          |\r\n|       Collection        |         æè¿°æ€§åç¨±/è¤‡æ•¸         | $activeUsers = User::active()->get()  |\r\n|          ç‰©ä»¶           |         æè¿°æ€§åç¨±/å–®æ•¸         | $activeUser = User::active()->first() |\r\n| è¨­å®šæª”åŠèªç³»æª”çš„ç´¢å¼•éµ  |             è›‡åº•å¼              |           articles_enabled            |\r\n|          View           |           kebab-case            |        show-filtered.blade.php        |\r\n|         è¨­å®šæª”          |             è›‡åº•å¼              |          google_calendar.php          |\r\n|     Contract (ç•Œé¢)     |          å½¢å®¹è©æˆ–åè©           |        AuthenticationInterface        |\r\n|          trait          |             å½¢å®¹è©              |              Notifiable               |\r\n","date":"2022-12-27T05:43:24.815Z","matchingLines":[],"tocContent":""},{"name":"Laravel äº‹ä»¶.md","content":"# Laravel äº‹ä»¶\r\n\r\n> Event é¡åˆ¥ä¸€èˆ¬å„²å­˜åœ¨ app/Event ç›®éŒ„ä¸‹\r\n> Listener é¡åˆ¥å‰‡å­˜åœ¨ app/Listeners ç›®éŒ„ä¸‹\r\n\r\n## è¨»å†Š Event èˆ‡ Listener\r\n\r\né¦–å…ˆåœ¨ laravel å°ˆæ¡ˆä¸­çš„ App\\Providers\\EventServiceProvider è¨»å†Šäº‹ä»¶å’Œç›£è½è€…\r\n\r\n- `$listen` å±¬æ€§æ˜¯ä¸€å€‹é™£åˆ—ï¼ŒåŒ…å«æ‰€æœ‰ `Event`(key) å’Œå…¶ `listener`(value)\r\n- å¯ä»¥ä½¿ç”¨ `php artisan event:list` ä¾†åˆ—å‡ºæ‰€æœ‰è¨»å†Šçš„ `Event` å’Œ `listener`\r\n\r\n```php\r\nnamespace App\\Providers;\r\n\r\nuse App\\Events\\OrderShipped;\r\nuse App\\Listeners\\SendShipmentNotification;\r\n\r\n/**\r\n * The event listener mappings for the application.\r\n *\r\n * @var array\r\n */\r\nprotected $listen = [\r\n    OrderShipped::class => [\r\n        SendShipmentNotification::class,\r\n    ],\r\n];\r\n```\r\n\r\n### ç”¢ç”Ÿ Event Listener\r\n\r\nåœ¨ EventServiceProvider ä¸­è¨»å†Šå¾Œï¼Œä½¿ç”¨ artisan æŒ‡ä»¤ï¼Œå³å¯ç”¢ç”Ÿ EventServiceProvider ä¸­å·²è¨»å†Šä½†å°šæœªç”Ÿæˆçš„ Event å’Œ Listener\r\n\r\n```bash\r\nphp artisan event:generate\r\n```\r\n\r\næˆ–è€…ä¹Ÿå¯ä»¥åˆ†åˆ¥å»ºç«‹ Event å’Œ Listener\r\n\r\n```bash\r\nphp artisan make:event PodcastProcessed\r\n\r\nphp artisan make:listener SendPodcastNotification --event=PodcastProcessed\r\n```\r\n\r\næ­¤æ™‚æœƒç”¢ç”Ÿå…©å€‹æ–‡ä»¶ï¼Œåˆ†åˆ¥ç‚ºï¼š\r\napp\\Events\\OrderShipped.php\r\napp\\Listeners\\SendShipmentNotification.php\r\n\r\n### æ‰‹å‹•è¨»å†Š\r\n\r\né™¤äº†åœ¨ EventServiceProvider çš„ class ä¸­å®£å‘Š $listen å±¬æ€§å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨ class ä¸­çš„ boot() æ–¹æ³•æ‰‹å‹•è¨»å†ŠåŸºæ–¼ class æˆ–æ˜¯åŒ¿åå‡½æ•¸çš„ Listener\r\n\r\n```php\r\nuse App\\Events\\PodcastProcessed;\r\nuse App\\Listeners\\SendPodcastNotification;\r\nuse Illuminate\\Support\\Facades\\Event;\r\n\r\n/**\r\n * Register any other events for your application.\r\n *\r\n * @return void\r\n */\r\npublic function boot()\r\n{\r\n    Event::listen(\r\n        PodcastProcessed::class,\r\n        [SendPodcastNotification::class, 'handle']\r\n    );\r\n\r\n    Event::listen(function (PodcastProcessed $event) {\r\n        //\r\n    });\r\n}\r\n```\r\n\r\n#### ä¸€å€‹ Listener è™•ç†å¤šå€‹ Event\r\n\r\nä½¿ç”¨ `*` ä½œç‚ºè¬ç”¨å­—å…ƒåƒæ•¸ä¾†è¨»å†Š Listenerï¼Œå¯¦ç¾ä¸€å€‹ç›£è½è€…å°æ‡‰å¤šå€‹äº‹ä»¶\r\n\r\n```php\r\nEvent::listen('event.*', function ($eventName, array $data) {\r\n    //\r\n});\r\n```\r\n\r\n- æ­¤ç›£è½è€…æ¥æ”¶äº‹ä»¶åä½œç‚ºç¬¬ä¸€å€‹åƒæ•¸ï¼Œä¸¦å°‡æ•´å€‹äº‹ä»¶æ•¸æ“šï¼Œä½œç‚ºç¬¬äºŒå€‹åƒæ•¸\r\n\r\n### Event Discovery äº‹ä»¶ç™¼ç¾\r\n\r\nå•Ÿç”¨äº‹ä»¶ç™¼ç¾æ™‚ï¼Œlaravel æœƒæœå°‹å°ˆæ¡ˆçš„ `app/Listener` ç›®éŒ„è‡ªå‹•å°‹æ‰¾ä¸¦è¨»å†Šäº‹ä»¶èˆ‡ç›£è½å™¨ã€‚  \r\næ­¤å¤–ï¼Œåˆ—åœ¨ `EventServiceProvider` ä¸­æœ‰è¢«æ­£ç¢ºå®šç¾©çš„äº‹ä»¶ä¹Ÿæœƒè¢«è¨»å†Šã€‚\r\n\r\nåœ¨é è¨­ä¸­ï¼Œäº‹ä»¶ç™¼ç¾é è¨­æ˜¯é—œé–‰ï¼Œå¯ä»¥åœ¨ `EventServiceProvider` ä¸Šè¤‡å¯« `shouldDiscoverEvents()` æ–¹æ³•ä¾†å•Ÿç”¨\r\n\r\n```php\r\n/**\r\n * Determine if events and listeners should be automatically discovered.\r\n *\r\n * @return bool\r\n */\r\npublic function shouldDiscoverEvents()\r\n{\r\n    return true;\r\n}\r\n```\r\n\r\n## å®šç¾© Event\r\n\r\nEvent class åŸºæœ¬ä¸Šå°±æ˜¯ä¸€å€‹è³‡æ–™å®¹å™¨ï¼Œç”¨ä¾†ä¿å­˜èˆ‡è©²äº‹ä»¶ç›¸é—œçš„è³‡è¨Šã€‚\r\n\r\nå‡è¨­æœ‰ä¸€å€‹äº‹ä»¶æœƒæ¥æ”¶ Eloquent ORM çš„ç‰©ä»¶ï¼Œ`App\\Events\\OrderShipped`\r\n\r\nåœ¨ class ä¸­åŠ å…¥ $order å±¬æ€§ï¼Œä¸¦åœ¨å»ºæ§‹å­ä¸­åŠ å…¥ $this->order = $order\r\n\r\n```php\r\n<?php\r\n\r\nnamespace App\\Events;\r\n\r\nuse App\\Models\\Order;\r\nuse Illuminate\\Broadcasting\\InteractsWithSockets;\r\nuse Illuminate\\Foundation\\Events\\Dispatchable;\r\nuse Illuminate\\Queue\\SerializesModels;\r\n\r\nclass OrderShipped\r\n{\r\n    use Dispatchable, InteractsWithSockets, SerializesModels;\r\n\r\n    /**\r\n     * The order instance.\r\n     *\r\n     * @var \\App\\Models\\Order\r\n     */\r\n    public $order;\r\n\r\n    /**\r\n     * Create a new event instance.\r\n     *\r\n     * @param  \\App\\Models\\Order  $order\r\n     * @return void\r\n     */\r\n    public function __construct(Order $order)\r\n    {\r\n        $this->order = $order;\r\n    }\r\n}\r\n```\r\n\r\n- åœ¨ Event class ä¸­ä¸åŒ…å«é‚è¼¯ï¼Œåªä½œç‚ºå·²ä»˜æ¬¾è¨‚å–® `App\\Models\\Order` å¯¦é«”çš„å®¹å™¨\r\n\r\n## å®šç¾© Listener\r\n\r\näº‹ä»¶ç›£è½å™¨æœƒåœ¨ handle() ä¸­æ¥æ”¶ Event å¯¦é«”ï¼Œç•¶ä½¿ç”¨ artisan æŒ‡å®šå»ºç«‹ç›£è½å™¨æ™‚ï¼Œæœƒè‡ªå‹•è¼‰å…¥ç›¸å°æ‡‰çš„ Event classï¼Œä¸¦åœ¨ handle() åš Event çš„å‹åˆ¥æç¤º\r\n\r\n```php\r\n<?php\r\n\r\nnamespace App\\Listeners;\r\n\r\nuse App\\Events\\OrderShipped;\r\n\r\nclass SendShipmentNotification\r\n{\r\n    /**\r\n     * Create the event listener.\r\n     *\r\n     * @return void\r\n     */\r\n    public function __construct()\r\n    {\r\n        //\r\n    }\r\n\r\n    /**\r\n     * Handle the event.\r\n     *\r\n     * @param  \\App\\Events\\OrderShipped  $event\r\n     * @return void\r\n     */\r\n    public function handle(OrderShipped $event)\r\n    {\r\n        // Access the order using $event->order...\r\n        // ex: dd($event->order);\r\n    }\r\n}\r\n```\r\n\r\n### åœæ­¢äº‹ä»¶çš„å‚³æ’­\r\n\r\nè‹¥è¦åœæ­¢å°‡æŸå€‹äº‹ä»¶å‚³æ’­åˆ°å¦ä¸€å€‹ç›£è½å™¨ä¸Šï¼Œåªè¦åœ¨ç›£è½å™¨çš„ handle æ–¹æ³•æ˜¯å›å‚³ false å³å¯\r\n\r\n## è§¸ç™¼äº‹ä»¶\r\n\r\nå°‡ order ç‰©ä»¶å‚³å…¥ controllerï¼Œlistener çš„ handle æ–¹æ³•ä¸­å¯ä»¥æ‹¿åˆ° event ä¸­çš„ order è®Šæ•¸ï¼Œå¾ŒçºŒå°±å¯ä»¥è§¸ç™¼äº‹ä»¶çš„é‚è¼¯\r\n\r\n```php\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse App\\Models\\Order;\r\nuse App\\Events\\OrderShipped;\r\nuse App\\Http\\Controllers\\Controller;\r\n\r\nclass OrderController extends Controller\r\n{\r\n    public function ship() {\r\n        $orderId = 1;\r\n        $order = Order::findOrFail($orderId);\r\n\r\n        // è¨‚å–®å‡ºè²¨çš„é‚è¼¯\r\n        // è§¸ç™¼ event\r\n        event(new OrderShipped($order));\r\n\r\n        return response()->json([\r\n            'status' => 'success',\r\n            'message' => ''\r\n        ]);\r\n    }\r\n}\r\n```\r\n\r\n## åˆ†æ´¾ Event\r\n\r\nå‘¼å«äº‹ä»¶ä¸Šçš„éœæ…‹æ–¹æ³• `dispatch` ï¼Œæ­¤æ–¹æ³•ç”± `Illuminate\\Foundation\\Events\\Dispatchable` æä¾›\r\n\r\nä»»ä½•å‚³å…¥æ­¤æ–¹æ³•çš„å€¼ï¼Œæœƒè¢«å‚³çµ¦ Event çš„ Constructor\r\n\r\n```PHP\r\n<?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse App\\Events\\OrderShipped;\r\nuse App\\Http\\Controllers\\Controller;\r\nuse App\\Models\\Order;\r\nuse Illuminate\\Http\\Request;\r\n\r\nclass OrderShipmentController extends Controller\r\n{\r\n    /**\r\n     * Ship the given order.\r\n     *\r\n     * @param  \\Illuminate\\Http\\Request  $request\r\n     * @return \\Illuminate\\Http\\Response\r\n     */\r\n    public function store(Request $request)\r\n    {\r\n        $order = Order::findOrFail($request->order_id);\r\n\r\n        // Order shipment logic...\r\n\r\n        OrderShipped::dispatch($order);\r\n    }\r\n}\r\n```\r\n\r\n## å¯¦ä½œç¯„ä¾‹\r\n\r\n> [æœ€ç°¡å–®æ˜“æ‡‚çš„ laravel äº‹ä»¶ï¼Œé€™å€‹åŠŸèƒ½éå¸¸çš„æœ‰ç”¨](https://segmentfault.com/a/1190000010730545)\r\n\r\n### æƒ…å¢ƒ\r\n\r\nåœ¨ç”¨æˆ¶è¨»å†Šæ™‚ï¼Œç™¼é€å¹«åŠ©é›»å­éƒµä»¶çµ¦ç”¨æˆ¶\r\n\r\nä»¥ä¸‹ç‚ºåŸå§‹çš„è¨»å†Šæ–¹æ³•\r\n\r\n```php\r\nnamespace  App\\Htt\\Controllers;\r\n\r\nuse  Illuminate\\Http\\Request;\r\n\r\nclass  UserController  extends  Controller\r\n {\r\n     public  function  register ( Request $request )\r\n     {\r\n        //ç²å–åƒæ•¸\r\n        //é©—è­‰åƒæ•¸\r\n        //å¯«å…¥è³‡æ–™åº«\r\n        //return è¨»å†Šä¿¡æ¯\r\n    }\r\n}\r\n```\r\n\r\nç¾åœ¨æœ‰ä¸€å€‹éœ€æ±‚ï¼Œè¨»å†ŠæˆåŠŸä¹‹å¾Œï¼Œå‘ç”¨æˆ¶çš„é›»å­ä¿¡ç®±ç™¼é€ä¸€å€‹å»£å‘Š\r\n\r\n```php\r\nnamespace  App\\Htt\\Controllers;\r\n\r\nuse  Illuminate\\Http\\Request;\r\n\r\nclass  UserController  extends  Controller\r\n {\r\n     public  function  register ( Request $request )\r\n     {\r\n        //ç²å–åƒæ•¸\r\n        //é©—è­‰åƒæ•¸\r\n        //å¯«å…¥è³‡æ–™åº«\r\n\r\n        //ç™¼é€å»£å‘Šé›»å­éƒµä»¶\r\n        //return è¨»å†Šä¿¡æ¯\r\n\r\n    }\r\n}\r\n```\r\n\r\næ­¤æ™‚å†å¢åŠ ä¸€å€‹ç™¼é€ç°¡è¨Šçš„éœ€æ±‚\r\n\r\n```php\r\nnamespace  App\\Htt\\Controllers;\r\n\r\nuse  Illuminate\\Http\\Request;\r\n\r\nclass  UserController  extends  Controller\r\n {\r\n     public  function  register ( Request $request )\r\n     {\r\n        //ç²å–åƒæ•¸\r\n        //é©—è­‰åƒæ•¸\r\n        //å¯«å…¥è³‡æ–™åº«\r\n\r\n        //ç™¼é€å»£å‘Šé›»å­éƒµä»¶\r\n        //ç™¼é€ç°¡è¨Š\r\n        //return è¨»å†Šä¿¡æ¯\r\n    }\r\n}\r\n```\r\n\r\næ¥è‘—åˆæœ‰æ–°çš„éœ€æ±‚ï¼šç™¼é€ IM æ¶ˆæ¯ï¼Œé›–ç„¶å°‡è¨±å¤šçš„åŠŸèƒ½å¯«åœ¨ä¸€å€‹ function ä¸­å¾ˆç›´è§€ï¼Œä½†ç•¶å¤šäººå”ä½œæ™‚ï¼Œæœƒç”¢ç”Ÿå„ç¨®ä¸ä¾¿ã€‚\r\n\r\n### äº‹ä»¶åŠŸèƒ½\r\n\r\nlaravel äº‹ä»¶åŠŸèƒ½å¯¦éš›ä¸Šæ›´å‚¾å‘æ–¼ä¸€ç¨®ç®¡ç†æ‰‹æ®µ + å¯¦ç¾çš„é«”ç¾ã€‚\r\n\r\næˆ‘å€‘å¯ä»¥é€é laravel äº‹ä»¶åŠŸèƒ½ï¼Œå®è§€çš„çœ‹åˆ°æ‰€æœ‰çš„äº‹ä»¶ï¼Œè€Œä¸éœ€æ¯æ¬¡éƒ½è¦æ‰“é–‹ controller çš„æ–¹æ³•æ‰èƒ½çŸ¥é“è¨»å†Šä¹‹å¾Œç™¼ç”Ÿä»€éº¼äº‹\r\n\r\næˆ‘å€‘è¦åœ¨è¨»å†Šä¹‹å¾Œä½œä¸€ç³»åˆ—äº‹æƒ…ï¼Œé¦–å…ˆåœ¨è¨»å†Šå®Œä¹‹å¾Œèª¿ç”¨ä¸€å€‹äº‹ä»¶ï¼Œç„¶å¾Œé€™å€‹äº‹ä»¶åœ¨åšå„å¼å„æ¨£çš„äº‹ã€‚\r\n\r\n```php\r\nnamespace  App\\Htt\\Controllers;\r\n\r\nuse  Illuminate\\Http\\Request;\r\n //æˆ‘å€‘å…ˆå¼•å…¥ä¸€å€‹äº‹ä»¶é¡ï¼Œåå­—è‡ªå®šç¾©çš„ï¼Œä¹‹å¾Œå†ä¸€æ­¥ä¸€æ­¥å‰µå»º\r\nuse  App\\Events\\Register;\r\n\r\nclass  UserController  extends  Controller\r\n {\r\n     public  function  register ( Request $request )\r\n     {\r\n        // ç²å–åƒæ•¸\r\n        // é©—è­‰åƒæ•¸\r\n        // å¯«å…¥è³‡æ–™åº«\r\n        // è§¸ç™¼äº‹ä»¶ï¼Œä»¥å¾Œæ‰€æœ‰éœ€è¦è¨»å†Šå¾Œè¦åšçš„äº‹æƒ…ï¼Œéƒ½ä¸éœ€è¦å†é€™è£¡åŠ ä»£ç¢¼äº†ï¼Œæˆ‘å€‘åªéœ€è¦ç®¡ç†äº‹ä»¶å°±å¥½äº†\r\n        // event æ–¹æ³•æ˜¯ laravel è‡ªå¸¶æ–¹æ³•, $uidæ˜¯å¤–éƒ¨åƒæ•¸ï¼Œçœ‹ä½ éœ€è¦åšä»€éº¼ï¼Œå‚³ä»€éº¼åƒæ•¸äº†ã€‚è¨»å†Šä¹‹å¾Œè‚¯å®šæœ‰ $uid çš„å˜›\r\n        event ( new  Register ( $uid ));\r\n        // return è¨»å†Šä¿¡æ¯\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\næ‰¾åˆ° app\\Providers\\EventServiceProvider.php æ–‡ä»¶ï¼Œä¸¦åŠ å…¥é—œä¿‚\r\n\r\n```php\r\nnamespace  App\\Providers;\r\n\r\nuse  Laravel\\Lumen\\Providers\\EventServiceProvider  as  ServiceProvider;\r\n\r\nclass  EventServiceProvider  extends  ServiceProvider\r\n {\r\n     /**\r\n     * The event listener mappings for the application.\r\n     *\r\n     * @var array\r\n     */\r\n    protected  $listen = [\r\n        // ç”¨æˆ¶è¨»å†Šå¾Œçš„äº‹ä»¶\r\n        'App\\Events\\Register' => [\r\n            // ç™¼é€å»£å‘Šé›»å­éƒµä»¶\r\n            'App\\Listeners\\SendAdMail',\r\n            // ç™¼é€ç°¡è¨Š\r\n            'App\\Listeners\\SendSms',\r\n            // ç™¼é€å¹«åŠ©ä¿¡æ¯\r\n            'App\\Listeners\\SendHelpInformation',\r\n        ],\r\n    ];\r\n}\r\n```\r\n\r\né€™æ˜¯è¨»å†Šäº‹ä»¶çš„å…¥å£ï¼Œç›¸ç•¶æ–¼ä¸€å€‹ç¸½ç›®éŒ„ï¼Œé€™æ¨£å°±å¯ä»¥è·Ÿè¨»å†Šçš„ç¨‹å¼ç¢¼ï¼Œæœªä¾†å¢åŠ åŠŸèƒ½æ™‚ï¼Œä¾¿ä¸é ˆå†æŸ¥çœ‹è¨»å†Šæ–¹æ³•çš„ç¨‹å¼ç¢¼\r\n\r\nè¨»å†Šå®Œæˆå¾Œæœƒè§¸ç™¼ App\\Events\\Register é¡åˆ¥ï¼Œç„¶å¾Œé€™å€‹é¡æœƒè¢« App\\Listeners\\SendAdMail, App\\Listeners\\SendSms, App\\Listeners\\SendHelpInformation ç›£è½åˆ°\r\n\r\næ­¤æ™‚é€²å…¥ App\\Events ç›®éŒ„ï¼Œå»ºç«‹ Register é€™å€‹ class\r\n\r\n```php\r\nnamespace  App\\Events;\r\n\r\nclass  Register\r\n {\r\n\r\n    public  $uid;\r\n\r\n    /**\r\n     * å‰µå»ºä¸€å€‹æ–°çš„äº‹ä»¶å¯¦ä¾‹.\r\n     *\r\n     * @param   Order $order\r\n     * @return void\r\n     */\r\n    public  function  __construct ( $uid )\r\n     {\r\n         $this ->uid = $uid;\r\n    }\r\n}\r\n```\r\n\r\næ¥è‘—åœ¨ app\\Listeners ç›®éŒ„åº•ä¸‹å»ºç«‹å„ç¨®äº‹ä»¶ç›£è½ class\r\n\r\n```php\r\nnamespace  App\\Listeners;\r\n\r\nuse  App\\Event\\Register;\r\nuse  App\\Models\\User;\r\nuse  Illuminate\\Contracts\\Queue\\ShouldQueue;\r\n\r\nclass  SendHelpInformation  implements  ShouldQueue\r\n {\r\n\r\n\r\n    public  function  __construct ()\r\n    {\r\n        //\r\n    }\r\n\r\n\r\n    public  function  handle ( Register $event )\r\n    {\r\n        $uid = $event ->uid;\r\n\r\n        $user = User :: find ( $uid );\r\n\r\n        //......å„ç¨®å¯¦ç¾\r\n    }\r\n}\r\n```\r\n","date":"2022-12-27T05:43:05.905Z","matchingLines":["## è¨»å†Š Event èˆ‡ Listener\r","## å®šç¾© Event\r","## å®šç¾© Listener\r","## è§¸ç™¼äº‹ä»¶\r","## åˆ†æ´¾ Event\r","## å¯¦ä½œç¯„ä¾‹\r"],"tocContent":""},{"name":"æ’°å¯« API æ–‡ä»¶.md","content":"# æ’°å¯« API æ–‡ä»¶\r\n\r\n> æ–‡ä»¶å…§å®¹åŒ…æ‹¬ï¼šç”¨é€”ï¼Œè·¯ç”±ã€åƒæ•¸ã€å›å‚³å€¼\r\n> æ›´è©³ç´°çš„æœƒåŒ…æ‹¬ï¼šåƒæ•¸æ”¾ç½®çš„ä½ç½®(route, queryString, body)ã€åƒæ•¸æ˜¯å¦å¿…å¡«ï¼Œå›å‚³çš„ JSON ç¯„ä¾‹\r\n\r\nç¯„ä¾‹\r\n\r\n```markdown\r\n## GET /card/{id}\r\n\r\n**æŸ¥è©¢æŒ‡å®šç·¨è™Ÿçš„å¡ç‰‡**\r\n\r\n### Parameter\r\n\r\n- Route\r\n  - `id (int, required)` å¡ç‰‡ç·¨è™Ÿ\r\n\r\nexample: https://exampleProjN.com/api/card/1\r\n\r\n### Response\r\n\r\n200: å›å‚³å°æ‡‰çš„å¡ç‰‡\r\n{\r\n\"id\": 0,\r\n\"name\": \"string\",\r\n\"description\": \"string\",\r\n\"attack\": 0,\r\n\"health\": 0,\r\n\"cost\": 0\r\n}\r\n\r\n404: æ‰¾ä¸åˆ°\r\n```\r\n\r\n### postman çš„æè¿°å€åŸŸ\r\n\r\n- API ç”¨é€”\r\n- åƒæ•¸èªªæ˜ï¼Œé™¤äº† request body èªªæ˜ä¹‹å¤–ï¼Œä¹Ÿèƒ½èªªæ˜ uri åƒæ•¸å¾å“ªä¾†çš„ã€‚\r\n- æˆåŠŸæˆ–å¤±æ•—æ¡ˆä¾‹çš„èªªæ˜ï¼šå› ç‚ºç›®å‰æˆ‘é‚„ä¸çŸ¥é“æ€éº¼åœ¨ Response åŠ ä¸Šè¨»è§£ã€‚\r\n- åˆ¥åï¼Œé¡ä¼¼ä¸­æ–‡åç¨±ã€‚\r\n\r\n## ç·¨è¼¯æˆ¿é–“\r\n\r\n### ç”¨é€”\r\n\r\n- ç·¨è¼¯æˆ¿é–“\r\n- åŒæ™‚è™•ç†å¢ã€åˆªã€ä¿®å‹•ä½œ\r\n- å¯ä»¥é™£åˆ—å‚³å…¥ room_id\r\n\r\n### header\r\n\r\n|      key      |        å€¼        | å‚™è¨»  |\r\n| :-----------: | :--------------: | :---: |\r\n| Authorization | Bearer {{token}} | token |\r\n\r\n### åƒæ•¸\r\n\r\n|   key   |   å€¼   |             é©—è­‰è¦å‰‡              |\r\n| :-----: | :----: | :-------------------------------: |\r\n| account | string |             required              |\r\n|  role   | string | required, string, in:member,guest |\r\n| room_id | array  |     required, exists:rooms,id     |\r\n\r\n./postman_doc_gen [C:\\Users\\RD\\Desktop\\V5-Cloud.postman_collection.json] -o [C:\\Users\\RD\\Desktop]\r\n","date":"2022-12-27T05:35:08.690Z","matchingLines":["## GET /card/{id}\r","## ç·¨è¼¯æˆ¿é–“\r"],"tocContent":""},{"name":"æ•¸ä½æ†‘è­‰(SSL)è¦éŒ¢ï¼Œèª°é‚„è¦æ•¸ä½æ†‘è­‰ï¼Ÿ.md","content":"# æ•¸ä½æ†‘è­‰(SSL)è¦éŒ¢ï¼Œèª°é‚„è¦æ•¸ä½æ†‘è­‰ï¼Ÿ\r\n\r\n> ç›®å‰ Chrome å…¨é¢åœ¨æœªæ¡ç”¨ HTTPS åŠ å¯†çš„ç¶²ç«™ï¼Œé¡¯ç¤ºç´…è‰²çš„ä¸å®‰å…¨è­¦å‘Šï¼Œä¸€å¾‹è¦–ç‚ºä¸å®‰å…¨ã€‚\r\n\r\n## å…è²» SSL VS. ä»˜è²» SSL\r\n\r\n### 1. æ†‘è­‰å…¬ä¿¡åŠ›\r\n\r\nå…è²»çš„ SSL èº«åˆ†é©—è­‰ä¸å¤ ç¢ºå¯¦ï¼Œå¯èƒ½å°è‡´é‡£é­šç¶²ç«™ä¹Ÿèƒ½å†’åå®‰è£å…¶ä»–æ¥­è€…çš„æ†‘è­‰ï¼Œä¸”è¢«ç€è¦½å™¨ç™¼ç¾çš„è©±ï¼Œæ›´å°‡æœƒå…¨é¢å¦å®šæ­¤é–“æ†‘è­‰ä¾›æ‡‰å•†çš„æ†‘è­‰å…¬ä¿¡åŠ›ï¼ŒåŒæ™‚æ’¤å›ç›¸åŒ SSL çš„å…¶ä»–ç¶²ç«™å®‰å…¨èªå¯ã€‚\r\n\r\n### 2. ç¶²ç«™èº«åˆ†çš„é©—è­‰æ–¹å¼\r\n\r\nå…è²»çš„æ•¸ä½æ†‘è­‰é€šå¸¸åªæ¡é›»å­éƒµä»¶é©—è­‰ã€‚è€Œä»˜è²»çš„æ†‘è­‰ï¼Œä¾ä»˜è²»æ–¹æ¡ˆé¡å‹çš„ä¸åŒï¼Œæœƒæœ‰æ›´åŠ åš´è¬¹çš„é©—è­‰æ–¹å¼ï¼Œä¹ŸæœƒåŠ å…¥ç¬¬ä¸‰æ–¹çš„é©—è­‰ï¼Œä»¥é¿å…æ†‘è­‰èª¤é ’çš„ç‹€æ³ç™¼ç”Ÿã€‚\r\n\r\n### 3. æ†‘è­‰æœ‰æ•ˆæœŸé™\r\n\r\nä»˜è²»æ†‘è­‰å› ç‚ºæª¢é©—æ©Ÿåˆ¶å®Œæ•´ä¸”åš´è¬¹ï¼Œæ‰€ä»¥é€šå¸¸å…·å‚™å¤šå¹´æ–¹æ¡ˆã€‚\r\n\r\n### 4. ä¼æ¥­åç¨±æ­ç¤º\r\n\r\nä»˜è²» SSL æœƒå®Œæ•´é¡¯ç¤ºä¼æ¥­è³‡è¨Šï¼Œå¢å¼·å“ç‰Œå®‰å…¨å…¬ä¿¡åŠ›ã€‚\r\n\r\n### 5. æå®³è³ å„Ÿè²¬ä»»\r\n\r\næ ¹æ“šé›»å­ç°½ç« æ³•è¦å®šï¼Œå› æ­¤ç„¡è«–æ˜¯åœ‹å…§å¤–æ†‘è­‰æ¥­è€…ï¼Œå‡æœ‰åˆ¶å®šæå®³è³ å„Ÿé‡‘é¡ã€‚è‹¥ç¶²ç«™åœ¨æœ‰å®‰è£æ­¤æ†‘è­‰ä¸‹è³‡æ–™ä»ä¸å¹¸é­ç«Šï¼Œå°‡æœ‰å°æ‡‰ç†è³ é‡‘é¡ã€‚\r\n\r\n### 6. æ†‘è­‰å®‰è£å”åŠ©\r\n\r\nä»˜è²» SSL æä¾›å”®å¾Œæœå‹™æˆ–æ˜¯å®¢æœæ”¯æ´ï¼Œå”åŠ© SSL å®‰è£å°å…¥ã€‚\r\n\r\n### 7. å¤šç¶²åŸŸä½¿ç”¨é™åˆ¶\r\n\r\nä»˜è²» SSL å‰‡å¯ä¾æ“šä¼æ¥­éœ€æ±‚ï¼Œå‡ç´šå­ç¶²åŸŸèˆ‡è·¨ç¶²åŸŸæ–¹æ¡ˆ\r\n\r\n### 8. æ†‘è­‰çš„å®‰å…¨æ¨™ç« \r\n\r\nä»˜è²» SSL æœƒæä¾›å®‰å…¨æ¨™ç« ä¾›ç”¨æˆ¶ç½®å…¥æ–¼ç¶²ç«™ï¼Œæé«˜ç¶²ç«™ä¿¡ä»»æ„Ÿã€‚\r\n\r\n### 9. æ†‘è­‰ä¾›æ‡‰å•†å°æ–¼è³‡å®‰çš„é‡è¦–èˆ‡é˜²è­·\r\n\r\nä»˜è²» SSL å…·å‚™å®Œæ•´è³‡å®‰é˜²è­·æ©Ÿåˆ¶\r\n","date":"2022-12-27T05:33:09.774Z","matchingLines":["## å…è²» SSL VS. ä»˜è²» SSL\r"],"tocContent":""},{"name":"phpDoc.md","content":"# phpDoc\r\n\r\n[è‡ªå‹•ç·¨å¯«ç¨‹å¼](https://github.com/barryvdh/laravel-ide-helper)\r\n\r\n## é€šç”¨è¨»è§£å¯«æ³•\r\n\r\n### è¨»è§£ç¯„ä¾‹ï¼ˆæ™®é€šç¨‹å¼æ–‡ä»¶ï¼Œé¡åˆ¥æ–‡ä»¶ï¼Œå‡½æ•¸æ–‡ä»¶ï¼Œè®Šé‡å®šç¾©æ–‡ä»¶ï¼‰\r\n\r\n```php\r\n/**\r\n * XXXXXçš„æ–‡ä»¶\r\n *\r\n * åŠŸèƒ½1ï¼š xxx\r\n * åŠŸèƒ½2ï¼š xxx\r\n *\r\n * @file        $https://github.com/changgenglu/note/blob/master/phpDoc.md  $\r\n * @package     core\r\n * @author      Ivan <eatbreakfast2012@gmail.com>\r\n * @version     V1.0.0\r\n * @link        https://github.com/changgenglu/note/blob/master/phpDoc.md\r\n */\r\n```\r\n\r\n- `@file` æª”æ¡ˆä½ç½®ï¼š\r\n\r\n- `@version` ç‰ˆæœ¬ï¼š\r\n\r\n- `@package` æ˜¯åœ˜éšŠäº‹å…ˆå®šç¾©å¥½çš„ï¼Œåœ¨ phpdocumentor é‡ŒåŒä¸€ package çš„æ–‡ä»¶å¯ä»¥çµ¦å‡ºè·Ÿè¹¤çš„éˆæ¥ã€‚é …ç›®é–‹ç™¼å‰éœ€è¦å°å…¶å®šç¾©ã€‚\r\n\r\n- `@link` è¡Œå¾Œé¢æ¥çš„åœ°å€æ˜¯ç¨‹å¼é–‹ç™¼æ–‡æª”çš„åœ°å€\r\n\r\n> èªªæ˜ï¼šä»¥ä¸Šè‡ªå‹•æ›´æ–°ç‰ˆæœ¬åŠæ–‡ä»¶åéœ€è¦è¨­å®š SVNï¼Œå…·é«”è«‹è‡ªè¡Œæœå°‹ _'SVN è‡ªå‹•ç‰ˆæœ¬è™Ÿ'_\r\n\r\n### é¡åˆ¥è¨»è§£ï¼Œä½¿ç”¨å¦‚ä¸‹å¹¾å€‹ tag\r\n\r\n```php\r\n/**\r\n * xxxxxé¡\r\n *\r\n * åŠŸèƒ½1ï¼šå®Œæˆxxxx\r\n * åŠŸèƒ½2ï¼šå®Œæˆxxxxx\r\n *\r\n * @author      Ivan <eatbreakfast2012@gmail.com>\r\n * @access      public\r\n * @abstract\r\n */\r\npublic class DemoClass {\r\n //code...\r\n}\r\n```\r\n\r\n- `@access` (`public`|`private`) æ¨™è¨˜é¡æ˜¯ç§æœ‰çš„é‚„æ˜¯å…¬ç”¨çš„ã€‚\r\n- `@abstract`æ¨™è¨˜è©²é¡æ˜¯å€‹æŠ½è±¡é¡\r\n\r\n### é¡åˆ¥å±¬æ€§å®£å‘Šè¨»è§£\r\n\r\n```php\r\npublic class DemoClass {\r\n\r\n   /**\r\n    * ç•¶å‰é ç¢¼\r\n    *\r\n    * @var integer\r\n    */\r\n    public $currentPageNumber;\r\n\r\n   /**\r\n    * ç§æœ‰è®Šé‡ä½¿ç”¨ä¸‹åŠƒç·šé–‹é ­\r\n    *\r\n    * @var string\r\n    */\r\n    private $_instance;\r\n}\r\n```\r\n\r\n### æ™®é€šå‡½æ•¸å’Œé¡åˆ¥ä¸­çš„å‡½æ•¸è¨»è§£\r\n\r\n```php\r\n/**\r\n * ç²å¾—é ­è²¼åœ°å€\r\n *\r\n * @author Ivan <eatbreakfast2012@gmail.com>\r\n *\r\n * @param string  $imageName  åœ–ç‰‡æª”æ¡ˆå\r\n * @param integer $size     æª”æ¡ˆå¤§å°\r\n *\r\n * @return string\r\n */\r\nfunction getAvatarUrl($imageName, $size = 80)\r\n{\r\n    return sprintf(SITE_URL . '/service/images/cropped_%s/'.$imageName, $size);\r\n}\r\n\r\n```\r\n\r\né †åºæŒ‰ç…§ authorã€paramã€return ä¾†æ”¾ï¼Œ**å€å¡Šé–“ç©ºè¡Œ**ã€‚\r\n\r\n### ç¨‹å¼æ®µè½è¨»è§£\r\n\r\næ®µè½è¨»è§£å’Œé‚è¼¯è¨»è§£ä½¿ç”¨å¦‚ä¸‹æ–¹å¼\r\n\r\n```php\r\n/**\r\n * 1 å¦‚æœ$_GET['do']ç­‰æ–¼buy,å‰‡è³¼è²·æ¢ç¢¼\r\n */\r\nif($_GET['do'] == 'buy')\r\n{\r\n    // 1.1 é©—è­‰ç”¨æˆ¶æäº¤è®Šé‡æ˜¯å¦åˆæ³•\r\n    if($_POST['strCodeNum'])\r\n    {\r\n\r\n    }\r\n    // 1.2 é©—è­‰ç”¨æˆ¶æäº¤çš„ç¢¼æ˜¯å¦å¯ä»¥è³¼è²·\r\n    // 1.3 ..................\r\n} // end if\r\n\r\n/**\r\n * 2 å¦‚æœ$_GET['do']ç­‰æ–¼list,é¡¯ç¤ºç”¨æˆ¶é¸æ“‡çš„æ¢ç¢¼\r\n */\r\nif($_GET['do'] == 'list')\r\n{\r\n    // 2.1 é©—è­‰ç”¨æˆ¶æäº¤è®Šé‡æ˜¯å¦åˆæ³•\r\n    if($_POST['strCodeNum'])\r\n    {\r\n\r\n    }\r\n    // 2.2 é©—è­‰ç”¨æˆ¶æäº¤çš„ç¢¼æ˜¯å¦å¯ä»¥è³¼è²·\r\n\r\n    // 2.3 ..................\r\n} // end if\r\n```\r\n\r\n## PHPdoc è¦ç¯„\r\n\r\n[WIKI ä¸Šçš„ PHPDoc](http://en.wikipedia.org/wiki/Phpdoc)\r\n\r\n| æ¨™è¨˜        | ç”¨é€”                              | æè¿°                                                                     |\r\n| ----------- | --------------------------------- | ------------------------------------------------------------------------ |\r\n| @abstract   |                                   | æŠ½è±¡é¡çš„è®Šé‡å’Œæ–¹æ³•                                                       |\r\n| @access     | public, private or protected      | æ–‡æª”çš„è¨ªå•ã€ä½¿ç”¨æ¬Šé™. @access private è¡¨æ˜é€™å€‹æ–‡æª”æ˜¯è¢«ä¿è­·çš„ã€‚           |\r\n| @author     | Ivan <eatbreakfast2012@gmail.com> | æ–‡æª”ä½œè€…                                                                 |\r\n| @copyright  | åç¨± æ™‚é–“                         | æ–‡æª”ç‰ˆæ¬Šä¿¡æ¯                                                             |\r\n| @deprecated | version                           | æ–‡æª”ä¸­è¢«å»¢é™¤çš„æ–¹æ³•                                                       |\r\n| @deprec     |                                   | åŒ @deprecated                                                           |\r\n| @example    | /path/to/example                  | æ–‡æª”çš„å¤–éƒ¨ä¿å­˜çš„ç¤ºä¾‹æ–‡ä»¶çš„ä½ç½®ã€‚                                         |\r\n| @exception  |                                   | æ–‡æª”ä¸­æ–¹æ³•æ‹‹å‡ºçš„ç•°å¸¸ï¼Œä¹Ÿå¯åƒç…§ @throws.                                  |\r\n| @global     | é¡å‹ï¼š$globalvarname              | æ–‡æª”ä¸­çš„å…¨å±€è®Šé‡åŠæœ‰é—œçš„æ–¹æ³•å’Œå‡½æ•¸                                       |\r\n| @ignore     |                                   | å¿½ç•¥æ–‡æª”ä¸­æŒ‡å®šçš„é—œéµå­—                                                   |\r\n| @internal   |                                   | é–‹ç™¼åœ˜éšŠå…§éƒ¨ä¿¡æ¯                                                         |\r\n| @link       | URL                               | é¡ä¼¼æ–¼ license ä½†é‚„å¯ä»¥é€šé link æ‰¾åˆ°æ–‡æª”ä¸­çš„æ›´å¤šå€‹è©³ç´°çš„ä¿¡æ¯            |\r\n| @name       | è®Šé‡åˆ¥å                          | ç‚ºæŸå€‹è®Šé‡æŒ‡å®šåˆ¥å                                                       |\r\n| @magic      |                                   | phpdoc.de compatibility                                                  |\r\n| @package    | å°è£åŒ…çš„åç¨±                      | ä¸€çµ„ç›¸é—œé¡ã€å‡½æ•¸å°è£çš„åŒ…åç¨±                                             |\r\n| @param      | å¦‚ $username ç”¨æˆ¶å               | è®Šé‡å«ç¾©è¨»è§£                                                             |\r\n| @return     | å¦‚ è¿”å› bool                      | å‡½æ•¸è¿”å›çµæœæè¿°ï¼Œä¸€èˆ¬ä¸ç”¨åœ¨ voidï¼ˆç©ºè¿”å›çµæœçš„ï¼‰çš„å‡½æ•¸ä¸­                |\r\n| @see        | å¦‚ Class Login()                  | æ–‡ä»¶é—œè¯çš„ä»»ä½•å…ƒç´ ï¼ˆå…¨å±€è®Šé‡ï¼ŒåŒ…æ‹¬ï¼Œé é¢ï¼Œé¡ï¼Œå‡½æ•¸ï¼Œå®šç¾©ï¼Œæ–¹æ³•ï¼Œè®Šé‡ï¼‰ã€‚ |\r\n| @since      | version                           | è¨˜éŒ„ä»€éº½æ™‚å€™å°æ–‡æª”çš„å“ªäº›éƒ¨åˆ†é€²è¡Œäº†æ›´æ”¹                                   |\r\n| @static     |                                   | è¨˜éŒ„éœæ…‹é¡ã€æ–¹æ³•                                                         |\r\n| @staticvar  |                                   | åœ¨é¡ã€å‡½æ•¸ä¸­ä½¿ç”¨çš„éœæ…‹è®Šé‡                                               |\r\n| @subpackage |                                   | å­ç‰ˆæœ¬                                                                   |\r\n| @throws     |                                   | æŸä¸€æ–¹æ³•æ‹‹å‡ºçš„ç•°å¸¸                                                       |\r\n| @todo       |                                   | è¡¨ç¤ºæ–‡ä»¶æœªå®Œæˆæˆ–è€…è¦å®Œå–„çš„åœ°æ–¹                                           |\r\n| @var        | type                              | æ–‡æª”ä¸­çš„è®Šé‡åŠå…¶é¡å‹                                                     |\r\n| @version    |                                   | æ–‡æª”ã€é¡ã€å‡½æ•¸çš„ç‰ˆæœ¬ä¿¡æ¯                                                 |\r\n\r\nPHPDoc è¨»è§£å¯¦ä¾‹ï¼š\r\n\r\n```php\r\n<?php\r\n /**\r\n  * start page for webaccess\r\n  *\r\n  * PHP version 5\r\n  *\r\n  * @category  PHP\r\n  * @package   PSI_Web\r\n  * @author    Michael Cramer <BigMichi1@users.sourceforge.net>\r\n  * @copyright 2009 phpSysInfo\r\n  * @license   http://opensource.org/licenses/gpl-2.0.php GNU General Public License\r\n  * @version   SVN: $Id: class.Webpage.inc.php 412 2010-12-29 09:45:53Z Jacky672 $\r\n  * @link      http://phpsysinfo.sourceforge.net\r\n  */\r\n  /**\r\n  * generate the dynamic webpage\r\n  *\r\n  * @category  PHP\r\n  * @package   PSI_Web\r\n  * @author    Michael Cramer <BigMichi1@users.sourceforge.net>\r\n  * @copyright 2009 phpSysInfo\r\n  * @license   http://opensource.org/licenses/gpl-2.0.php GNU General Public License\r\n  * @version   Release: 3.0\r\n  * @link      http://phpsysinfo.sourceforge.net\r\n  */\r\n class Webpage extends Output implements PSI_Interface_Output\r\n {\r\n     /**\r\n      * configured language\r\n      *\r\n      * @var String\r\n      */\r\n     private $_language;\r\n\r\n     /**\r\n      * configured template\r\n      *\r\n      * @var String\r\n      */\r\n     private $_template;\r\n\r\n     /**\r\n      * all available templates\r\n      *\r\n      * @var Array\r\n      */\r\n     private $_templates = array();\r\n\r\n     /**\r\n      * all available languages\r\n      *\r\n      * @var Array\r\n      */\r\n     private $_languages = array();\r\n\r\n     /**\r\n      * check for all extensions that are needed, initialize needed vars and read config.php\r\n      */\r\n     public function __construct()\r\n     {\r\n         parent::__construct();\r\n         $this->_getTemplateList();\r\n         $this->_getLanguageList();\r\n     }\r\n\r\n     /**\r\n      * checking config.php setting for template, if not supportet set phpsysinfo.css as default\r\n      * checking config.php setting for language, if not supported set en as default\r\n      *\r\n      * @return void\r\n      */\r\n     private function _checkTemplateLanguage()\r\n     {\r\n         $this->_template = trim(PSI_DEFAULT_TEMPLATE);\r\n         if (!file_exists(APP_ROOT.'/templates/'.$this->_template.\".css\")) {\r\n             $this->_template = 'phpsysinfo';\r\n         }\r\n\r\n         $this->_language = trim(PSI_DEFAULT_LANG);\r\n         if (!file_exists(APP_ROOT.'/language/'.$this->_language.\".xml\")) {\r\n             $this->_language = 'en';\r\n         }\r\n     }\r\n\r\n     /**\r\n      * get all available tamplates and store them in internal array\r\n      *\r\n      * @return void\r\n      */\r\n     private function _getTemplateList()\r\n     {\r\n         $dirlist = CommonFunctions::gdc(APP_ROOT.'/templates/');\r\n         sort($dirlist);\r\n         foreach ($dirlist as $file) {\r\n             $tpl_ext = substr($file, strlen($file) - 4);\r\n             $tpl_name = substr($file, 0, strlen($file) - 4);\r\n             if ($tpl_ext === \".css\") {\r\n                 array_push($this->_templates, $tpl_name);\r\n             }\r\n         }\r\n     }\r\n\r\n     /**\r\n      * get all available translations and store them in internal array\r\n      *\r\n      * @return void\r\n      */\r\n     private function _getLanguageList()\r\n     {\r\n         $dirlist = CommonFunctions::gdc(APP_ROOT.'/language/');\r\n         sort($dirlist);\r\n         foreach ($dirlist as $file) {\r\n             $lang_ext = substr($file, strlen($file) - 4);\r\n             $lang_name = substr($file, 0, strlen($file) - 4);\r\n             if ($lang_ext == \".xml\") {\r\n                 array_push($this->_languages, $lang_name);\r\n             }\r\n         }\r\n     }\r\n\r\n     /**\r\n      * render the page\r\n      *\r\n      * @return void\r\n      */\r\n     public function run()\r\n     {\r\n         $this->_checkTemplateLanguage();\r\n\r\n         $tpl = new Template(\"/templates/html/index_dynamic.html\");\r\n\r\n         $tpl->set(\"template\", $this->_template);\r\n         $tpl->set(\"templates\", $this->_templates);\r\n         $tpl->set(\"language\", $this->_language);\r\n         $tpl->set(\"languages\", $this->_languages);\r\n\r\n         echo $tpl->fetch();\r\n     }\r\n }\r\n```\r\n","date":"2022-12-27T05:20:46.262Z","matchingLines":["## é€šç”¨è¨»è§£å¯«æ³•\r","## PHPdoc è¦ç¯„\r"],"tocContent":""},{"name":"ä½µç™¼æ§åˆ¶.md","content":"# ä½µç™¼æ§åˆ¶\r\n\r\n> æ‚²è§€ä½µç™¼æ§åˆ¶(æ‚²è§€é–ï¼ŒPessimistic Concurrency Control / PCC)\r\n>\r\n> æ¨‚è§€ä½µç™¼æ§åˆ¶(æ¨‚è§€é–ï¼ŒOptimistic Concurrency Control / OCC)\r\n\r\n## æ‚²è§€é–\r\n\r\nå°æ–¼ \"è³‡æ–™è¢«å¤–ç•Œä¿®æ”¹\" æŒä¿å®ˆæ…‹åº¦ï¼Œå› æ­¤åœ¨æ•´å€‹è³‡æ–™è™•ç†éç¨‹ä¸­ï¼Œå°‡è³‡æ–™è™•æ–¼é–å®šç‹€æ…‹ï¼Œé€²ä»¥é˜»æ­¢ä¸€å€‹äº‹å‹™ä»¥å½±éŸ¿å…¶ä»–ç”¨æˆ¶çš„æ–¹å¼ä¾†ä¿®æ”¹è³‡æ–™ã€‚\r\n\r\nåœ¨è³‡æ–™åº«ä¸­ï¼Œæ‚²è§€é–çš„æµç¨‹ç‚ºï¼š\r\n\r\n1. åœ¨å°ä»»æ„ç´€éŒ„é€²è¡Œä¿®æ”¹å‰ï¼Œå…ˆå˜—è©¦ç‚ºè©²ç´€éŒ„åŠ ä¸Šæ’ä»–é–(exclusive locking)ã€‚\r\n2. å¦‚æœåŠ é–å¤±æ•—ï¼Œèªªæ˜è©²ç­†è³‡æ–™æ­£åœ¨è¢«ä¿®æ”¹ï¼Œé‚£éº¼ç•¶å‰è«‹æ±‚å¯èƒ½è¦ç­‰å¾…æˆ–è€…æ‹‹å‡ºç•°å¸¸ï¼Œå…·é«”å½±éŸ¿æ–¹å¼ç”±é–‹ç™¼è€…æ ¹æ“šå¯¦éš›éœ€æ±‚æ±ºå®šã€‚\r\n3. è‹¥æˆåŠŸåŠ é–ï¼Œé‚£å°±å¯ä»¥å°è¨˜éŒ„é€²è¡Œä¿®æ”¹ï¼Œå¾…è«‹æ±‚å®Œæˆå¾Œå°±æœƒè§£é–äº†ã€‚\r\n4. æœŸé–“è‹¥æœ‰å…¶ä»–å°è¨˜éŒ„åšä¿®æ”¹æˆ–åŠ æ’ä»–é–çš„æ“ä½œï¼Œéƒ½æœƒç­‰å¾…è§£é–å¾Œæˆ–ç›´æ¥æ‹‹å‡ºç•°å¸¸ã€‚\r\n\r\n### MySQL InnoDB ä½¿ç”¨æ‚²è§€é–\r\n\r\nä½¿ç”¨æ‚²è§€é–ï¼Œéœ€å…ˆå°‡ mysql è‡ªå‹•æäº¤çš„å±¬æ€§é—œé–‰ï¼Œå› ç‚º mysql é è¨­ä½¿ç”¨ autocommit æ¨¡å¼ã€‚\r\n\r\nautocommit æ¨¡å¼ï¼šç•¶åŸ·è¡Œä¸€å€‹æ›´æ–°æ“ä½œå¾Œï¼Œmysql æœƒç«‹åˆ»å°‡çµæœé€²è¡Œæäº¤ï¼Œè‹¥è¦é—œé–‰ `set autocommit=0`, `set autocommit=false`ã€‚\r\n\r\n```sql\r\n-- é–‹å§‹è«‹æ±‚(ä¸‰é¸ä¸€)\r\nbegin; / begin work; / start transaction;\r\n\r\n-- æŸ¥è©¢å‡ºå•†å“è¨Šæ¯\r\nselect status from t_goods where id=1 for update;\r\n\r\n-- æ ¹æ“šå•†å“è¨Šæ¯ç”¢ç”Ÿè¨‚å–®\r\ninsert into t_orders (id, goods_id) values (null, 1);\r\n\r\n-- ä¿®æ”¹å•†å“ status ç‚º 2\r\nupdate t_goods set status=2;\r\n\r\n-- æäº¤è«‹æ±‚\r\ncommit; / commit work;\r\n```\r\n\r\nä½¿ç”¨ `select...for update` çš„æ–¹å¼ï¼Œé€šéé–‹å•Ÿæ’ä»–é–çš„æ–¹å¼å¯¦ç¾æ‚²è§€é–ï¼Œæ­¤æ™‚åœ¨ t_goods è³‡æ–™è¡¨ä¸­ï¼Œid ç‚º 1 çš„è³‡æ–™æœƒè¢«é–å®šï¼Œå…¶ä»–çš„è«‹æ±‚å¿…é ˆå¾…æœ¬æ¬¡è«‹æ±‚æäº¤å¾Œæ‰èƒ½åŸ·è¡Œã€‚\r\næ³¨æ„ï¼Œä½¿ç”¨ `select...for update` æœƒæŠŠæ•¸æ“šé–ä½ï¼Œé ˆæ³¨æ„é–çš„ç´šåˆ¥ï¼ŒMySQL InnoDB é è¨­ç‚ºè¡Œç´šé–(è¨» 1)ã€‚è¡Œç´šé–æ˜¯åŸºæ–¼æ‰€ç´¢å¼•çš„ï¼Œè‹¥ä¸€æ¢ sql èªå¥æœªä½¿ç”¨ç´¢å¼•ï¼Œå‰‡ mysql æœƒä½¿ç”¨è¡¨ç´šé–(è¨» 2)å°‡æ•´å¼µè³‡æ–™è¡¨é–ä½ã€‚\r\n\r\n**è¨» 1**ï¼šè¡Œç´šé–(row-level locking)ï¼Œ mysql ä¸­é–å®šçš„æœ€å°å–®ä½ï¼Œåªé‡å°ç›®å‰æ“ä½œçš„è³‡æ–™è©²è¡Œé€²è¡ŒåŠ é–ã€‚è¡Œé–å¯å¤§å¹…æ¸›ä½è³‡æ–™åº«æ“ä½œçš„è¡çªï¼Œç¼ºé»ç‚ºï¼šé–‹éŠ·å¤§ã€åŠ é–æ…¢ã€æœƒå‡ºç¾æ­»é–ã€‚\r\n**è¨» 2**ï¼šè¡¨ç´šé–(table-level locking)ï¼Œ mysql ä¸­æœ€å¤§çš„é–å®šå–®ä½ï¼Œæœƒå°‡ç›®å‰æ“ä½œçš„æ•´å¼µè¡¨é€²è¡ŒåŠ é–ï¼Œé–‹éŠ·å°ã€åŠ é–å¿«ã€ä¸æœƒå‡ºç¾æ­»é–ï¼Œä½†ç™¼å‡ºé–è¡çªçš„æ©Ÿç‡æœ€é«˜ã€‚\r\n**è¨» 3**ï¼šæ­»é–(deadlock)ï¼Œå…©å€‹æˆ–å¤šå€‹åŸ·è¡Œç·’ç”±æ–¼äº’ç›¸ç­‰å¾…ï¼Œè€Œæ°¸é è¢«é˜»å¡çš„æƒ…æ³ã€‚\r\n\r\n### å„ªé»èˆ‡ä¸è¶³\r\n\r\næ‚²è§€ä½µç™¼æ§åˆ¶å¯¦éš›æ¡å– \"å…ˆå–é–å†è¨ªå•\" çš„ä¿å®ˆç­–ç•¥ã€‚åœ¨æ•ˆç‡æ–¹é¢ï¼Œè™•ç†åŠ é–çš„æ©Ÿåˆ¶æœƒè®“è³‡æ–™åº«ç”¢ç”Ÿé¡å¤–çš„è² æ“”ï¼Œé‚„æœ‰å¢åŠ ç”¢ç”Ÿæ­»é–çš„æ©Ÿæœƒã€‚ä¹Ÿå¢åŠ äº†ä½µè¡Œæ€§ï¼Œä¸€å€‹è«‹æ±‚è‹¥é–å®šäº†æŸè¡Œè³‡æ–™ï¼Œå…¶ä»–è«‹æ±‚å‰‡éœ€ç­‰å¾…æ­¤è«‹æ±‚çµæŸæ‰å¯ä»¥è™•ç†è©²è¡Œè³‡æ–™\r\n\r\n## æ¨‚è§€é–\r\n\r\næ¨‚è§€é–å‡è¨­å¤šç”¨æˆ¶ä½µç™¼çš„è«‹æ±‚ï¼Œä¸æœƒäº’ç›¸å½±éŸ¿ã€‚è«‹æ±‚å¯ä»¥åœ¨ä¸ç”¢ç”Ÿé–çš„æƒ…æ³ä¸‹ï¼Œè™•ç†å„è‡ªå½±éŸ¿çš„é‚£éƒ¨åˆ†æ•¸æ“šã€‚åœ¨æäº¤è³‡æ–™å‰ï¼Œæ¯å€‹è«‹æ±‚æœƒå…ˆæª¢æŸ¥åœ¨è©²è«‹æ±‚è®€å–æ•¸æ“šå¾Œï¼Œæœ‰æ²’æœ‰å…¶ä»–è«‹æ±‚åˆæ”¹äº†è©²ç­†è³‡æ–™ã€‚å¦‚æœå…¶ä»–è«‹æ±‚æœ‰æ›´æ–°è©²ç­†è³‡æ–™ï¼Œæ­£åœ¨æäº¤çš„è«‹æ±‚æœƒé€²è¡Œå›æ»¾ã€‚\r\n\r\nç›¸è¼ƒæ–¼æ‚²è§€é–è€Œè¨€ï¼Œæ¨‚è§€é–èªç‚ºæ•¸æ“šä¸€èˆ¬æƒ…æ³ä¸‹ä¸æœƒç”¢ç”Ÿè¡çªï¼Œé–é–åœ¨è³‡æ–™é€²è¡Œæäº¤æ›´æ–°çš„æ™‚å€™ï¼Œæ‰æœƒæœ€è³‡æ–™æ˜¯å¦è¡çªé€²è¡Œæª¢æŸ¥ã€‚ç•¶ç™¼ç¾è¡çªæ™‚ï¼Œè¿”å›éŒ¯èª¤è¨Šæ¯ï¼Œè®“ä½¿ç”¨è€…æ±ºå®šå¦‚ä½•è™•ç†ã€‚\r\nå¤§å¤šå¯¦ç¾æ¨‚è§€é–çš„æ–¹å¼ç‚ºè¨˜éŒ„è³‡æ–™ç‰ˆæœ¬ï¼Œä¸¦ä¸æœƒå°è³‡æ–™è¡¨é€²è¡ŒåŠ é–ã€‚\r\n\r\nå¯¦ç¾ç´€éŒ„è³‡æ–™ç‰ˆæœ¬æœ‰å…©ç¨®æ–¹å¼ï¼Œä¸€ç‚ºä½¿ç”¨ç‰ˆæœ¬è™Ÿï¼ŒäºŒç‚ºä½¿ç”¨æ™‚é–“æˆ³ã€‚\r\n\r\n### ä½¿ç”¨ç‰ˆæœ¬è™Ÿ\r\n\r\nå¯ä»¥åœ¨è³‡æ–™åˆå§‹åŒ–æ™‚æŒ‡å®šä¸€å€‹ç‰ˆæœ¬è™Ÿï¼Œæ¯æ¬¡å°è³‡æ–™çš„æ›´æ–°æ“ä½œéƒ½æœƒå°ç‰ˆè™Ÿé€²è¡Œ +1ï¼Œä¸¦åˆ¤æ–·ç›®å‰ç‰ˆè™Ÿæ˜¯ä¸æ˜¯è©²ç­†è³‡æ–™çš„æœ€æ–°ç‰ˆè™Ÿã€‚\r\n\r\n```sql\r\n-- æŸ¥è©¢å‡ºå•†å“è¨Šæ¯\r\nselect (status, status, version) from t_goods where id=#{id};\r\n\r\n-- æ ¹æ“šå•†å“è¨Šæ¯ç”¢ç”Ÿè¨‚å–®\r\n-- ä¿®æ”¹å•†å“ status ç‚º 2\r\n\r\nupdate t_goods set status=2, version=version+1\r\nwhere id=#{id} and version=#{version};\r\n```\r\n\r\n### å„ªé»èˆ‡ä¸è¶³\r\n\r\næ¨‚è§€ä½µç™¼æ§åˆ¶ç›¸ä¿¡è«‹æ±‚ä¹‹é–“çš„è³‡æ–™ç«¶çˆ­(data race)çš„æ©Ÿç‡å°ï¼Œå› æ­¤ç›´åˆ°æäº¤æ™‚æ‰é€²è¡Œé–å®šï¼Œå› æ­¤ä¸æœƒç”¢ç”Ÿä»»ä½•é–èˆ‡æ­»é–å•é¡Œã€‚ä½†ä»ç„¶æœ‰å¯èƒ½é‡åˆ°ä¸å¯é æœŸçš„çµæœï¼Œä¾‹å¦‚ï¼šå…©å€‹è«‹æ±‚éƒ½è®€å–è³‡æ–™åº«çš„æŸä¸€è¡Œä¸¦åŠ ä»¥ä¿®æ”¹å¾Œå¯«å…¥è³‡æ–™åº«ï¼Œæ­¤æ™‚å°±æœƒç™¼ç”Ÿè³‡æ–™è¡çªã€‚\r\n\r\n## é–å®šå½¢å¼\r\n\r\n### å…±äº«é–\r\n\r\nåˆç¨±ç‚ºè®€é–ï¼Œå…¶ä»–çš„ä½¿ç”¨è€…å¯ä»¥ä½µç™¼è®€å–è³‡æ–™ï¼Œä½†æ˜¯ç„¡æ³•ä¿®æ”¹å’Œåˆªé™¤ï¼Œè‹¥ä¸€è«‹æ±‚å°æŸè³‡æ–™å¢åŠ å…±äº«é–ï¼Œå‰‡å…¶ä»–è«‹æ±‚åªèƒ½å°è©²è³‡æ–™å¢åŠ å…±äº«é–ï¼Œä¸èƒ½åŠ æ’ä»–é–ã€‚\r\n\r\n### æ’ä»–é–\r\n\r\nåˆç¨±å¯«é–ï¼Œç¨ä½”é–ã€‚è‹¥ä¸€äº‹å‹™å°æŸè³‡æ–™åŠ ä¸Šæ’ä»–é–ï¼Œå‰‡åªå…è¨±æ­¤ä¸€äº‹å‹™è®€å–å’Œä¿®æ”¹æ­¤è³‡æ–™ï¼Œå…¶ä»–ä»»ä½•é¡å‹çš„äº‹å‹™éƒ½ä¸èƒ½åœ¨æ­¤ä¸€è³‡æ–™åŠ ä¸Šä»»ä½•é¡å‹çš„é–ï¼Œç›´åˆ°æ­¤äº‹å‹™é‡‹æ”¾è³‡æ–™ä¸Šçš„é–ã€‚ä¿è­‰å…¶ä»–äº‹å‹™åœ¨ä¸Šé–æœŸé–“ä¸èƒ½è®€å–æˆ–ä¿®æ”¹è©²ç­†è³‡æ–™ã€‚\r\n","date":"2022-12-13T07:44:50.704Z","matchingLines":["## æ‚²è§€é–\r","## æ¨‚è§€é–\r","## é–å®šå½¢å¼\r"],"tocContent":""},{"name":"å¤šç·šç¨‹èˆ‡å¤šé€²ç¨‹.md","content":"# å¤šåŸ·è¡Œç·’èˆ‡å¤šé€²ç¨‹\r\n\r\n> é€²ç¨‹æ˜¯è³‡æºåˆ†é…çš„æœ€å°å–®ä½ï¼ŒåŸ·è¡Œç·’æ˜¯ CPU èª¿åº¦çš„æœ€å°å–®ä½\r\n\r\n## åŸºæœ¬æ¦‚å¿µ\r\n\r\n### ç¨‹å¼ (ç¨‹åº/Program)\r\n\r\nç‚ºå®Œæˆç‰¹åœ°ä»»å‹™ï¼Œç”¨æŸç¨®èªè¨€ç·¨å¯«æˆçš„ä¸€çµ„æŒ‡ä»¤çš„é›†åˆã€‚æŒ‡çš„æ˜¯ä¸€æ®µéœæ…‹çš„ç¨‹å¼ç¢¼ï¼Œéœæ…‹çš„ç‰©ä»¶ã€‚\r\n\r\n### ç¨‹åº (é€²ç¨‹/Process)\r\n\r\nç‚ºåŸ·è¡Œç¨‹å¼ä¸€æ¬¡çš„éç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨åŸ·è¡Œçš„ä¸€å€‹ç¨‹å¼ã€‚æ˜¯ä¸€å€‹å‹•æ…‹çš„éç¨‹ï¼šä»–æœ‰è‡ªå·±ç”Ÿæˆã€å­˜åœ¨èˆ‡æ¶ˆäº¡çš„éç¨‹ã€‚\r\n\r\nç¨‹å¼æ˜¯éœæ…‹çš„ï¼Œç¨‹åºæ˜¯å‹•æ…‹çš„ï¼Œç¨‹åºä½œç‚ºè³‡æºåˆ†é…çš„å–®ä½ï¼Œç³»çµ±åœ¨åŸ·è¡Œæ™‚æœƒç‚ºæ¯å€‹ç¨‹åºï¼Œåˆ†é…ä¸åŒçš„å…§å­˜å€åŸŸã€‚\r\n\r\n### åŸ·è¡Œç·’ (ç·šç¨‹/thread)\r\n\r\nç¨‹åºå¯ä»¥é€²ä¸€æ­¥ç´°åˆ†ç‚ºåŸ·è¡Œç·’ï¼Œæ˜¯ä¸€å€‹ç¨‹å¼å…§éƒ¨çš„ä¸€å€‹æ¬¡ç¨‹å¼ã€‚\r\n\r\n- è‹¥ä¸€å€‹ç¨‹åºåŒä¸€æ™‚é–“ä¸¦è¡ŒåŸ·è¡Œå¤šå€‹åŸ·è¡Œç·’ï¼Œå°±æ˜¯æ”¯æ´å¤šåŸ·è¡Œç·’ã€‚\r\n- åŸ·è¡Œç·’ä½œç‚ºèª¿åº¦å’ŒåŸ·è¡Œçš„å–®ä½ï¼Œæ¯å€‹åŸ·è¡Œç·’æ“æœ‰ç¨ç«‹çš„\\*åŸ·è¡Œæ£§(execution stack)å’Œ\\*ç¨‹å¼è¨ˆæ•¸å™¨(Program Counter)ï¼ŒåŸ·è¡Œç·’åˆ‡æ›çš„é–‹éŠ·å°ã€‚\r\n- å¤šå€‹åŸ·è¡Œç·’ï¼Œå…±äº«ä¸€å€‹ç¨‹åºä¸­çµæ§‹ï¼šæ–¹æ³•å€ã€å †ç–Šã€‚\r\n\r\n- è¨»ï¼š\r\n  - åŸ·è¡Œå †ç–Š(åŸ·è¡Œæ£§/execution stack) å„²å­˜æœ‰é—œæ­£åœ¨åŸ·è¡Œçš„å­ç¨‹å¼å…¶è¨Šæ¯çš„å †ç–Šï¼Œåœ¨å‘¼å«ä»»ä½•å­ç¨‹å¼æ™‚ï¼Œä¸»ç¨‹å¼éƒ½å¿…é ˆæš«å­˜å­ç¨‹å¼åŸ·è¡Œå®Œç•¢å¾Œæ‡‰è©²è¿”å›çš„åœ°å€ã€‚å› æ­¤è‹¥è¢«å‘¼å«çš„å­ç¨‹å¼é‚„è¦å‘¼å«å…¶ä»–å­ç¨‹å¼ï¼Œå…¶è‡ªèº«è¿”å›çš„åœ°å€å°±å¿…é ˆå­˜å…¥åŸ·è¡Œå †ç–Šï¼Œåœ¨å…¶è‡ªèº«åŸ·è¡Œå®Œç•¢å¾Œå†å–å‡ºã€‚\r\n  - ç¨‹å¼è¨ˆæ•¸å™¨(Program Counter)\r\n    - ç´€éŒ„ç¨‹å¼åŸ·è¡Œä¸­çš„ç‹€æ…‹\r\n    - è¨˜éŒ„ä¸‹ä¸€å€‹æŒ‡ä»¤çš„ä½å…ƒå€\r\n    - ç´€éŒ„ç¨‹å¼åŸ·è¡Œå®Œç•¢çš„æŒ‡ä»¤\r\n    - ç´€éŒ„ç¨‹å¼åŸ·è¡Œå®Œæˆçš„æ™‚é–“\r\n\r\n## å¤šåŸ·è¡Œç·’èˆ‡å¤šé€²ç¨‹çš„é¸æ“‡èˆ‡å€åˆ¥\r\n\r\n|                | å¤šé€²ç¨‹                                             | å¤šåŸ·è¡Œç·’                                                     | çµè«–       |\r\n| -------------- | -------------------------------------------------- | ------------------------------------------------------------ | ---------- |\r\n| æ•¸æ“šå…±äº«ã€åŒæ­¥ | æ•¸æ“šå…±äº«è¤‡é›œï¼Œéœ€è¦ç”¨åˆ° IPCï¼›æ•¸æ“šæ˜¯åˆ†é–‹çš„ï¼ŒåŒæ­¥ç°¡å–® | å› ç‚ºå…±äº«é€²ç¨‹æ•¸æ“šï¼Œæ•¸æ“šå…±äº«ç°¡å–®ï¼Œä½†ä¹Ÿå› ç‚ºé€™å€‹åŸå› å°è‡´åŒæ­¥è¤‡é›œ | å„æœ‰å„ªå‹¢   |\r\n| å…§å­˜ã€CPU      | ä½”ç”¨å…§å­˜å¤šï¼Œåˆ‡æ›è¤‡é›œï¼ŒCPU åˆ©ç”¨ç‡ä½                 | ä½”ç”¨å…§å­˜å°‘ï¼Œåˆ‡æ›ç°¡å–®ï¼ŒCPU åˆ©ç”¨ç‡é«˜                           | åŸ·è¡Œç·’å„ªå‹¢ |\r\n| å»ºç«‹éŠ·æ¯€ã€åˆ‡æ› | å»ºç«‹èˆ‡éŠ·æ¯€åˆ‡æ›è¤‡é›œï¼Œé€Ÿåº¦æ…¢                         | å»ºç«‹èˆ‡éŠ·æ¯€ï¼Œåˆ‡æ›ç°¡å–®ï¼Œé€Ÿåº¦å¿«                                 | åŸ·è¡Œç·’å„ªå‹¢ |\r\n| ç¨‹å¼è¨­è¨ˆã€é™¤éŒ¯ | ç¨‹å¼è¨­è¨ˆç°¡å–®ï¼Œé™¤éŒ¯ç°¡å–®                             | ç¨‹å¼è¨­è¨ˆè¤‡é›œï¼Œé™¤éŒ¯è¤‡é›œ                                       | é€²ç¨‹å„ªå‹¢   |\r\n| å¯é æ€§         | é€²ç¨‹é–“ä¸æœƒäº’ç›¸å½±éŸ¿                                 | ä¸€å€‹åŸ·è¡Œç·’æ›æ‰æ•™æœƒå°è‡´æ•´å€‹é€²ç¨‹æ›æ‰                           | é€²ç¨‹å„ªå‹¢   |\r\n| åˆ†å¸ƒå¼         | é©æ‡‰æ–¼å¤šæ ¸ã€å¤šæ©Ÿåˆ†å¸ƒå¼ï¼Œæ“´å±•åˆ°å¤šå°æ©Ÿå™¨æ¯”è¼ƒç°¡å–®     | é©æ‡‰æ–¼å¤šæ ¸åˆ†å¸ƒå¼                                             | é€²ç¨‹å„ªå‹¢   |\r\n\r\n### é¸æ“‡æƒ…å¢ƒ\r\n\r\n- éœ€è¦é »ç¹å»ºç«‹èˆ‡éŠ·æ¯€ => å¤šåŸ·è¡Œç·’\r\n\r\n  - å¸¸è¦‹æ–¼ web ä¼ºæœå™¨ï¼Œä¸€å€‹æ–°çš„é€£ç·šå»ºç«‹ä¸€å€‹åŸ·è¡Œç·’ï¼Œé€£ç·šæ–·äº†å°±éŠ·æ¯€åŸ·è¡Œç·’ã€‚\r\n\r\n- éœ€è¦é€²è¡Œå¤§é‡è¨ˆç®— => åŸ·è¡Œç·’\r\n\r\n  - æ¶ˆè€—å¤§é‡ CPUï¼Œåˆ‡æ›é »ç¹ï¼Œå¦‚ï¼šåœ–åƒè™•ç†ã€ç®—æ³•è™•ç†ã€‚\r\n\r\n- å¼·ç›¸é—œçš„è™•ç† => åŸ·è¡Œç·’ã€å¼±ç›¸é—œçš„è™•ç† => é€²ç¨‹\r\n\r\n  - ä¸€èˆ¬ server çš„ä»»å‹™ï¼Œå¦‚ï¼š`è³‡æ–™æ”¶ç™¼`ã€`è³‡æ–™è™•ç†`ã€‚`è³‡æ–™æ”¶ç™¼`èˆ‡`è³‡æ–™è™•ç†`ç‚ºå¼±ç›¸é—œçš„ä»»å‹™ï¼Œè€Œ`è³‡æ–™è™•ç†`åˆå¯åˆ†ç‚º`è³‡æ–™è§£ç¢¼`ã€`æ¥­å‹™è™•ç†`ï¼Œé€™å…©å€‹ä»»å‹™ç›¸è¼ƒä¹‹ä¸‹é—œè¯æ€§è¼ƒå¼·ã€‚å› æ­¤`è³‡æ–™æ”¶ç™¼`èˆ‡`è³‡æ–™è™•ç†`å¯ä»¥åˆ†é€²ç¨‹è¨­è¨ˆï¼Œ`è³‡æ–™è§£ç¢¼`èˆ‡`æ¥­å‹™è™•ç†`å¯ä»¥åˆ†åŸ·è¡Œç·’è¨­è¨ˆã€‚\r\n\r\n- å¯èƒ½è¦æ“´å±•åˆ°å¤šæ©Ÿåˆ†å¸ƒçš„ => é€²ç¨‹ã€å¤šæ ¸åˆ†å¸ƒçš„ => åŸ·è¡Œç·’\r\n\r\n## PHP ç’°å¢ƒä¸‹çš„å¤šç¨‹åºèˆ‡å¤šåŸ·è¡Œç·’\r\n\r\nPHP ç‚ºå–®é€²ç¨‹åŒæ­¥æ¨¡å‹ï¼Œä¸€å€‹è«‹æ±‚å°æ‡‰ä¸€å€‹é€²ç¨‹ï¼ŒI/O(input/output)æ˜¯åŒæ­¥é˜»å¡çš„ï¼Œ\r\n","date":"2022-10-24T07:41:27.648Z","matchingLines":["## åŸºæœ¬æ¦‚å¿µ\r","## å¤šåŸ·è¡Œç·’èˆ‡å¤šé€²ç¨‹çš„é¸æ“‡èˆ‡å€åˆ¥\r","## PHP ç’°å¢ƒä¸‹çš„å¤šç¨‹åºèˆ‡å¤šåŸ·è¡Œç·’\r"],"tocContent":""},{"name":"Markdown å­¸ç¿’ç­†è¨˜.md","content":"# Markdown å­¸ç¿’ç­†è¨˜\r\n\r\n## Markdown ç¨‹å¼ç¢¼å€å¡Šå¯å®£å‘Šçš„ç¨‹å¼èªè¨€\r\n\r\n| èªè¨€åç¨±   | Markdown èªè¨€å®£å‘Š                 | å¸¸è¦‹æª”å                 |\r\n| ---------- | --------------------------------- | ------------------------ |\r\n| ApacheConf | apacheconf, aconf, apache         | \\*.apacheconf, .htaccess |\r\n| Blade      | blade                             | \\*.blade                 |\r\n| CSS        | css                               | \\*.css                   |\r\n| Git Config | git-config, gitconfig, gitmodules | \\*.gitconfig, .gitconfig |\r\n| HTML       | html, xhtml                       | \\*.html                  |\r\n| HTML+PHP   | html+php                          | \\*.phtml                 |\r\n| HTTP       | http                              | \\*.http                  |\r\n| JSON       | json                              | \\*.json, .arcconfig      |\r\n| JavaScript | javascript, js, node              | \\*.js, Jakefile          |\r\n| Makefile   | makefile, bsdmake, make, mf       | \\*.mak, BSDmakefile      |\r\n| Markdown   | markdown, pandoc                  | \\*.md, contents.lr       |\r\n| Nginx      | nginx                             | \\*.nginxconf, nginx.conf |\r\n| PHP        | php, inc                          | \\*.php, .php             |\r\n| Text       | text, fundamental                 | \\*.txt, COPYING          |\r\n| Vue        | vue                               | \\*.vue                   |\r\n","date":"2022-10-17T05:01:09.977Z","matchingLines":["## Markdown ç¨‹å¼ç¢¼å€å¡Šå¯å®£å‘Šçš„ç¨‹å¼èªè¨€\r"],"tocContent":""},{"name":"Laravel è¡¨å–®é©—è­‰.md","content":"# Laravel è¡¨å–®é©—è­‰\r\n\r\n## åŸºç¤é©—è­‰æ–¹æ³• `validate()`\r\n\r\n```php\r\n$validatedData = $request->validate([\r\n    'title' => ['required', 'unique:posts', 'max:255'],\r\n    'body' => ['required'],\r\n]);\r\n```\r\n\r\nä¹Ÿå¯ä»¥ä½¿ç”¨ `validateWithBag()` ä¾†è«‹æ±‚é©—è­‰ï¼Œä¸¦å°‡æ‰€æœ‰éŒ¯èª¤è¨Šæ¯ï¼Œå„²å­˜åœ¨ä¸€å€‹å‘½åéŒ¯èª¤è¨Šæ¯åŒ…\r\n\r\n```php\r\n$validatedData = $request->validateWithBag('post', [\r\n    'title' => ['required', 'unique:posts', 'max:255'],\r\n    'body' => ['required'],\r\n]);\r\n```\r\n\r\nåœ¨é©—è­‰è¦å‰‡ä¸­ï¼ŒåŠ å…¥ bailï¼Œå¦‚æœæŸå€‹å­—ä¸²åœ¨ç¬¬ä¸€æ¬¡é©—è­‰å¤±æ•—ä¹‹å¾Œï¼Œå°±ç«‹å³åœæ­¢é©—è­‰ã€‚\r\n\r\n```php\r\n$request->validate([\r\n    'title' => 'bail|required|unique:posts|max:255',\r\n    'body' => 'required',\r\n]);\r\n// å¦‚æœtitleæ²’é€šéuniqueçš„è¦å‰‡ï¼Œé‚£éº¼å°±ä¸æœƒå† ç¹¼çºŒé©—è­‰maxè¦å‰‡\r\n```\r\n\r\nå¦‚æœä½ çš„ HTTP è«‹æ±‚ï¼ŒåŒ…é‚„åµŒå¥—åƒæ•¸(æ¯”å¦‚é™£åˆ—)ï¼Œä½ å¯ä»¥åœ¨é©—è­‰è¦å‰‡ä¸­ä½¿ç”¨ã€Œé»ã€èªæ³•ï¼Œä¾†æŒ‡å®šé€™äº›åƒæ•¸\r\n\r\n```php\r\n$request->validate([\r\n    'title' => 'required|unique:posts|max:255',\r\n    'author.name' => 'required',\r\n    'author.description' => 'required',\r\n]);\r\n```\r\n\r\nå¦‚æœä½ çš„å­—æ®µåç¨±åŒ…å«é»ï¼Œå‰‡å¯ä»¥ä½¿ç”¨è·³è„«ç¬¦è™Ÿ\r\n\r\n```php\r\n$request->validate([\r\n    'title' => 'required|unique:posts|max:255',\r\n    'v1\\.0' => 'required',\r\n]);\r\n```\r\n\r\n## [å¸¸ç”¨è¦å‰‡](https://learnku.com/docs/laravel/8.x/validation/9374)\r\n","date":"2022-10-03T01:16:56.845Z","matchingLines":["## åŸºç¤é©—è­‰æ–¹æ³• `validate()`\r","## [å¸¸ç”¨è¦å‰‡](https://learnku.com/docs/laravel/8.x/validation/9374)\r"],"tocContent":""},{"name":"Laravel HTTP Client.md","content":"# laravel HTTP Client\r\n\r\n> laravel é€é Guzzle é€™å€‹å¥—ä»¶ï¼Œæ¨¡æ“¬ http client ä¾†ç™¼é€ request\r\n> é è¨­æƒ…æ³ä¸‹ï¼Œlaravel å·²ç¶“è‡ªå‹•åŒ…å«äº†é€™å€‹å¥—ä»¶ã€‚\r\n> è‹¥å°šæœªå®‰è£ï¼Œå¯é€é composer å†å®‰è£ä¸€æ¬¡ã€‚\r\n>\r\n> ```bash\r\n> composer require guzzlehttp/guzzle\r\n> ```\r\n\r\n## å»ºç«‹ request\r\n\r\nå»ºç«‹åŸºç¤çš„ GET request\r\n\r\n```php\r\nuse Illuminate\\Support\\Facades\\Http;\r\n\r\n$response = Http::get('http://example.com');\r\n```\r\n\r\nå¯ä»¥ç›´æ¥å°‡æŸ¥è©¢å­—ä¸²(query string)åŠ åˆ° URL ä¸Šï¼Œæˆ–æ˜¯å‚³å…¥ä¸€çµ„ç´¢å¼•éµ/å€¼é…å°çš„é™£åˆ—ä½œç‚º get çš„ç¬¬äºŒå€‹å¼•æ•¸\r\n\r\n```php\r\n$response = Http::get('http://example.com/users', [\r\n    'name' => 'Taylor',\r\n    'page' => 1,\r\n]);\r\n```\r\n\r\nget æ–¹æ³•æœƒå›å‚³ Illuminate\\Http\\Client\\Response çš„å¯¦é«”ï¼Œè©²å¯¦é«”æä¾›äº†è¨±å¤šç”¨ä¾†å–å¾— Response è³‡è¨Šçš„æ–¹æ³•ï¼š\r\n\r\n```php\r\n$response->body() : string;\r\n$response->json($key = null) : array|mixed;\r\n$response->object() : object;\r\n$response->collect($key = null) : Illuminate\\Support\\Collection;\r\n$response->status() : int;\r\n$response->ok() : bool;\r\n$response->successful() : bool;\r\n$response->redirect(): bool;\r\n$response->failed() : bool;\r\n$response->serverError() : bool;\r\n$response->clientError() : bool;\r\n$response->header($header) : string;\r\n$response->headers() : array;\r\n```\r\n\r\nPOST PUT PATCH ç­‰ HTTP action å‚³é€é¡å¤–è³‡æ–™ï¼Œä¸€èˆ¬æƒ…æ³ä¸‹ï¼Œè³‡æ–™æœƒä½¿ç”¨ json çš„è³‡æ–™å‹åˆ¥ä¾†å‚³é\r\n\r\n```php\r\nuse Illuminate\\Support\\Facades\\Http;\r\n\r\n$response = Http::post('http://example.com/users', [\r\n    'name' => 'Steve',\r\n    'role' => 'Network Administrator',\r\n]);\r\n```\r\n\r\nè‹¥æƒ³ç”¨ x-www-form-urlencoded ä¾†å‚³é€è³‡æ–™ï¼Œè¦åœ¨å»ºç«‹ request å‰å‘¼å« asForm() æ–¹æ³•\r\n\r\n```php\r\n$response = Http::asForm()->post('http://example.com/users', [\r\n    'name' => 'Sara',\r\n    'role' => 'Privacy Consultant',\r\n]);\r\n```\r\n\r\n## éŒ¯èª¤è™•ç†\r\n\r\nlaravel HTTP client ä¸æœƒåœ¨ client ç«¯æˆ–æ˜¯ server ç«¯éŒ¯èª¤æ™‚æ‹‹å‡ºç•°å¸¸(status code 400 or 500)ã€‚\r\n\r\næ­¤æ™‚å¯ä»¥é€é successful, clientError æˆ–æ˜¯ serverError æ–¹æ³•ä¾†åˆ¤æ–·æ˜¯å¦ç™¼ç”ŸéŒ¯èª¤ã€‚\r\n\r\n```php\r\n// è‹¥ status code åœ¨200 ~ 300\r\n$response->successful();\r\n\r\n// è‹¥ status code å¤§æ–¼ 400\r\n$response->failed();\r\n\r\n// è‹¥ status code ç‚º400å±¤ç´šçš„éŒ¯èª¤\r\n$response->clientError();\r\n\r\n// è‹¥ status code ç‚º500å±¤ç´šçš„éŒ¯èª¤\r\n$response->serverError();\r\n```\r\n","date":"2022-10-03T01:16:56.842Z","matchingLines":["## å»ºç«‹ request\r","## éŒ¯èª¤è™•ç†\r"],"tocContent":""},{"name":"Hyper-v è¨­å®š.md","content":"# Hyper-v è¨­å®š\r\n\r\n- [åƒè€ƒè³‡æ–™](https://ithelp.ithome.com.tw/articles/10128382)\r\n\r\n## è™›æ“¬äº¤æ›å™¨\r\n\r\n- å¤–éƒ¨ç¶²è·¯ï¼šè®“è™›æ“¬æ©Ÿå™¨å¯ä»¥èˆ‡å¤–éƒ¨ç¶²è·¯é€£ç·šï¼Œç°¡å–®èªªå°±æ˜¯èˆ‡ host ä¸»æ©Ÿå…±ç”¨å¯¦é«”ç¶²è·¯å¡\r\n- å…§éƒ¨ç¶²è·¯ï¼šå¯è®“ Host ä¸»æ©Ÿèˆ‡è™›æ“¬æ©Ÿå™¨æºé€š\r\n- ç§äººç¶²è·¯ï¼šè®“è™›æ“¬æ©Ÿå™¨å½¼æ­¤å¯ä»¥æºé€šï¼Œèˆ‡å¤–éƒ¨ç¶²è·¯éš”é›¢\r\n","date":"2022-10-03T01:16:56.840Z","matchingLines":["## è™›æ“¬äº¤æ›å™¨\r"],"tocContent":""},{"name":"Bootstrap å­¸ç¿’ç­†è¨˜.md","content":"# Bootstrap å­¸ç¿’ç­†è¨˜\r\n\r\n###### tags: `å‰ç«¯` `Bootstrap`\r\n\r\n## html å¼•å…¥\r\n\r\n```html\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <link rel=\"stylesheet\" href=\"../_css/bootstrap.min.css\" />\r\n  <script src=\"../_js/jquery.min.js\"></script>\r\n  <script src=\"../_js/popper.min.js\"></script>\r\n  <script src=\"../_js/bootstrap.min.js\"></script>\r\n  <title>Document</title>\r\n</head>\r\n```\r\n\r\n## è¡¨æ ¼\r\n\r\n```html\r\n<div class=\"row\">\r\n  <div class=\"col-6\"></div>\r\n  <div class=\"col-6\"></div>\r\n</div>\r\n```\r\n\r\n## éƒ¨åˆ†é¡è‰²åç¨±\r\n\r\n- primary ä¸»è¦çš„\r\n- secondary å‰¯æ¨™\r\n- success æˆåŠŸ\r\n- danger å±éšª\r\n- warning è­¦å‘Š\r\n- info è¨Šæ¯\r\n- light æ˜äº®(å¸¶æœ‰æ·ºé‚Šæ¡†)\r\n- dark æ·±è‰²\r\n- white ç™½è‰²\r\n\r\n## æ”¹è®Šå­—å‹çš„å¤–è§€\r\n\r\n- font-weight-bold\r\n- font-weight-normal\r\n- font-weight-light\r\n- fon-italic(æ–œé«”)\r\n\r\n## æ–‡å­—ä½ç½®è¨­å®š\r\n\r\n- text-left\r\n- text-center\r\n- text-right\r\n\r\n## è¼ªæ’­ç‰†\r\n\r\n```html\r\n<div id=\"mydemo1\" class=\"carousel slide\" data-ride=\"carousel\">\r\n  <ol class=\"carousel-indicators\">\r\n    <li data-target=\"#mydemo1\" data-slide-to=\"0\" class=\"active\"></li>\r\n    <li data-target=\"#mydemo1\" data-slide-to=\"1\"></li>\r\n    <li data-target=\"#mydemo1\" data-slide-to=\"2\"></li>\r\n  </ol>\r\n  <div class=\"carousel-inner\">\r\n    <div class=\"carousel-item active\">\r\n      <img src=\"https://dummyimage.com/1200x300/00ff5e/ffffff\" alt=\"\" />\r\n    </div>\r\n    <div class=\"carousel-item\">\r\n      <img src=\"https://dummyimage.com/1200x300/ff8400/ffffff\" alt=\"\" />\r\n    </div>\r\n    <div class=\"carousel-item\">\r\n      <img src=\"https://dummyimage.com/1200x300/f057c5/ffffff\" alt=\"\" />\r\n    </div>\r\n  </div>\r\n  <a\r\n    class=\"carousel-control-prev\"\r\n    href=\"#mydemo1\"\r\n    role=\"button\"\r\n    data-slide=\"prev\"\r\n  >\r\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n    <span class=\"sr-only\">Previous</span>\r\n  </a>\r\n  <a\r\n    class=\"carousel-control-next\"\r\n    href=\"#mydemo1\"\r\n    role=\"button\"\r\n    data-slide=\"next\"\r\n  >\r\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n    <span class=\"sr-only\">Next</span>\r\n  </a>\r\n</div>\r\n```\r\n\r\n## drop down\r\n\r\n```html\r\n<li class=\"nav-item dropup\">\r\n  <a class=\"nav-link active \" id=\"navbardrop\" data-toggle=\"dropdown\">\r\n    çˆç²é«”é©—\r\n  </a>\r\n  <div class=\"dropdown-menu\">\r\n    <a class=\"dropdown-item\" href=\"#\"> æ‰‹æ²–çˆç² </a>\r\n    <a class=\"dropdown-item\" href=\"#\"> çˆç²ç‰¹èª¿é«”é©— </a>\r\n    <a class=\"dropdown-item\" href=\"#\"> æ‹¿éµæ‹‰èŠ± </a>\r\n  </div>\r\n</li>\r\n```\r\n\r\n","date":"2022-10-03T01:16:56.839Z","matchingLines":["## html å¼•å…¥\r","## è¡¨æ ¼\r","## éƒ¨åˆ†é¡è‰²åç¨±\r","## æ”¹è®Šå­—å‹çš„å¤–è§€\r","## æ–‡å­—ä½ç½®è¨­å®š\r","## è¼ªæ’­ç‰†\r","## drop down\r"],"tocContent":""}]